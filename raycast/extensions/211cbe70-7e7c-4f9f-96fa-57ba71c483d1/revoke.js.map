{
  "version": 3,
  "sources": ["../src/revoke.ts", "../src/utils.ts"],
  "sourcesContent": ["import { showHUD } from \"@raycast/api\";\nimport { getPrivilegesClient, showInstallToast } from \"./utils\";\n\nexport default async function main() {\n  const privileges = await getPrivilegesClient();\n  if (!privileges) {\n    await showInstallToast();\n    return;\n  }\n  await privileges.revoke();\n  await showHUD(\"\uD83D\uDD12 Privileges revoked\");\n}\n", "import { join } from \"node:path\";\nimport { PathLike, existsSync } from \"node:fs\";\nimport { Toast, getApplications, open, showToast } from \"@raycast/api\";\nimport { execSync } from \"node:child_process\";\n\nexport async function showInstallToast() {\n  const installToast: Toast.Options = {\n    style: Toast.Style.Failure,\n    title: \"Privileges.app is not installed.\",\n    message: \"Install it from: https://github.com/SAP/macOS-enterprise-privileges\",\n    primaryAction: {\n      title: \"Go to https://github.com/SAP/macOS-enterprise-privileges\",\n      onAction: (toast) => {\n        open(\"https://github.com/SAP/macOS-enterprise-privileges\");\n        toast.hide();\n      },\n    },\n  };\n  await showToast(installToast);\n}\n\nexport async function getPrivilegesClient() {\n  const privilegesApp = (await getApplications()).find((app) => app.bundleId === \"corp.sap.privileges\");\n  if (!privilegesApp) {\n    return null;\n  }\n  const cliPath = join(privilegesApp.path, \"Contents\", \"Resources\", \"PrivilegesCLI\");\n  if (!existsSync(cliPath)) {\n    return null;\n  }\n  return new PrivilegesClient(cliPath);\n}\n\nclass PrivilegesClient {\n  constructor(private cliPath: PathLike) {}\n\n  public async grant() {\n    execSync(`${this.cliPath} --add`);\n  }\n\n  public async revoke() {\n    execSync(`${this.cliPath} --remove`);\n  }\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAwB,wBCAxB,IAAAC,EAAqB,qBACrBC,EAAqC,mBACrCC,EAAwD,wBACxDC,EAAyB,8BAEzB,eAAsBC,GAAmB,CACvC,IAAMC,EAA8B,CAClC,MAAO,QAAM,MAAM,QACnB,MAAO,mCACP,QAAS,sEACT,cAAe,CACb,MAAO,2DACP,SAAWC,GAAU,IACnB,QAAK,oDAAoD,EACzDA,EAAM,KAAK,CACb,CACF,CACF,EACA,QAAM,aAAUD,CAAY,CAC9B,CAEA,eAAsBE,GAAsB,CAC1C,IAAMC,GAAiB,QAAM,mBAAgB,GAAG,KAAMC,GAAQA,EAAI,WAAa,qBAAqB,EACpG,GAAI,CAACD,EACH,OAAO,KAET,IAAME,KAAU,QAAKF,EAAc,KAAM,WAAY,YAAa,eAAe,EACjF,SAAK,cAAWE,CAAO,EAGhB,IAAIC,EAAiBD,CAAO,EAF1B,IAGX,CAEA,IAAMC,EAAN,KAAuB,CACrB,YAAoBD,EAAmB,CAAnB,aAAAA,CAAoB,CAExC,MAAa,OAAQ,IACnB,YAAS,GAAG,KAAK,eAAe,CAClC,CAEA,MAAa,QAAS,IACpB,YAAS,GAAG,KAAK,kBAAkB,CACrC,CACF,EDxCA,eAAOE,GAA8B,CACnC,IAAMC,EAAa,MAAMC,EAAoB,EAC7C,GAAI,CAACD,EAAY,CACf,MAAME,EAAiB,EACvB,OAEF,MAAMF,EAAW,OAAO,EACxB,QAAM,WAAQ,8BAAuB,CACvC",
  "names": ["revoke_exports", "__export", "main", "__toCommonJS", "import_api", "import_node_path", "import_node_fs", "import_api", "import_node_child_process", "showInstallToast", "installToast", "toast", "getPrivilegesClient", "privilegesApp", "app", "cliPath", "PrivilegesClient", "main", "privileges", "getPrivilegesClient", "showInstallToast"]
}
