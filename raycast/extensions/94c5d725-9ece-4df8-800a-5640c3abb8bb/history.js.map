{
  "version": 3,
  "sources": ["../src/history.tsx"],
  "sourcesContent": ["import { List, ActionPanel, Action, Icon, Clipboard, LocalStorage, showHUD, PopToRootType, Detail } from \"@raycast/api\";\nimport { useState, useEffect } from \"react\";\n\ninterface HistoryItem {\n  id: string;\n  originalText: string;\n  shakespearifiedText: string;\n  timestamp: number;\n}\n\nconst copyToClipboard = async (text: string) => {\n  await Clipboard.copy(text);\n  await showHUD(\"Copied!\", { clearRootSearch: true, popToRootType: PopToRootType.Immediate });\n};\n\nconst deleteHistoryItem = async (id: string, setHistoryItems: React.Dispatch<React.SetStateAction<HistoryItem[]>>) => {\n  const storedHistory = await LocalStorage.getItem<string>(\"history\");\n  if (storedHistory) {\n    const parsedHistory = JSON.parse(storedHistory) as HistoryItem[];\n    const updatedHistory = parsedHistory.filter((item) => item.id !== id);\n    await LocalStorage.setItem(\"history\", JSON.stringify(updatedHistory));\n    setHistoryItems(updatedHistory.reverse());\n  }\n  await showHUD(\"Entry deleted\", { clearRootSearch: true, popToRootType: PopToRootType.Immediate });\n};\n\nexport default function Command() {\n  const [historyItems, setHistoryItems] = useState<HistoryItem[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    async function loadHistory() {\n      try {\n        const storedHistory = await LocalStorage.getItem<string>(\"history\");\n        if (storedHistory) {\n          const parsedHistory = JSON.parse(storedHistory) as HistoryItem[];\n          setHistoryItems(parsedHistory.reverse());\n        }\n      } catch (error) {\n        console.error(\"Error loading history:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    loadHistory();\n  }, []);\n\n  return (\n    <List isLoading={isLoading}>\n      {historyItems.map((item) => (\n        <List.Item\n          key={`${item.id}-${item.timestamp}`}\n          title={item.originalText}\n          subtitle={item.shakespearifiedText}\n          accessories={[\n            {\n              text: new Date(item.timestamp).toLocaleString(\"en-US\", {\n                year: \"numeric\",\n                month: \"2-digit\",\n                day: \"2-digit\",\n                hour: \"2-digit\",\n                minute: \"2-digit\",\n                second: \"2-digit\",\n                hour12: true,\n              }),\n            },\n          ]}\n          actions={\n            <ActionPanel>\n              <Action\n                title=\"Copy Shakespearified!\"\n                icon={Icon.QuoteBlock}\n                onAction={() => copyToClipboard(item.shakespearifiedText)}\n              />\n              <Action\n                title=\"Copy Original!\"\n                icon={Icon.Clipboard}\n                onAction={() => copyToClipboard(item.originalText)}\n              />\n              <Action.Push\n                title=\"View Details\"\n                icon={Icon.Eye}\n                target={<DetailView item={item} setHistoryItems={setHistoryItems} />}\n              />\n              <Action\n                title=\"Delete Entry\"\n                icon={Icon.Trash}\n                style={Action.Style.Destructive}\n                onAction={() => deleteHistoryItem(item.id, setHistoryItems)}\n              />\n            </ActionPanel>\n          }\n        />\n      ))}\n    </List>\n  );\n}\n\nfunction DetailView({\n  item,\n  setHistoryItems,\n}: {\n  item: HistoryItem;\n  setHistoryItems: React.Dispatch<React.SetStateAction<HistoryItem[]>>;\n}) {\n  const markdown = `\n## Shakespearified Wise Text\n\n> ${item.shakespearifiedText.replace(/\\n/g, \"\\n> \")}\n \n---\n\n## Original Text\n\n> ${item.originalText.replace(/\\n/g, \"\\n> \")}\n\n---\n\n> *${new Date(item.timestamp).toLocaleString(\"en-US\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  })}*\n    `;\n\n  return (\n    <Detail\n      markdown={markdown}\n      actions={\n        <ActionPanel>\n          <Action\n            title=\"Copy Shakespearified!\"\n            icon={Icon.QuoteBlock}\n            onAction={() => copyToClipboard(item.shakespearifiedText)}\n          />\n          <Action title=\"Copy Original!\" icon={Icon.Clipboard} onAction={() => copyToClipboard(item.originalText)} />\n          <Action\n            title=\"Delete Entry\"\n            icon={Icon.Trash}\n            style={Action.Style.Destructive}\n            onAction={() => deleteHistoryItem(item.id, setHistoryItems)}\n          />\n        </ActionPanel>\n      }\n    />\n  );\n}\n"],
  "mappings": "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",
  "names": ["history_exports", "__export", "Command", "__toCommonJS", "import_api", "import_react", "import_jsx_runtime", "copyToClipboard", "text", "deleteHistoryItem", "id", "setHistoryItems", "storedHistory", "updatedHistory", "item", "historyItems", "isLoading", "setIsLoading", "loadHistory", "parsedHistory", "error", "DetailView", "markdown"]
}
