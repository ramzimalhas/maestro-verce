"use strict";var H=Object.create;var c=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var a=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),D=(e,t)=>{for(var r in t)c(e,r,{get:t[r],enumerable:!0})},p=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of b(t))!C.call(e,o)&&o!==r&&c(e,o,{get:()=>t[o],enumerable:!(n=M(t,o))||n.enumerable});return e};var f=(e,t,r)=>(r=e!=null?H(R(e)):{},p(t||!e||!e.__esModule?c(r,"default",{value:e,enumerable:!0}):r,e)),F=e=>p(c({},"__esModule",{value:!0}),e);var h=a((J,l)=>{"use strict";l.exports=function(e){if(typeof e!="string")throw new Error("expected a string");return e.split(`
`).map(T).filter(Boolean)};function T(e,t){if(!e||!e.length||e.charAt(0)==="#")return null;var r=e.split(":");return{username:r[0],password:r[1],uid:r[2],gid:r[3],gecos:r[4],homedir:r[5],shell:r[6]}}});var v=a((Q,m)=>{"use strict";var q=require("fs"),L=h();function U(){if(process.platform==="win32")return process.env.USERPROFILE?process.env.USERPROFILE:process.env.HOMEDRIVE&&process.env.HOMEPATH?process.env.HOMEDRIVE+process.env.HOMEPATH:process.env.HOME?process.env.HOME:null;if(process.env.HOME)return process.env.HOME;var e=j("/etc/passwd"),t=N(L(e),V());if(t)return t;var r=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return r?process.platform==="darwin"?"/Users/"+r:"/home/"+r:null}function N(e,t){for(var r=e.length,n=0;n<r;n++)if(+e[n].uid===t)return e[n].homedir}function V(){return typeof process.geteuid=="function"?process.geteuid():process.getuid()}function j(e){try{return q.readFileSync(e,"utf8")}catch{return""}}m.exports=U});var E=a((W,u)=>{"use strict";var g=require("os");typeof g.homedir<"u"?u.exports=g.homedir:u.exports=v()});var y=a((X,x)=>{var B=E(),w=require("path");x.exports=function(t){var r=B();return t.charCodeAt(0)===126?t.charCodeAt(1)===43?w.join(process.cwd(),t.slice(2)):r?w.join(r,t.slice(1)):t:t}});var G={};D(G,{default:()=>k});module.exports=F(G);var s=require("@raycast/api"),d=require("child_process");var A=f(require("fs"));var i=require("@raycast/api"),I=f(y());async function S(){let r=`${(0,i.getPreferenceValues)().androidSDK.replace("~",(0,I.default)("~"))}/platform-tools/adb`;if(A.existsSync(r))return r;throw new Error(`\u2757\uFE0FADB not found here: ${r}`)}function O(e){let r=new i.Cache().get("appId"),n;return e!=null&&e.length>0?n=e:r?.length??!1?n=r:n=void 0,n}function P(e){new i.Cache().set("appId",e)}function $(e){return new Promise(t=>setTimeout(t,e))}var K=s.Toast.Style;async function k(e){let t;try{t=await S()}catch(n){await(0,s.showHUD)(`${n}`);return}let r=O(e.arguments.appId);if(r===void 0||r.trim().length==0||!r.match(".*\\..*")){await(0,s.showToast)(K.Failure,`AppId "${r}" doesn't match com.vendor format`);return}P(r),await(0,s.showHUD)(`\u270B Putting ${r} in background`),(0,d.execSync)(`${t} shell input keyevent 3`),await $(2e3),await(0,s.showHUD)(`\u270B Soft kill ${r}`),(0,d.execSync)(`${t} shell am kill ${r}`)}
/*! Bundled license information:

expand-tilde/index.js:
  (*!
   * expand-tilde <https://github.com/jonschlinkert/expand-tilde>
   *
   * Copyright (c) 2015 Jon Schlinkert.
   * Licensed under the MIT license.
   *)
*/
