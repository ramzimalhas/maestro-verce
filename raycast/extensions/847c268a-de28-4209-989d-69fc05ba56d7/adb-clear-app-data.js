"use strict";var M=Object.create;var c=Object.defineProperty;var $=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var a=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),D=(e,t)=>{for(var r in t)c(e,r,{get:t[r],enumerable:!0})},p=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of b(t))!C.call(e,o)&&o!==r&&c(e,o,{get:()=>t[o],enumerable:!(n=$(t,o))||n.enumerable});return e};var d=(e,t,r)=>(r=e!=null?M(R(e)):{},p(t||!e||!e.__esModule?c(r,"default",{value:e,enumerable:!0}):r,e)),k=e=>p(c({},"__esModule",{value:!0}),e);var m=a((z,f)=>{"use strict";f.exports=function(e){if(typeof e!="string")throw new Error("expected a string");return e.split(`
`).map(F).filter(Boolean)};function F(e,t){if(!e||!e.length||e.charAt(0)==="#")return null;var r=e.split(":");return{username:r[0],password:r[1],uid:r[2],gid:r[3],gecos:r[4],homedir:r[5],shell:r[6]}}});var l=a((J,h)=>{"use strict";var T=require("fs"),q=m();function L(){if(process.platform==="win32")return process.env.USERPROFILE?process.env.USERPROFILE:process.env.HOMEDRIVE&&process.env.HOMEPATH?process.env.HOMEDRIVE+process.env.HOMEPATH:process.env.HOME?process.env.HOME:null;if(process.env.HOME)return process.env.HOME;var e=V("/etc/passwd"),t=U(q(e),N());if(t)return t;var r=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return r?process.platform==="darwin"?"/Users/"+r:"/home/"+r:null}function U(e,t){for(var r=e.length,n=0;n<r;n++)if(+e[n].uid===t)return e[n].homedir}function N(){return typeof process.geteuid=="function"?process.geteuid():process.getuid()}function V(e){try{return T.readFileSync(e,"utf8")}catch{return""}}h.exports=L});var g=a((Q,u)=>{"use strict";var v=require("os");typeof v.homedir<"u"?u.exports=v.homedir:u.exports=l()});var x=a((W,w)=>{var j=g(),E=require("path");w.exports=function(t){var r=j();return t.charCodeAt(0)===126?t.charCodeAt(1)===43?E.join(process.cwd(),t.slice(2)):r?E.join(r,t.slice(1)):t:t}});var G={};D(G,{default:()=>H});module.exports=k(G);var s=require("@raycast/api"),P=require("child_process");var y=d(require("fs"));var i=require("@raycast/api"),A=d(x());async function I(){let r=`${(0,i.getPreferenceValues)().androidSDK.replace("~",(0,A.default)("~"))}/platform-tools/adb`;if(y.existsSync(r))return r;throw new Error(`\u2757\uFE0FADB not found here: ${r}`)}function O(e){let r=new i.Cache().get("appId"),n;return e!=null&&e.length>0?n=e:r?.length??!1?n=r:n=void 0,n}function S(e){new i.Cache().set("appId",e)}var B=s.Toast.Style;async function H(e){let t;try{t=await I()}catch(n){await(0,s.showHUD)(`${n}`);return}let r=O(e.arguments.appId);if(r===void 0||r.trim().length==0||!r.match(".*\\..*")){await(0,s.showToast)(B.Failure,`AppId "${r}" doesn't match com.vendor format`);return}S(r),await(0,s.showHUD)(`\u{1F9F9} Clear app data for ${r}`),(0,P.execSync)(`${t} shell pm clear ${r}`)}
/*! Bundled license information:

expand-tilde/index.js:
  (*!
   * expand-tilde <https://github.com/jonschlinkert/expand-tilde>
   *
   * Copyright (c) 2015 Jon Schlinkert.
   * Licensed under the MIT license.
   *)
*/
