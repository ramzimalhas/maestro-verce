"use strict";var $=Object.create;var d=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var U=Object.getPrototypeOf,W=Object.prototype.hasOwnProperty;var Y=(n,o)=>{for(var a in o)d(n,a,{get:o[a],enumerable:!0})},I=(n,o,a,l)=>{if(o&&typeof o=="object"||typeof o=="function")for(let r of P(o))!W.call(n,r)&&r!==a&&d(n,r,{get:()=>o[r],enumerable:!(l=C(o,r))||l.enumerable});return n};var b=(n,o,a)=>(a=n!=null?$(U(n)):{},I(o||!n||!n.__esModule?d(a,"default",{value:n,enumerable:!0}):a,n)),B=n=>I(d({},"__esModule",{value:!0}),n);var R={};Y(R,{default:()=>w});module.exports=B(R);var A=b(require("path")),e=require("@raycast/api"),c=b(require("fs")),t=require("react/jsx-runtime"),g=A.default.join(e.environment.supportPath,"remembering.csv");c.existsSync(g)||c.writeFileSync(g,"");var j=(0,e.getPreferenceValues)(),i=j.size,E=1e3,f=60*E,y=60*f,u=24*y,x=30*u,p=365*u;function D(n){if(n>10*p)return"Expired";if(n<=0)return"Expired";if(n>=p){let o=Math.floor(n/p);return o===1?`${o} year`:`${o} years`}else if(n>=x){let o=Math.floor(n/x);return o===1?`${o} month`:`${o} months`}else if(n>=u){let o=Math.floor(n/u);return o===1?`${o} day`:`${o} days`}else if(n>=y){let o=Math.floor(n/y);return o===1?`${o} hour`:`${o} hours`}else if(n>=f){let o=Math.floor(n/f);return o===1?`${o} minute`:`${o} minutes`}else return`${Math.floor(n/E)} seconds`}function w(){let o=c.readFileSync(g,"utf8").split(`
`).map(s=>{let[h,M]=s.split(",");return{date:new Date(h),taskname:M}}).filter(s=>s.date>new Date).sort((s,h)=>s.date.getTime()-h.date.getTime());if(o.length===0){if(i==="compact")return(0,t.jsxs)(e.MenuBarExtra,{icon:e.Icon.Stars,title:"",tooltip:"Enjoy the rest of the day off",children:[(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.Stars,title:"Woohoo! You got nothing todo!"}),(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.CircleProgress100,title:"Add an item to be remembered!",onAction:()=>{(0,e.launchCommand)({name:"index",type:e.LaunchType.UserInitiated})}})]});if(i==="normal")return(0,t.jsxs)(e.MenuBarExtra,{icon:e.Icon.Stars,title:"Woohoo! You got nothing todo!",tooltip:"Enjoy the rest of the day off",children:[(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.Stars,title:"Woohoo! You got nothing todo!"}),(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.CircleProgress100,title:"Add an item to be remembered!",onAction:()=>{(0,e.launchCommand)({name:"index",type:e.LaunchType.UserInitiated})}})]});if(i==="large")return(0,t.jsxs)(e.MenuBarExtra,{icon:e.Icon.Stars,title:"Woohoo! You got nothing todo!",tooltip:"Enjoy the rest of the day off",children:[(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.Stars,title:"Woohoo! You got nothing todo!"}),(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.CircleProgress100,title:"Add an item to be remembered!",onAction:()=>{(0,e.launchCommand)({name:"index",type:e.LaunchType.UserInitiated})}})]})}let a=o[0],l=a.date.getTime()-new Date().getTime(),r=D(l);if(r==="Forever"){if(i==="compact")return(0,t.jsxs)(e.MenuBarExtra,{icon:e.Icon.Stars,title:"",tooltip:"Enjoy the rest of the day off",children:[(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.Stars,title:"Woohoo! You got nothing todo!"}),(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.CircleProgress100,title:"Add an item to be remembered!",onAction:()=>{(0,e.launchCommand)({name:"index",type:e.LaunchType.UserInitiated})}})]});if(i==="normal")return(0,t.jsxs)(e.MenuBarExtra,{icon:e.Icon.Stars,title:"Woohoo! You got nothing todo!",tooltip:"Enjoy the rest of the day off",children:[(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.Stars,title:"Woohoo! You got nothing todo!"}),(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.CircleProgress100,title:"Add an item to be remembered!",onAction:()=>{(0,e.launchCommand)({name:"index",type:e.LaunchType.UserInitiated})}})]});if(i==="large")return(0,t.jsxs)(e.MenuBarExtra,{icon:e.Icon.Stars,title:"Woohoo! You got nothing todo!",tooltip:"Enjoy the rest of the day off",children:[(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.Stars,title:"Woohoo! You got nothing todo!"}),(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.CircleProgress100,title:"Add an item to be remembered!",onAction:()=>{(0,e.launchCommand)({name:"index",type:e.LaunchType.UserInitiated})}})]})}if(r==="Expired"){if(i==="compact")return(0,t.jsxs)(e.MenuBarExtra,{icon:e.Icon.Stars,title:"",tooltip:"Enjoy the rest of the day off",children:[(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.Stars,title:"Woohoo! You got nothing todo!"}),(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.CircleProgress100,title:"Add an item to be remembered!",onAction:()=>{(0,e.launchCommand)({name:"index",type:e.LaunchType.UserInitiated})}})]});if(i==="normal")return(0,t.jsxs)(e.MenuBarExtra,{icon:e.Icon.Stars,title:"Woohoo! You got nothing todo!",tooltip:"Enjoy the rest of the day off",children:[(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.Stars,title:"Woohoo! You got nothing todo!"}),(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.CircleProgress100,title:"Add an item to be remembered!",onAction:()=>{(0,e.launchCommand)({name:"index",type:e.LaunchType.UserInitiated})}})]});if(i==="large")return(0,t.jsxs)(e.MenuBarExtra,{icon:e.Icon.Stars,title:"Woohoo! You got nothing todo!",tooltip:"Enjoy the rest of the day off",children:[(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.Stars,title:"Woohoo! You got nothing todo!"}),(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.CircleProgress100,title:"Add an item to be remembered!",onAction:()=>{(0,e.launchCommand)({name:"index",type:e.LaunchType.UserInitiated})}})]})}let S="||&|",m=a.taskname.replace(S,",");if(i==="normal")return(0,t.jsxs)(e.MenuBarExtra,{icon:e.Icon.ArrowRight,title:r,tooltip:m,children:[(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.ArrowRight,title:` - Expires In ${r}!`}),(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.Document,title:"View all items being remembered!",onAction:()=>{(0,e.launchCommand)({name:"view",type:e.LaunchType.UserInitiated})}}),(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.CircleProgress100,title:"Add an item to be remembered!",onAction:()=>{(0,e.launchCommand)({name:"index",type:e.LaunchType.UserInitiated})}})]});if(i==="large")return(0,t.jsxs)(e.MenuBarExtra,{icon:e.Icon.ArrowRight,title:`${m} - ${r}`,tooltip:m,children:[(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.ArrowRight,title:`${m} - Expires In ${r}!`}),(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.Document,title:"View all items being remembered!",onAction:()=>{(0,e.launchCommand)({name:"view",type:e.LaunchType.UserInitiated})}}),(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.CircleProgress100,title:"Add an item to be remembered!",onAction:()=>{(0,e.launchCommand)({name:"index",type:e.LaunchType.UserInitiated})}})]});if(i==="compact"){let s=r.replace(" seconds","s").replace(" second","s").replace(" minutes","m").replace(" minute","m").replace(" hours","h").replace(" hour","h").replace(" days","d").replace(" day","d").replace(" weeks","w").replace(" week","w").replace(" months","m").replace(" month","m").replace(" years","y").replace(" year","y");return(0,t.jsxs)(e.MenuBarExtra,{title:s,tooltip:m,children:[(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.ArrowRight,title:`${m} - Expires In ${r}!`}),(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.Document,title:"View all items being remembered!",onAction:()=>{(0,e.launchCommand)({name:"view",type:e.LaunchType.UserInitiated})}}),(0,t.jsx)(e.MenuBarExtra.Item,{icon:e.Icon.CircleProgress100,title:"Add an item to be remembered!",onAction:()=>{(0,e.launchCommand)({name:"index",type:e.LaunchType.UserInitiated})}})]})}}
