{
  "version": 3,
  "sources": ["../src/index.tsx"],
  "sourcesContent": ["import {\n  Action,\n  ActionPanel,\n  environment,\n  Form,\n  getPreferenceValues,\n  Icon,\n  launchCommand,\n  LaunchType,\n  openExtensionPreferences,\n  showToast,\n  Toast,\n  popToRoot,\n} from \"@raycast/api\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { useEffect } from \"react\";\n\ntype Values = {\n  textfield: string;\n  textarea: string;\n  datepicker: Date;\n  checkbox: boolean;\n  dropdown: string;\n  tokeneditor: string[];\n};\n\nconst now = new Date();\nnow.setHours(now.getHours() + 100);\n\nconst placeholders = [\n  \"Respond to \u2709 important work email\",\n  `Pay late \uD83D\uDCB3 credit card bill before ${now.toLocaleDateString()}`,\n  `Complete \uD83D\uDCDA math homework by ${now.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })}`,\n  `Return \uD83D\uDD19 overdue library books by ${now.toLocaleDateString()} `,\n  `Confirm \u2705 flight for ${now.toLocaleDateString(\"en-us\", { month: \"long\", day: \"numeric\", year: \"numeric\" })}`,\n  \"Call \uD83D\uDCDE doctor about medication refill\",\n  \"Reschedule \uD83D\uDCC5 important meeting\",\n  `Submit \u2714 critical project update by ${now.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })}`,\n  \"Follow up \uD83D\uDCE9 on unanswered emails\",\n  \"Claim \uD83D\uDCB0 unexpected refund\",\n  ` Renew \u2705 expired license before ${now.toLocaleDateString()} `,\n  `Pick up \uD83D\uDED2 groceries for dinner today by ${now.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })}`,\n  ` Pay \uD83D\uDCB8 overdue bills by ${now.toLocaleDateString()} `,\n  `Submit \u2714 report ASAP`,\n  \"Call \uD83D\uDCDE doctor about concerning symptoms\",\n  \"Fill \uD83D\uDD8B important paperwork\",\n  \"Respond to \uD83D\uDC65 team member's question\",\n  \"Reply to \u2709 important client email\",\n  \"Call \uD83D\uDCDE boss about project issue\",\n  \"Retrieve \uD83D\uDCE5 crucial documents from home\",\n  \"Submit \u2705 time-sensitive request\",\n  `Pay \uD83D\uDCB8 late rent by ${now.toLocaleDateString()} `,\n  `Return \uD83D\uDCE6 package by ${now.toLocaleDateString()} deadline `,\n  \"Book \uD83D\uDEE9 last-minute flight\",\n  `Complete \uD83D\uDCD2 report for ${now.toLocaleDateString(\"en-us\", {\n    month: \"long\",\n    day: \"numeric\",\n    year: \"numeric\",\n  })} deadline`,\n  `Withdraw \uD83C\uDFE7 money from bank by ${now.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })} `,\n  \"Make \uD83D\uDCDE important phone call\",\n  \"Apply for \uD83D\uDCDD time-sensitive opportunity\",\n  \"Proofread \uD83D\uDC40 critical document\",\n  \"Contact \uD83D\uDCDE insurance about claim\",\n  `Submit \uD83D\uDCDD assignment by ${now} `,\n  `Pick up\uD83D\uDED2 groceries for tonight's dinner by ${now.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })} `,\n  `Renew \u2705 expiring subscription before ${now.toLocaleDateString()} `,\n  \"Receive \uD83D\uDCE6 important package delivery\",\n  `Investigate \uD83D\uDD75\uFE0F\u200D\u2640\uFE0F work issue ASAP`,\n];\n\nconst placeholder = placeholders[Math.floor(Math.random() * placeholders.length)];\nconst preferences = getPreferenceValues<Preferences>();\nconst rfdValue = preferences.rfd;\n\nconst REMEMBERING_FILE = path.join(environment.supportPath, \"remembering.csv\");\nexport default function Command(props: { arguments?: { thingtor?: string } }) {\n  useEffect(() => {\n    if (props.arguments?.thingtor) {\n      const result = handleSubmit({\n        textfield: \"\", // Set the value of textfield property as needed\n        datepicker: new Date(), // Set the value of datepicker property as needed\n        checkbox: false, // Set the value of checkbox property as needed\n        tokeneditor: [], // Set the value of tokeneditor property as needed\n        textarea: props.arguments.thingtor,\n        dropdown: rfdValue,\n      });\n\n      if (!result) {\n        // Use the false condition to check if the result is false\n        popToRoot();\n      } else {\n        launchCommand({ name: \"view\", type: LaunchType.UserInitiated });\n        launchCommand({ name: \"menu\", type: LaunchType.UserInitiated });\n      }\n    }\n  }, [rfdValue]);\n\n  function handleSubmit(values: Values) {\n    if (!values.textarea) {\n      showToast({\n        title: \"No input provided!\",\n        message: \"Please input something to remember!\",\n        style: Toast.Style.Failure,\n      });\n      return false; // Return false to indicate that the submission was not successful\n    }\n\n    // Check if the file exists\n    let fileExists = false;\n    try {\n      fs.accessSync(REMEMBERING_FILE);\n      fileExists = true;\n    } catch (error) {\n      console.log(\"File does not exist. Creating a new file...\");\n    }\n\n    // Check if the input already exists in the file\n    if (fileExists) {\n      const existingData = fs.readFileSync(REMEMBERING_FILE, \"utf-8\").toLowerCase().split(\"\\n\");\n      const newData = values.textarea.toLowerCase();\n\n      let inputExists = false;\n      const newDataWDelim = newData.replace(/,/g, \"||&|\");\n      for (const row of existingData) {\n        if (row.split(\",\")[1] === newDataWDelim) {\n          inputExists = true;\n          break;\n        }\n      }\n\n      if (inputExists) {\n        showToast({\n          title: \"Input already exists!\",\n          message: \"Please input something else to remember!\",\n          style: Toast.Style.Failure,\n        });\n        return false; // Return false to indicate that the submission was not successful\n      }\n    }\n\n    const expirationDate = calculateExpirationDate(values.dropdown);\n    const delimiter = \"||&|\"; // Define the delimiter string\n    const escapedTextarea = values.textarea.replace(/,/g, delimiter);\n    const data = `\\n${expirationDate.toISOString()},${escapedTextarea}`;\n\n    // Write to the file\n    if (fileExists) {\n      // Append to the existing file\n      fs.appendFileSync(REMEMBERING_FILE, data);\n    } else {\n      // Create a new file\n      fs.writeFileSync(REMEMBERING_FILE, data);\n    }\n    launchCommand({ name: \"view\", type: LaunchType.UserInitiated });\n    launchCommand({ name: \"menu\", type: LaunchType.UserInitiated });\n    // Log the expiration date and what to remember\n    showToast({\n      title: \"Remembering That!\",\n    });\n    return true; // Return true to indicate that the submission was successful\n  }\n\n  return (\n    <Form\n      actions={\n        <ActionPanel>\n          <Action.SubmitForm\n            icon={Icon.CircleProgress100}\n            onSubmit={handleSubmit}\n            shortcut={{ modifiers: [\"cmd\"], key: \"enter\" }}\n          />\n          <Action\n            title=\"Change Default Time\"\n            icon={Icon.Hammer}\n            onAction={openExtensionPreferences}\n            shortcut={{ modifiers: [\"opt\"], key: \"enter\" }}\n          />\n        </ActionPanel>\n      }\n    >\n      <Form.Description text=\"Motivate yourself to stay on top of your deadlines\" />\n      <Form.TextField id=\"textarea\" title=\"Remember This:\" placeholder={placeholder} />\n\n      <Form.Dropdown id=\"dropdown\" title=\"For:\" defaultValue={rfdValue.toString()}>\n        <Form.Dropdown.Item value=\"30min\" title=\"30 Minutes\" />\n        <Form.Dropdown.Item value=\"1h\" title=\"1 Hour\" />\n        <Form.Dropdown.Item value=\"2h\" title=\"2 Hours\" />\n        <Form.Dropdown.Item value=\"6h\" title=\"6 Hours\" />\n        <Form.Dropdown.Item value=\"12h\" title=\"12 Hours\" />\n        <Form.Dropdown.Item value=\"1day\" title=\"1 Day\" />\n        <Form.Dropdown.Item value=\"2day\" title=\"2 Days\" />\n        <Form.Dropdown.Item value=\"1week\" title=\"1 Week\" />\n        <Form.Dropdown.Item value=\"2week\" title=\"2 Weeks\" />\n        <Form.Dropdown.Item value=\"1month\" title=\"1 Month\" />\n        <Form.Dropdown.Item value=\"3month\" title=\"3 Months\" />\n        <Form.Dropdown.Item value=\"6month\" title=\"6 Months\" />\n        <Form.Dropdown.Item value=\"1year\" title=\"1 Year\" />\n        <Form.Dropdown.Item value=\"2year\" title=\"2 Years\" />\n        <Form.Dropdown.Item value=\"5year\" title=\"5 Years\" />\n        <Form.Dropdown.Item value=\"Forever\" title=\"Forever\" />\n      </Form.Dropdown>\n    </Form>\n  );\n}\n\nfunction calculateExpirationDate(duration: string): Date {\n  const now = new Date();\n  switch (duration) {\n    case \"Forever\":\n      return new Date(now.getFullYear() + 100, 0, 1); // 100 years from now\n    case \"1day\":\n      return new Date(now.getTime() + 24 * 60 * 60 * 1000); // 1 day from now\n    case \"2day\":\n      return new Date(now.getTime() + 2 * 24 * 60 * 60 * 1000); // 2 days from now\n    case \"1week\":\n      return new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000); // 1 week from now\n    case \"2week\":\n      return new Date(now.getTime() + 14 * 24 * 60 * 60 * 1000); // 2 weeks from now\n    case \"1month\":\n      return new Date(now.getTime() + 30 * 24 * 60 * 60 * 1000); // 1 month from now\n    case \"3month\":\n      return new Date(now.getTime() + 90 * 24 * 60 * 60 * 1000); // 3 months from now\n    case \"6month\":\n      return new Date(now.getTime() + 180 * 24 * 60 * 60 * 1000); // 6 months from now\n    case \"1year\":\n      return new Date(now.getTime() + 365 * 24 * 60 * 60 * 1000); // 1 year from now\n    case \"2year\":\n      return new Date(now.getTime() + 730 * 24 * 60 * 60 * 1000); // 2 years from now\n    case \"5year\":\n      return new Date(\n        Date.UTC(\n          now.getFullYear() + 5,\n          now.getMonth(),\n          now.getDate(),\n          now.getHours(),\n          now.getMinutes(),\n          now.getSeconds(),\n          now.getMilliseconds()\n        )\n      );\n    case \"10min\":\n      return new Date(now.getTime() + 10 * 60 * 1000); // 10 minutes from now\n    case \"30min\":\n      return new Date(now.getTime() + 30 * 60 * 1000); // 30 minutes from now\n    case \"1h\":\n      return new Date(now.getTime() + 60 * 60 * 1000); // 1 hour from now\n    case \"2h\":\n      return new Date(now.getTime() + 2 * 60 * 60 * 1000); // 2 hours from now\n    case \"6h\":\n      return new Date(now.getTime() + 6 * 60 * 60 * 1000); // 6 hours from now\n    case \"12h\":\n      return new Date(now.getTime() + 12 * 60 * 60 * 1000); // 12 hours from now\n    default:\n      return new Date(now.getFullYear() + 100, 0, 1); // Default to 100 years from now\n  }\n}\n\ninterface Preferences {\n  rfd: string;\n}\n"],
  "mappings": "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",
  "names": ["src_exports", "__export", "Command", "__toCommonJS", "import_api", "import_fs", "import_path", "import_react", "import_jsx_runtime", "now", "placeholders", "placeholder", "preferences", "rfdValue", "REMEMBERING_FILE", "path", "props", "handleSubmit", "values", "fileExists", "fs", "existingData", "newData", "inputExists", "newDataWDelim", "row", "expirationDate", "calculateExpirationDate", "delimiter", "escapedTextarea", "data", "duration"]
}
