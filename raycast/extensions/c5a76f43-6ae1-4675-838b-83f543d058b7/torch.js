var xs=Object.create;var xr=Object.defineProperty;var qs=Object.getOwnPropertyDescriptor;var zs=Object.getOwnPropertyNames;var js=Object.getPrototypeOf,Ns=Object.prototype.hasOwnProperty;var ui=o=>xr(o,"__esModule",{value:!0});var Vt=(o,r)=>()=>(o&&(r=o(o=0)),r);var Ln=(o,r)=>()=>(r||o((r={exports:{}}).exports,r),r.exports),li=(o,r)=>{for(var n in r)xr(o,n,{get:r[n],enumerable:!0})},ci=(o,r,n,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of zs(r))!Ns.call(o,s)&&(n||s!=="default")&&xr(o,s,{get:()=>r[s],enumerable:!(a=qs(r,s))||a.enumerable});return o},$e=(o,r)=>ci(ui(xr(o!=null?xs(js(o)):{},"default",!r&&o&&o.__esModule?{get:()=>o.default,enumerable:!0}:{value:o,enumerable:!0})),o),Us=(o=>(r,n)=>o&&o.get(r)||(n=ci(ui({}),r,1),o&&o.set(r,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var fi=(o,r,n)=>{if(!r.has(o))throw TypeError("Cannot "+n)};var x=(o,r,n)=>(fi(o,r,"read from private field"),n?n.call(o):r.get(o)),ue=(o,r,n)=>{if(r.has(o))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(o):r.set(o,n)},K=(o,r,n,a)=>(fi(o,r,"write to private field"),a?a.call(o,n):r.set(o,n),n);var Li=Ln((dl,ki)=>{"use strict";function qr(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qr=function(r){return typeof r}:qr=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qr(o)}function J(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}function di(o,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}function X(o,r,n){return r&&di(o.prototype,r),n&&di(o,n),o}function Mn(o,r,n){return r in o?Object.defineProperty(o,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[r]=n,o}function hi(o,r){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable})),n.push.apply(n,a)}return n}function mi(o){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?hi(Object(n),!0).forEach(function(a){Mn(o,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(n,a))})}return o}function xe(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),r&&On(o,r)}function zr(o){return zr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},zr(o)}function On(o,r){return On=Object.setPrototypeOf||function(a,s){return a.__proto__=s,a},On(o,r)}function Hs(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Vs(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Ys(o,r){return r&&(typeof r=="object"||typeof r=="function")?r:Vs(o)}function qe(o){var r=Hs();return function(){var a=zr(o),s;if(r){var u=zr(this).constructor;s=Reflect.construct(a,arguments,u)}else s=a.apply(this,arguments);return Ys(this,s)}}function ze(o){return Qs(o)||Gs(o)||Ks(o)||Js()}function Qs(o){if(Array.isArray(o))return Bn(o)}function Gs(o){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(o))return Array.from(o)}function Ks(o,r){if(!!o){if(typeof o=="string")return Bn(o,r);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor&&(n=o.constructor.name),n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bn(o,r)}}function Bn(o,r){(r==null||r>o.length)&&(r=o.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=o[n];return a}function Js(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ce(o){return Array.isArray?Array.isArray(o):gi(o)==="[object Array]"}var Xs=1/0;function Zs(o){if(typeof o=="string")return o;var r=o+"";return r=="0"&&1/o==-Xs?"-0":r}function eu(o){return o==null?"":Zs(o)}function Ae(o){return typeof o=="string"}function pi(o){return typeof o=="number"}function tu(o){return o===!0||o===!1||ru(o)&&gi(o)=="[object Boolean]"}function bi(o){return qr(o)==="object"}function ru(o){return bi(o)&&o!==null}function oe(o){return o!=null}function In(o){return!o.trim().length}function gi(o){return o==null?o===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(o)}var nu="Incorrect 'index' type",ou=function(r){return"Invalid value for key ".concat(r)},iu=function(r){return"Pattern length exceeds max of ".concat(r,".")},au=function(r){return"Missing ".concat(r," property in key")},su=function(r){return"Property 'weight' in key '".concat(r,"' must be a positive integer")},yi=Object.prototype.hasOwnProperty,uu=function(){function o(r){var n=this;J(this,o),this._keys=[],this._keyMap={};var a=0;r.forEach(function(s){var u=_i(s);a+=u.weight,n._keys.push(u),n._keyMap[u.id]=u,a+=u.weight}),this._keys.forEach(function(s){s.weight/=a})}return X(o,[{key:"get",value:function(n){return this._keyMap[n]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),o}();function _i(o){var r=null,n=null,a=null,s=1;if(Ae(o)||Ce(o))a=o,r=Si(o),n=Fn(o);else{if(!yi.call(o,"name"))throw new Error(au("name"));var u=o.name;if(a=u,yi.call(o,"weight")&&(s=o.weight,s<=0))throw new Error(su(u));r=Si(u),n=Fn(u)}return{path:r,id:n,weight:s,src:a}}function Si(o){return Ce(o)?o:o.split(".")}function Fn(o){return Ce(o)?o.join("."):o}function lu(o,r){var n=[],a=!1,s=function u(f,d,h){if(!!oe(f))if(!d[h])n.push(f);else{var y=d[h],_=f[y];if(!oe(_))return;if(h===d.length-1&&(Ae(_)||pi(_)||tu(_)))n.push(eu(_));else if(Ce(_)){a=!0;for(var w=0,m=_.length;w<m;w+=1)u(_[w],d,h+1)}else d.length&&u(_,d,h+1)}};return s(o,Ae(r)?r.split("."):r,0),a?n:n[0]}var cu={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},fu={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(r,n){return r.score===n.score?r.idx<n.idx?-1:1:r.score<n.score?-1:1}},du={location:0,threshold:.6,distance:100},hu={useExtendedSearch:!1,getFn:lu,ignoreLocation:!1,ignoreFieldNorm:!1},L=mi({},fu,{},cu,{},du,{},hu),mu=/[^ ]+/g;function pu(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3,r=new Map,n=Math.pow(10,o);return{get:function(s){var u=s.match(mu).length;if(r.has(u))return r.get(u);var f=1/Math.sqrt(u),d=parseFloat(Math.round(f*n)/n);return r.set(u,d),d},clear:function(){r.clear()}}}var Dn=function(){function o(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.getFn,a=n===void 0?L.getFn:n;J(this,o),this.norm=pu(3),this.getFn=a,this.isCreated=!1,this.setIndexRecords()}return X(o,[{key:"setSources",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.docs=n}},{key:"setIndexRecords",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.records=n}},{key:"setKeys",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.keys=a,this._keysMap={},a.forEach(function(s,u){n._keysMap[s.id]=u})}},{key:"create",value:function(){var n=this;this.isCreated||!this.docs.length||(this.isCreated=!0,Ae(this.docs[0])?this.docs.forEach(function(a,s){n._addString(a,s)}):this.docs.forEach(function(a,s){n._addObject(a,s)}),this.norm.clear())}},{key:"add",value:function(n){var a=this.size();Ae(n)?this._addString(n,a):this._addObject(n,a)}},{key:"removeAt",value:function(n){this.records.splice(n,1);for(var a=n,s=this.size();a<s;a+=1)this.records[a].i-=1}},{key:"getValueForItemAtKeyId",value:function(n,a){return n[this._keysMap[a]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(n,a){if(!(!oe(n)||In(n))){var s={v:n,i:a,n:this.norm.get(n)};this.records.push(s)}}},{key:"_addObject",value:function(n,a){var s=this,u={i:a,$:{}};this.keys.forEach(function(f,d){var h=s.getFn(n,f.path);if(!!oe(h)){if(Ce(h))(function(){for(var _=[],w=[{nestedArrIndex:-1,value:h}];w.length;){var m=w.pop(),b=m.nestedArrIndex,g=m.value;if(!!oe(g))if(Ae(g)&&!In(g)){var R={v:g,i:b,n:s.norm.get(g)};_.push(R)}else Ce(g)&&g.forEach(function(T,E){w.push({nestedArrIndex:E,value:T})})}u.$[d]=_})();else if(!In(h)){var y={v:h,n:s.norm.get(h)};u.$[d]=y}}}),this.records.push(u)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),o}();function wi(o,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.getFn,s=a===void 0?L.getFn:a,u=new Dn({getFn:s});return u.setKeys(o.map(_i)),u.setSources(r),u.create(),u}function bu(o){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.getFn,a=n===void 0?L.getFn:n,s=o.keys,u=o.records,f=new Dn({getFn:a});return f.setKeys(s),f.setIndexRecords(u),f}function jr(o){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.errors,a=n===void 0?0:n,s=r.currentLocation,u=s===void 0?0:s,f=r.expectedLocation,d=f===void 0?0:f,h=r.distance,y=h===void 0?L.distance:h,_=r.ignoreLocation,w=_===void 0?L.ignoreLocation:_,m=a/o.length;if(w)return m;var b=Math.abs(d-u);return y?m+b/y:b?1:m}function gu(){for(var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L.minMatchCharLength,n=[],a=-1,s=-1,u=0,f=o.length;u<f;u+=1){var d=o[u];d&&a===-1?a=u:!d&&a!==-1&&(s=u-1,s-a+1>=r&&n.push([a,s]),a=-1)}return o[u-1]&&u-a>=r&&n.push([a,u-1]),n}var et=32;function yu(o,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=a.location,u=s===void 0?L.location:s,f=a.distance,d=f===void 0?L.distance:f,h=a.threshold,y=h===void 0?L.threshold:h,_=a.findAllMatches,w=_===void 0?L.findAllMatches:_,m=a.minMatchCharLength,b=m===void 0?L.minMatchCharLength:m,g=a.includeMatches,R=g===void 0?L.includeMatches:g,T=a.ignoreLocation,E=T===void 0?L.ignoreLocation:T;if(r.length>et)throw new Error(iu(et));for(var A=r.length,F=o.length,P=Math.max(0,Math.min(u,F)),M=y,k=P,z=b>1||R,j=z?Array(F):[],H;(H=o.indexOf(r,k))>-1;){var at=jr(r,{currentLocation:H,expectedLocation:P,distance:d,ignoreLocation:E});if(M=Math.min(at,M),k=H+A,z)for(var V=0;V<A;)j[H+V]=1,V+=1}k=-1;for(var te=[],Le=1,Ve=A+F,tn=1<<A-1,de=0;de<A;de+=1){for(var st=0,he=Ve;st<he;){var or=jr(r,{errors:de,currentLocation:P+he,expectedLocation:P,distance:d,ignoreLocation:E});or<=M?st=he:Ve=he,he=Math.floor((Ve-st)/2+st)}Ve=he;var kt=Math.max(1,P-he+1),Ye=w?F:Math.min(P+he,F)+A,Se=Array(Ye+2);Se[Ye+1]=(1<<de)-1;for(var re=Ye;re>=kt;re-=1){var ut=re-1,ir=n[o.charAt(ut)];if(z&&(j[ut]=+!!ir),Se[re]=(Se[re+1]<<1|1)&ir,de&&(Se[re]|=(te[re+1]|te[re])<<1|1|te[re+1]),Se[re]&tn&&(Le=jr(r,{errors:de,currentLocation:ut,expectedLocation:P,distance:d,ignoreLocation:E}),Le<=M)){if(M=Le,k=ut,k<=P)break;kt=Math.max(1,2*P-k)}}var me=jr(r,{errors:de+1,currentLocation:P,expectedLocation:P,distance:d,ignoreLocation:E});if(me>M)break;te=Se}var Y={isMatch:k>=0,score:Math.max(.001,Le)};if(z){var ar=gu(j,b);ar.length?R&&(Y.indices=ar):Y.isMatch=!1}return Y}function _u(o){for(var r={},n=0,a=o.length;n<a;n+=1){var s=o.charAt(n);r[s]=(r[s]||0)|1<<a-n-1}return r}var vi=function(){function o(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.location,u=s===void 0?L.location:s,f=a.threshold,d=f===void 0?L.threshold:f,h=a.distance,y=h===void 0?L.distance:h,_=a.includeMatches,w=_===void 0?L.includeMatches:_,m=a.findAllMatches,b=m===void 0?L.findAllMatches:m,g=a.minMatchCharLength,R=g===void 0?L.minMatchCharLength:g,T=a.isCaseSensitive,E=T===void 0?L.isCaseSensitive:T,A=a.ignoreLocation,F=A===void 0?L.ignoreLocation:A;if(J(this,o),this.options={location:u,threshold:d,distance:y,includeMatches:w,findAllMatches:b,minMatchCharLength:R,isCaseSensitive:E,ignoreLocation:F},this.pattern=E?r:r.toLowerCase(),this.chunks=[],!!this.pattern.length){var P=function(V,te){n.chunks.push({pattern:V,alphabet:_u(V),startIndex:te})},M=this.pattern.length;if(M>et){for(var k=0,z=M%et,j=M-z;k<j;)P(this.pattern.substr(k,et),k),k+=et;if(z){var H=M-et;P(this.pattern.substr(H),H)}}else P(this.pattern,0)}}return X(o,[{key:"searchIn",value:function(n){var a=this.options,s=a.isCaseSensitive,u=a.includeMatches;if(s||(n=n.toLowerCase()),this.pattern===n){var f={isMatch:!0,score:0};return u&&(f.indices=[[0,n.length-1]]),f}var d=this.options,h=d.location,y=d.distance,_=d.threshold,w=d.findAllMatches,m=d.minMatchCharLength,b=d.ignoreLocation,g=[],R=0,T=!1;this.chunks.forEach(function(A){var F=A.pattern,P=A.alphabet,M=A.startIndex,k=yu(n,F,P,{location:h+M,distance:y,threshold:_,findAllMatches:w,minMatchCharLength:m,includeMatches:u,ignoreLocation:b}),z=k.isMatch,j=k.score,H=k.indices;z&&(T=!0),R+=j,z&&H&&(g=[].concat(ze(g),ze(H)))});var E={isMatch:T,score:T?R/this.chunks.length:1};return T&&u&&(E.indices=g),E}}]),o}(),je=function(){function o(r){J(this,o),this.pattern=r}return X(o,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(n){return Ri(n,this.multiRegex)}},{key:"isSingleMatch",value:function(n){return Ri(n,this.singleRegex)}}]),o}();function Ri(o,r){var n=o.match(r);return n?n[1]:null}var Su=function(o){xe(n,o);var r=qe(n);function n(a){return J(this,n),r.call(this,a)}return X(n,[{key:"search",value:function(s){var u=s===this.pattern;return{isMatch:u,score:u?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),n}(je),wu=function(o){xe(n,o);var r=qe(n);function n(a){return J(this,n),r.call(this,a)}return X(n,[{key:"search",value:function(s){var u=s.indexOf(this.pattern),f=u===-1;return{isMatch:f,score:f?0:1,indices:[0,s.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),n}(je),vu=function(o){xe(n,o);var r=qe(n);function n(a){return J(this,n),r.call(this,a)}return X(n,[{key:"search",value:function(s){var u=s.startsWith(this.pattern);return{isMatch:u,score:u?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),n}(je),Ru=function(o){xe(n,o);var r=qe(n);function n(a){return J(this,n),r.call(this,a)}return X(n,[{key:"search",value:function(s){var u=!s.startsWith(this.pattern);return{isMatch:u,score:u?0:1,indices:[0,s.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),n}(je),Tu=function(o){xe(n,o);var r=qe(n);function n(a){return J(this,n),r.call(this,a)}return X(n,[{key:"search",value:function(s){var u=s.endsWith(this.pattern);return{isMatch:u,score:u?0:1,indices:[s.length-this.pattern.length,s.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),n}(je),Eu=function(o){xe(n,o);var r=qe(n);function n(a){return J(this,n),r.call(this,a)}return X(n,[{key:"search",value:function(s){var u=!s.endsWith(this.pattern);return{isMatch:u,score:u?0:1,indices:[0,s.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),n}(je),Ti=function(o){xe(n,o);var r=qe(n);function n(a){var s,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=u.location,d=f===void 0?L.location:f,h=u.threshold,y=h===void 0?L.threshold:h,_=u.distance,w=_===void 0?L.distance:_,m=u.includeMatches,b=m===void 0?L.includeMatches:m,g=u.findAllMatches,R=g===void 0?L.findAllMatches:g,T=u.minMatchCharLength,E=T===void 0?L.minMatchCharLength:T,A=u.isCaseSensitive,F=A===void 0?L.isCaseSensitive:A,P=u.ignoreLocation,M=P===void 0?L.ignoreLocation:P;return J(this,n),s=r.call(this,a),s._bitapSearch=new vi(a,{location:d,threshold:y,distance:w,includeMatches:b,findAllMatches:R,minMatchCharLength:E,isCaseSensitive:F,ignoreLocation:M}),s}return X(n,[{key:"search",value:function(s){return this._bitapSearch.searchIn(s)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),n}(je),Ei=function(o){xe(n,o);var r=qe(n);function n(a){return J(this,n),r.call(this,a)}return X(n,[{key:"search",value:function(s){for(var u=0,f,d=[],h=this.pattern.length;(f=s.indexOf(this.pattern,u))>-1;)u=f+h,d.push([f,u-1]);var y=!!d.length;return{isMatch:y,score:y?0:1,indices:d}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),n}(je),Wn=[Su,Ei,vu,Ru,Eu,Tu,wu,Ti],Ci=Wn.length,Cu=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,Au="|";function Pu(o){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.split(Au).map(function(n){for(var a=n.trim().split(Cu).filter(function(g){return g&&!!g.trim()}),s=[],u=0,f=a.length;u<f;u+=1){for(var d=a[u],h=!1,y=-1;!h&&++y<Ci;){var _=Wn[y],w=_.isMultiMatch(d);w&&(s.push(new _(w,r)),h=!0)}if(!h)for(y=-1;++y<Ci;){var m=Wn[y],b=m.isSingleMatch(d);if(b){s.push(new m(b,r));break}}}return s})}var ku=new Set([Ti.type,Ei.type]),Lu=function(){function o(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.isCaseSensitive,s=a===void 0?L.isCaseSensitive:a,u=n.includeMatches,f=u===void 0?L.includeMatches:u,d=n.minMatchCharLength,h=d===void 0?L.minMatchCharLength:d,y=n.ignoreLocation,_=y===void 0?L.ignoreLocation:y,w=n.findAllMatches,m=w===void 0?L.findAllMatches:w,b=n.location,g=b===void 0?L.location:b,R=n.threshold,T=R===void 0?L.threshold:R,E=n.distance,A=E===void 0?L.distance:E;J(this,o),this.query=null,this.options={isCaseSensitive:s,includeMatches:f,minMatchCharLength:h,findAllMatches:m,ignoreLocation:_,location:g,threshold:T,distance:A},this.pattern=s?r:r.toLowerCase(),this.query=Pu(this.pattern,this.options)}return X(o,[{key:"searchIn",value:function(n){var a=this.query;if(!a)return{isMatch:!1,score:1};var s=this.options,u=s.includeMatches,f=s.isCaseSensitive;n=f?n:n.toLowerCase();for(var d=0,h=[],y=0,_=0,w=a.length;_<w;_+=1){var m=a[_];h.length=0,d=0;for(var b=0,g=m.length;b<g;b+=1){var R=m[b],T=R.search(n),E=T.isMatch,A=T.indices,F=T.score;if(E){if(d+=1,y+=F,u){var P=R.constructor.type;ku.has(P)?h=[].concat(ze(h),ze(A)):h.push(A)}}else{y=0,d=0,h.length=0;break}}if(d){var M={isMatch:!0,score:y/d};return u&&(M.indices=h),M}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(n,a){return a.useExtendedSearch}}]),o}(),Nr=[];function Mu(){Nr.push.apply(Nr,arguments)}function $n(o,r){for(var n=0,a=Nr.length;n<a;n+=1){var s=Nr[n];if(s.condition(o,r))return new s(o,r)}return new vi(o,r)}var Yt={AND:"$and",OR:"$or"},xn={PATH:"$path",PATTERN:"$val"},qn=function(r){return!!(r[Yt.AND]||r[Yt.OR])},Ou=function(r){return!!r[xn.PATH]},Bu=function(r){return!Ce(r)&&bi(r)&&!qn(r)},Ai=function(r){return Mn({},Yt.AND,Object.keys(r).map(function(n){return Mn({},n,r[n])}))};function Pi(o,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.auto,s=a===void 0?!0:a,u=function f(d){var h=Object.keys(d),y=Ou(d);if(!y&&h.length>1&&!qn(d))return f(Ai(d));if(Bu(d)){var _=y?d[xn.PATH]:h[0],w=y?d[xn.PATTERN]:d[_];if(!Ae(w))throw new Error(ou(_));var m={keyId:Fn(_),pattern:w};return s&&(m.searcher=$n(w,r)),m}var b={children:[],operator:h[0]};return h.forEach(function(g){var R=d[g];Ce(R)&&R.forEach(function(T){b.children.push(f(T))})}),b};return qn(o)||(o=Ai(o)),u(o)}function Iu(o,r){var n=r.ignoreFieldNorm,a=n===void 0?L.ignoreFieldNorm:n;o.forEach(function(s){var u=1;s.matches.forEach(function(f){var d=f.key,h=f.norm,y=f.score,_=d?d.weight:null;u*=Math.pow(y===0&&_?Number.EPSILON:y,(_||1)*(a?1:h))}),s.score=u})}function Fu(o,r){var n=o.matches;r.matches=[],!!oe(n)&&n.forEach(function(a){if(!(!oe(a.indices)||!a.indices.length)){var s=a.indices,u=a.value,f={indices:s,value:u};a.key&&(f.key=a.key.src),a.idx>-1&&(f.refIndex=a.idx),r.matches.push(f)}})}function Du(o,r){r.score=o.score}function Wu(o,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.includeMatches,s=a===void 0?L.includeMatches:a,u=n.includeScore,f=u===void 0?L.includeScore:u,d=[];return s&&d.push(Fu),f&&d.push(Du),o.map(function(h){var y=h.idx,_={item:r[y],refIndex:y};return d.length&&d.forEach(function(w){w(h,_)}),_})}var St=function(){function o(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;J(this,o),this.options=mi({},L,{},n),this.options.useExtendedSearch,this._keyStore=new uu(this.options.keys),this.setCollection(r,a)}return X(o,[{key:"setCollection",value:function(n,a){if(this._docs=n,a&&!(a instanceof Dn))throw new Error(nu);this._myIndex=a||wi(this.options.keys,this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(n){!oe(n)||(this._docs.push(n),this._myIndex.add(n))}},{key:"remove",value:function(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},a=[],s=0,u=this._docs.length;s<u;s+=1){var f=this._docs[s];n(f,s)&&(this.removeAt(s),s-=1,u-=1,a.push(f))}return a}},{key:"removeAt",value:function(n){this._docs.splice(n,1),this._myIndex.removeAt(n)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.limit,u=s===void 0?-1:s,f=this.options,d=f.includeMatches,h=f.includeScore,y=f.shouldSort,_=f.sortFn,w=f.ignoreFieldNorm,m=Ae(n)?Ae(this._docs[0])?this._searchStringList(n):this._searchObjectList(n):this._searchLogical(n);return Iu(m,{ignoreFieldNorm:w}),y&&m.sort(_),pi(u)&&u>-1&&(m=m.slice(0,u)),Wu(m,this._docs,{includeMatches:d,includeScore:h})}},{key:"_searchStringList",value:function(n){var a=$n(n,this.options),s=this._myIndex.records,u=[];return s.forEach(function(f){var d=f.v,h=f.i,y=f.n;if(!!oe(d)){var _=a.searchIn(d),w=_.isMatch,m=_.score,b=_.indices;w&&u.push({item:d,idx:h,matches:[{score:m,value:d,norm:y,indices:b}]})}}),u}},{key:"_searchLogical",value:function(n){var a=this,s=Pi(n,this.options),u=function y(_,w,m){if(!_.children){var b=_.keyId,g=_.searcher,R=a._findMatches({key:a._keyStore.get(b),value:a._myIndex.getValueForItemAtKeyId(w,b),searcher:g});return R&&R.length?[{idx:m,item:w,matches:R}]:[]}switch(_.operator){case Yt.AND:{for(var T=[],E=0,A=_.children.length;E<A;E+=1){var F=_.children[E],P=y(F,w,m);if(P.length)T.push.apply(T,ze(P));else return[]}return T}case Yt.OR:{for(var M=[],k=0,z=_.children.length;k<z;k+=1){var j=_.children[k],H=y(j,w,m);if(H.length){M.push.apply(M,ze(H));break}}return M}}},f=this._myIndex.records,d={},h=[];return f.forEach(function(y){var _=y.$,w=y.i;if(oe(_)){var m=u(s,_,w);m.length&&(d[w]||(d[w]={idx:w,item:_,matches:[]},h.push(d[w])),m.forEach(function(b){var g,R=b.matches;(g=d[w].matches).push.apply(g,ze(R))}))}}),h}},{key:"_searchObjectList",value:function(n){var a=this,s=$n(n,this.options),u=this._myIndex,f=u.keys,d=u.records,h=[];return d.forEach(function(y){var _=y.$,w=y.i;if(!!oe(_)){var m=[];f.forEach(function(b,g){m.push.apply(m,ze(a._findMatches({key:b,value:_[g],searcher:s})))}),m.length&&h.push({idx:w,item:_,matches:m})}}),h}},{key:"_findMatches",value:function(n){var a=n.key,s=n.value,u=n.searcher;if(!oe(s))return[];var f=[];if(Ce(s))s.forEach(function(b){var g=b.v,R=b.i,T=b.n;if(!!oe(g)){var E=u.searchIn(g),A=E.isMatch,F=E.score,P=E.indices;A&&f.push({score:F,key:a,value:g,idx:R,norm:T,indices:P})}});else{var d=s.v,h=s.n,y=u.searchIn(d),_=y.isMatch,w=y.score,m=y.indices;_&&f.push({score:w,key:a,value:d,norm:h,indices:m})}return f}}]),o}();St.version="6.4.6";St.createIndex=wi;St.parseIndex=bu;St.config=L;St.parseQuery=Pi;Mu(Lu);ki.exports=St});var Bi=Ln((Ur,Oi)=>{(function(o,r){typeof Ur=="object"&&typeof Oi!="undefined"?r(Ur):typeof define=="function"&&define.amd?define(["exports"],r):(o=typeof globalThis!="undefined"?globalThis:o||self,r(o.WebStreamsPolyfill={}))})(Ur,function(o){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function n(){}function a(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global}let s=a();function u(e){return typeof e=="object"&&e!==null||typeof e=="function"}let f=n,d=Promise,h=Promise.prototype.then,y=Promise.resolve.bind(d),_=Promise.reject.bind(d);function w(e){return new d(e)}function m(e){return y(e)}function b(e){return _(e)}function g(e,t,i){return h.call(e,t,i)}function R(e,t,i){g(g(e,t,i),void 0,f)}function T(e,t){R(e,t)}function E(e,t){R(e,void 0,t)}function A(e,t,i){return g(e,t,i)}function F(e){g(e,void 0,f)}let P=(()=>{let e=s&&s.queueMicrotask;if(typeof e=="function")return e;let t=m(void 0);return i=>g(t,i)})();function M(e,t,i){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,i)}function k(e,t,i){try{return m(M(e,t,i))}catch(l){return b(l)}}let z=16384;class j{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let i=this._back,l=i;i._elements.length===z-1&&(l={_elements:[],_next:void 0}),i._elements.push(t),l!==i&&(this._back=l,i._next=l),++this._size}shift(){let t=this._front,i=t,l=this._cursor,c=l+1,p=t._elements,S=p[l];return c===z&&(i=t._next,c=0),--this._size,this._cursor=c,t!==i&&(this._front=i),p[l]=void 0,S}forEach(t){let i=this._cursor,l=this._front,c=l._elements;for(;(i!==c.length||l._next!==void 0)&&!(i===c.length&&(l=l._next,c=l._elements,i=0,c.length===0));)t(c[i]),++i}peek(){let t=this._front,i=this._cursor;return t._elements[i]}}function H(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?Le(e):t._state==="closed"?tn(e):Ve(e,t._storedError)}function at(e,t){let i=e._ownerReadableStream;return be(i,t)}function V(e){e._ownerReadableStream._state==="readable"?de(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):st(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function te(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Le(e){e._closedPromise=w((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i})}function Ve(e,t){Le(e),de(e,t)}function tn(e){Le(e),he(e)}function de(e,t){e._closedPromise_reject!==void 0&&(F(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function st(e,t){Ve(e,t)}function he(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let or=r("[[AbortSteps]]"),kt=r("[[ErrorSteps]]"),Ye=r("[[CancelSteps]]"),Se=r("[[PullSteps]]"),re=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},ut=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function ir(e){return typeof e=="object"||typeof e=="function"}function me(e,t){if(e!==void 0&&!ir(e))throw new TypeError(`${t} is not an object.`)}function Y(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function ar(e){return typeof e=="object"&&e!==null||typeof e=="function"}function Xn(e,t){if(!ar(e))throw new TypeError(`${t} is not an object.`)}function Re(e,t,i){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${i}'.`)}function rn(e,t,i){if(e===void 0)throw new TypeError(`${t} is required in '${i}'.`)}function nn(e){return Number(e)}function Zn(e){return e===0?0:e}function _a(e){return Zn(ut(e))}function eo(e,t){let i=0,l=Number.MAX_SAFE_INTEGER,c=Number(e);if(c=Zn(c),!re(c))throw new TypeError(`${t} is not a finite number`);if(c=_a(c),c<i||c>l)throw new TypeError(`${t} is outside the accepted range of ${i} to ${l}, inclusive`);return!re(c)||c===0?0:c}function on(e,t){if(!Fe(e))throw new TypeError(`${t} is not a ReadableStream.`)}function lt(e){return new Lt(e)}function to(e,t){e._reader._readRequests.push(t)}function an(e,t,i){let c=e._reader._readRequests.shift();i?c._closeSteps():c._chunkSteps(t)}function sr(e){return e._reader._readRequests.length}function ro(e){let t=e._reader;return!(t===void 0||!Me(t))}class Lt{constructor(t){if(Re(t,1,"ReadableStreamDefaultReader"),on(t,"First parameter"),De(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");H(this,t),this._readRequests=new j}get closed(){return Me(this)?this._closedPromise:b(ur("closed"))}cancel(t=void 0){return Me(this)?this._ownerReadableStream===void 0?b(te("cancel")):at(this,t):b(ur("cancel"))}read(){if(!Me(this))return b(ur("read"));if(this._ownerReadableStream===void 0)return b(te("read from"));let t,i,l=w((p,S)=>{t=p,i=S});return Mt(this,{_chunkSteps:p=>t({value:p,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:p=>i(p)}),l}releaseLock(){if(!Me(this))throw ur("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");V(this)}}}Object.defineProperties(Lt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Lt.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Me(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof Lt}function Mt(e,t){let i=e._ownerReadableStream;i._disturbed=!0,i._state==="closed"?t._closeSteps():i._state==="errored"?t._errorSteps(i._storedError):i._readableStreamController[Se](t)}function ur(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let no=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class oo{constructor(t,i){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=i}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?A(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let i=()=>this._returnSteps(t);return this._ongoingPromise?A(this._ongoingPromise,i,i):i()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return b(te("iterate"));let i,l,c=w((S,v)=>{i=S,l=v});return Mt(t,{_chunkSteps:S=>{this._ongoingPromise=void 0,P(()=>i({value:S,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,V(t),i({value:void 0,done:!0})},_errorSteps:S=>{this._ongoingPromise=void 0,this._isFinished=!0,V(t),l(S)}}),c}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let i=this._reader;if(i._ownerReadableStream===void 0)return b(te("finish iterating"));if(!this._preventCancel){let l=at(i,t);return V(i),A(l,()=>({value:t,done:!0}))}return V(i),m({value:t,done:!0})}}let io={next(){return ao(this)?this._asyncIteratorImpl.next():b(so("next"))},return(e){return ao(this)?this._asyncIteratorImpl.return(e):b(so("return"))}};no!==void 0&&Object.setPrototypeOf(io,no);function Sa(e,t){let i=lt(e),l=new oo(i,t),c=Object.create(io);return c._asyncIteratorImpl=l,c}function ao(e){if(!u(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof oo}catch{return!1}}function so(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let uo=Number.isNaN||function(e){return e!==e};function Ot(e){return e.slice()}function lo(e,t,i,l,c){new Uint8Array(e).set(new Uint8Array(i,l,c),t)}function Bt(e){return e}function lr(e){return!1}function co(e,t,i){if(e.slice)return e.slice(t,i);let l=i-t,c=new ArrayBuffer(l);return lo(c,0,e,t,l),c}function wa(e){return!(typeof e!="number"||uo(e)||e<0)}function fo(e){let t=co(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function sn(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function un(e,t,i){if(!wa(i)||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:i}),e._queueTotalSize+=i}function va(e){return e._queue.peek().value}function Oe(e){e._queue=new j,e._queueTotalSize=0}class It{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ln(this))throw hn("view");return this._view}respond(t){if(!ln(this))throw hn("respond");if(Re(t,1,"respond"),t=eo(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");lr(this._view.buffer),mr(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!ln(this))throw hn("respondWithNewView");if(Re(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");lr(t.buffer),pr(this._associatedReadableByteStreamController,t)}}Object.defineProperties(It.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(It.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class ct{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Qe(this))throw Dt("byobRequest");return dn(this)}get desiredSize(){if(!Qe(this))throw Dt("desiredSize");return So(this)}close(){if(!Qe(this))throw Dt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);Ft(this)}enqueue(t){if(!Qe(this))throw Dt("enqueue");if(Re(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let i=this._controlledReadableByteStream._state;if(i!=="readable")throw new TypeError(`The stream (in ${i} state) is not in the readable state and cannot be enqueued to`);hr(this,t)}error(t=void 0){if(!Qe(this))throw Dt("error");pe(this,t)}[Ye](t){ho(this),Oe(this);let i=this._cancelAlgorithm(t);return dr(this),i}[Se](t){let i=this._controlledReadableByteStream;if(this._queueTotalSize>0){let c=this._queue.shift();this._queueTotalSize-=c.byteLength,go(this);let p=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);t._chunkSteps(p);return}let l=this._autoAllocateChunkSize;if(l!==void 0){let c;try{c=new ArrayBuffer(l)}catch(S){t._errorSteps(S);return}let p={buffer:c,bufferByteLength:l,byteOffset:0,byteLength:l,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(p)}to(i,t),Ge(this)}}Object.defineProperties(ct.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(ct.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Qe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof ct}function ln(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof It}function Ge(e){if(!Ca(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let i=e._pullAlgorithm();R(i,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ge(e))},l=>{pe(e,l)})}function ho(e){fn(e),e._pendingPullIntos=new j}function cn(e,t){let i=!1;e._state==="closed"&&(i=!0);let l=mo(t);t.readerType==="default"?an(e,l,i):ka(e,l,i)}function mo(e){let t=e.bytesFilled,i=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/i)}function cr(e,t,i,l){e._queue.push({buffer:t,byteOffset:i,byteLength:l}),e._queueTotalSize+=l}function po(e,t){let i=t.elementSize,l=t.bytesFilled-t.bytesFilled%i,c=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),p=t.bytesFilled+c,S=p-p%i,v=c,O=!1;S>l&&(v=S-t.bytesFilled,O=!0);let I=e._queue;for(;v>0;){let D=I.peek(),W=Math.min(v,D.byteLength),N=t.byteOffset+t.bytesFilled;lo(t.buffer,N,D.buffer,D.byteOffset,W),D.byteLength===W?I.shift():(D.byteOffset+=W,D.byteLength-=W),e._queueTotalSize-=W,bo(e,W,t),v-=W}return O}function bo(e,t,i){i.bytesFilled+=t}function go(e){e._queueTotalSize===0&&e._closeRequested?(dr(e),Ut(e._controlledReadableByteStream)):Ge(e)}function fn(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function yo(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();po(e,t)&&(fr(e),cn(e._controlledReadableByteStream,t))}}function Ra(e,t,i){let l=e._controlledReadableByteStream,c=1;t.constructor!==DataView&&(c=t.constructor.BYTES_PER_ELEMENT);let p=t.constructor,S=Bt(t.buffer),v={buffer:S,bufferByteLength:S.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:c,viewConstructor:p,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(v),Ro(l,i);return}if(l._state==="closed"){let O=new p(v.buffer,v.byteOffset,0);i._closeSteps(O);return}if(e._queueTotalSize>0){if(po(e,v)){let O=mo(v);go(e),i._chunkSteps(O);return}if(e._closeRequested){let O=new TypeError("Insufficient bytes to fill elements in the given buffer");pe(e,O),i._errorSteps(O);return}}e._pendingPullIntos.push(v),Ro(l,i),Ge(e)}function Ta(e,t){let i=e._controlledReadableByteStream;if(mn(i))for(;To(i)>0;){let l=fr(e);cn(i,l)}}function Ea(e,t,i){if(bo(e,t,i),i.bytesFilled<i.elementSize)return;fr(e);let l=i.bytesFilled%i.elementSize;if(l>0){let c=i.byteOffset+i.bytesFilled,p=co(i.buffer,c-l,c);cr(e,p,0,p.byteLength)}i.bytesFilled-=l,cn(e._controlledReadableByteStream,i),yo(e)}function _o(e,t){let i=e._pendingPullIntos.peek();fn(e),e._controlledReadableByteStream._state==="closed"?Ta(e):Ea(e,t,i),Ge(e)}function fr(e){return e._pendingPullIntos.shift()}function Ca(e){let t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(ro(t)&&sr(t)>0||mn(t)&&To(t)>0||So(e)>0)}function dr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ft(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let l=new TypeError("Insufficient bytes to fill elements in the given buffer");throw pe(e,l),l}dr(e),Ut(t)}}function hr(e,t){let i=e._controlledReadableByteStream;if(e._closeRequested||i._state!=="readable")return;let l=t.buffer,c=t.byteOffset,p=t.byteLength,S=Bt(l);if(e._pendingPullIntos.length>0){let v=e._pendingPullIntos.peek();lr(v.buffer),v.buffer=Bt(v.buffer)}if(fn(e),ro(i))if(sr(i)===0)cr(e,S,c,p);else{e._pendingPullIntos.length>0&&fr(e);let v=new Uint8Array(S,c,p);an(i,v,!1)}else mn(i)?(cr(e,S,c,p),yo(e)):cr(e,S,c,p);Ge(e)}function pe(e,t){let i=e._controlledReadableByteStream;i._state==="readable"&&(ho(e),Oe(e),dr(e),Qo(i,t))}function dn(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),i=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),l=Object.create(It.prototype);Pa(l,e,i),e._byobRequest=l}return e._byobRequest}function So(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function mr(e,t){let i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+t>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=Bt(i.buffer),_o(e,t)}function pr(e,t){let i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+t.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let c=t.byteLength;i.buffer=Bt(t.buffer),_o(e,c)}function wo(e,t,i,l,c,p,S){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Oe(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=p,t._pullAlgorithm=l,t._cancelAlgorithm=c,t._autoAllocateChunkSize=S,t._pendingPullIntos=new j,e._readableStreamController=t;let v=i();R(m(v),()=>{t._started=!0,Ge(t)},O=>{pe(t,O)})}function Aa(e,t,i){let l=Object.create(ct.prototype),c=()=>{},p=()=>m(void 0),S=()=>m(void 0);t.start!==void 0&&(c=()=>t.start(l)),t.pull!==void 0&&(p=()=>t.pull(l)),t.cancel!==void 0&&(S=O=>t.cancel(O));let v=t.autoAllocateChunkSize;if(v===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");wo(e,l,c,p,S,i,v)}function Pa(e,t,i){e._associatedReadableByteStreamController=t,e._view=i}function hn(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Dt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function vo(e){return new Wt(e)}function Ro(e,t){e._reader._readIntoRequests.push(t)}function ka(e,t,i){let c=e._reader._readIntoRequests.shift();i?c._closeSteps(t):c._chunkSteps(t)}function To(e){return e._reader._readIntoRequests.length}function mn(e){let t=e._reader;return!(t===void 0||!Ke(t))}class Wt{constructor(t){if(Re(t,1,"ReadableStreamBYOBReader"),on(t,"First parameter"),De(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Qe(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");H(this,t),this._readIntoRequests=new j}get closed(){return Ke(this)?this._closedPromise:b(br("closed"))}cancel(t=void 0){return Ke(this)?this._ownerReadableStream===void 0?b(te("cancel")):at(this,t):b(br("cancel"))}read(t){if(!Ke(this))return b(br("read"));if(!ArrayBuffer.isView(t))return b(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return b(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return b(new TypeError("view's buffer must have non-zero byteLength"));if(lr(t.buffer),this._ownerReadableStream===void 0)return b(te("read from"));let i,l,c=w((S,v)=>{i=S,l=v});return Eo(this,t,{_chunkSteps:S=>i({value:S,done:!1}),_closeSteps:S=>i({value:S,done:!0}),_errorSteps:S=>l(S)}),c}releaseLock(){if(!Ke(this))throw br("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");V(this)}}}Object.defineProperties(Wt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Wt.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Ke(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof Wt}function Eo(e,t,i){let l=e._ownerReadableStream;l._disturbed=!0,l._state==="errored"?i._errorSteps(l._storedError):Ra(l._readableStreamController,t,i)}function br(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function $t(e,t){let{highWaterMark:i}=e;if(i===void 0)return t;if(uo(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function gr(e){let{size:t}=e;return t||(()=>1)}function yr(e,t){me(e,t);let i=e==null?void 0:e.highWaterMark,l=e==null?void 0:e.size;return{highWaterMark:i===void 0?void 0:nn(i),size:l===void 0?void 0:La(l,`${t} has member 'size' that`)}}function La(e,t){return Y(e,t),i=>nn(e(i))}function Ma(e,t){me(e,t);let i=e==null?void 0:e.abort,l=e==null?void 0:e.close,c=e==null?void 0:e.start,p=e==null?void 0:e.type,S=e==null?void 0:e.write;return{abort:i===void 0?void 0:Oa(i,e,`${t} has member 'abort' that`),close:l===void 0?void 0:Ba(l,e,`${t} has member 'close' that`),start:c===void 0?void 0:Ia(c,e,`${t} has member 'start' that`),write:S===void 0?void 0:Fa(S,e,`${t} has member 'write' that`),type:p}}function Oa(e,t,i){return Y(e,i),l=>k(e,t,[l])}function Ba(e,t,i){return Y(e,i),()=>k(e,t,[])}function Ia(e,t,i){return Y(e,i),l=>M(e,t,[l])}function Fa(e,t,i){return Y(e,i),(l,c)=>k(e,t,[l,c])}function Co(e,t){if(!ft(e))throw new TypeError(`${t} is not a WritableStream.`)}function Da(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let Wa=typeof AbortController=="function";function $a(){if(Wa)return new AbortController}class xt{constructor(t={},i={}){t===void 0?t=null:Xn(t,"First parameter");let l=yr(i,"Second parameter"),c=Ma(t,"First parameter");if(Po(this),c.type!==void 0)throw new RangeError("Invalid type is specified");let S=gr(l),v=$t(l,1);Xa(this,c,v,S)}get locked(){if(!ft(this))throw Rr("locked");return dt(this)}abort(t=void 0){return ft(this)?dt(this)?b(new TypeError("Cannot abort a stream that already has a writer")):_r(this,t):b(Rr("abort"))}close(){return ft(this)?dt(this)?b(new TypeError("Cannot close a stream that already has a writer")):we(this)?b(new TypeError("Cannot close an already-closing stream")):ko(this):b(Rr("close"))}getWriter(){if(!ft(this))throw Rr("getWriter");return Ao(this)}}Object.defineProperties(xt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(xt.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function Ao(e){return new qt(e)}function xa(e,t,i,l,c=1,p=()=>1){let S=Object.create(xt.prototype);Po(S);let v=Object.create(ht.prototype);return Fo(S,v,e,t,i,l,c,p),S}function Po(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new j,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ft(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof xt}function dt(e){return e._writer!==void 0}function _r(e,t){var i;if(e._state==="closed"||e._state==="errored")return m(void 0);e._writableStreamController._abortReason=t,(i=e._writableStreamController._abortController)===null||i===void 0||i.abort();let l=e._state;if(l==="closed"||l==="errored")return m(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let c=!1;l==="erroring"&&(c=!0,t=void 0);let p=w((S,v)=>{e._pendingAbortRequest={_promise:void 0,_resolve:S,_reject:v,_reason:t,_wasAlreadyErroring:c}});return e._pendingAbortRequest._promise=p,c||bn(e,t),p}function ko(e){let t=e._state;if(t==="closed"||t==="errored")return b(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let i=w((c,p)=>{let S={_resolve:c,_reject:p};e._closeRequest=S}),l=e._writer;return l!==void 0&&e._backpressure&&t==="writable"&&En(l),Za(e._writableStreamController),i}function qa(e){return w((i,l)=>{let c={_resolve:i,_reject:l};e._writeRequests.push(c)})}function pn(e,t){if(e._state==="writable"){bn(e,t);return}gn(e)}function bn(e,t){let i=e._writableStreamController;e._state="erroring",e._storedError=t;let l=e._writer;l!==void 0&&Mo(l,t),!Ha(e)&&i._started&&gn(e)}function gn(e){e._state="errored",e._writableStreamController[kt]();let t=e._storedError;if(e._writeRequests.forEach(c=>{c._reject(t)}),e._writeRequests=new j,e._pendingAbortRequest===void 0){Sr(e);return}let i=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,i._wasAlreadyErroring){i._reject(t),Sr(e);return}let l=e._writableStreamController[or](i._reason);R(l,()=>{i._resolve(),Sr(e)},c=>{i._reject(c),Sr(e)})}function za(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function ja(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,pn(e,t)}function Na(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let i=e._writer;i!==void 0&&xo(i)}function Ua(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),pn(e,t)}function we(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Ha(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function Va(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Ya(e){e._inFlightWriteRequest=e._writeRequests.shift()}function Sr(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&Rn(t,e._storedError)}function yn(e,t){let i=e._writer;i!==void 0&&t!==e._backpressure&&(t?as(i):En(i)),e._backpressure=t}class qt{constructor(t){if(Re(t,1,"WritableStreamDefaultWriter"),Co(t,"First parameter"),dt(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let i=t._state;if(i==="writable")!we(t)&&t._backpressure?Er(this):qo(this),Tr(this);else if(i==="erroring")Tn(this,t._storedError),Tr(this);else if(i==="closed")qo(this),os(this);else{let l=t._storedError;Tn(this,l),$o(this,l)}}get closed(){return Je(this)?this._closedPromise:b(Xe("closed"))}get desiredSize(){if(!Je(this))throw Xe("desiredSize");if(this._ownerWritableStream===void 0)throw zt("desiredSize");return Ja(this)}get ready(){return Je(this)?this._readyPromise:b(Xe("ready"))}abort(t=void 0){return Je(this)?this._ownerWritableStream===void 0?b(zt("abort")):Qa(this,t):b(Xe("abort"))}close(){if(!Je(this))return b(Xe("close"));let t=this._ownerWritableStream;return t===void 0?b(zt("close")):we(t)?b(new TypeError("Cannot close an already-closing stream")):Lo(this)}releaseLock(){if(!Je(this))throw Xe("releaseLock");this._ownerWritableStream!==void 0&&Oo(this)}write(t=void 0){return Je(this)?this._ownerWritableStream===void 0?b(zt("write to")):Bo(this,t):b(Xe("write"))}}Object.defineProperties(qt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(qt.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Je(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof qt}function Qa(e,t){let i=e._ownerWritableStream;return _r(i,t)}function Lo(e){let t=e._ownerWritableStream;return ko(t)}function Ga(e){let t=e._ownerWritableStream,i=t._state;return we(t)||i==="closed"?m(void 0):i==="errored"?b(t._storedError):Lo(e)}function Ka(e,t){e._closedPromiseState==="pending"?Rn(e,t):is(e,t)}function Mo(e,t){e._readyPromiseState==="pending"?zo(e,t):ss(e,t)}function Ja(e){let t=e._ownerWritableStream,i=t._state;return i==="errored"||i==="erroring"?null:i==="closed"?0:Do(t._writableStreamController)}function Oo(e){let t=e._ownerWritableStream,i=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Mo(e,i),Ka(e,i),t._writer=void 0,e._ownerWritableStream=void 0}function Bo(e,t){let i=e._ownerWritableStream,l=i._writableStreamController,c=es(l,t);if(i!==e._ownerWritableStream)return b(zt("write to"));let p=i._state;if(p==="errored")return b(i._storedError);if(we(i)||p==="closed")return b(new TypeError("The stream is closing or closed and cannot be written to"));if(p==="erroring")return b(i._storedError);let S=qa(i);return ts(l,t,c),S}let Io={};class ht{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!_n(this))throw vn("abortReason");return this._abortReason}get signal(){if(!_n(this))throw vn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!_n(this))throw vn("error");this._controlledWritableStream._state==="writable"&&Wo(this,t)}[or](t){let i=this._abortAlgorithm(t);return wr(this),i}[kt](){Oe(this)}}Object.defineProperties(ht.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(ht.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function _n(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof ht}function Fo(e,t,i,l,c,p,S,v){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Oe(t),t._abortReason=void 0,t._abortController=$a(),t._started=!1,t._strategySizeAlgorithm=v,t._strategyHWM=S,t._writeAlgorithm=l,t._closeAlgorithm=c,t._abortAlgorithm=p;let O=wn(t);yn(e,O);let I=i(),D=m(I);R(D,()=>{t._started=!0,vr(t)},W=>{t._started=!0,pn(e,W)})}function Xa(e,t,i,l){let c=Object.create(ht.prototype),p=()=>{},S=()=>m(void 0),v=()=>m(void 0),O=()=>m(void 0);t.start!==void 0&&(p=()=>t.start(c)),t.write!==void 0&&(S=I=>t.write(I,c)),t.close!==void 0&&(v=()=>t.close()),t.abort!==void 0&&(O=I=>t.abort(I)),Fo(e,c,p,S,v,O,i,l)}function wr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Za(e){un(e,Io,0),vr(e)}function es(e,t){try{return e._strategySizeAlgorithm(t)}catch(i){return Sn(e,i),1}}function Do(e){return e._strategyHWM-e._queueTotalSize}function ts(e,t,i){try{un(e,t,i)}catch(c){Sn(e,c);return}let l=e._controlledWritableStream;if(!we(l)&&l._state==="writable"){let c=wn(e);yn(l,c)}vr(e)}function vr(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){gn(t);return}if(e._queue.length===0)return;let l=va(e);l===Io?rs(e):ns(e,l)}function Sn(e,t){e._controlledWritableStream._state==="writable"&&Wo(e,t)}function rs(e){let t=e._controlledWritableStream;Va(t),sn(e);let i=e._closeAlgorithm();wr(e),R(i,()=>{Na(t)},l=>{Ua(t,l)})}function ns(e,t){let i=e._controlledWritableStream;Ya(i);let l=e._writeAlgorithm(t);R(l,()=>{za(i);let c=i._state;if(sn(e),!we(i)&&c==="writable"){let p=wn(e);yn(i,p)}vr(e)},c=>{i._state==="writable"&&wr(e),ja(i,c)})}function wn(e){return Do(e)<=0}function Wo(e,t){let i=e._controlledWritableStream;wr(e),bn(i,t)}function Rr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function vn(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Xe(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function zt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Tr(e){e._closedPromise=w((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i,e._closedPromiseState="pending"})}function $o(e,t){Tr(e),Rn(e,t)}function os(e){Tr(e),xo(e)}function Rn(e,t){e._closedPromise_reject!==void 0&&(F(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function is(e,t){$o(e,t)}function xo(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Er(e){e._readyPromise=w((t,i)=>{e._readyPromise_resolve=t,e._readyPromise_reject=i}),e._readyPromiseState="pending"}function Tn(e,t){Er(e),zo(e,t)}function qo(e){Er(e),En(e)}function zo(e,t){e._readyPromise_reject!==void 0&&(F(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function as(e){Er(e)}function ss(e,t){Tn(e,t)}function En(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let jo=typeof DOMException!="undefined"?DOMException:void 0;function us(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function ls(){let e=function(i,l){this.message=i||"",this.name=l||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let cs=us(jo)?jo:ls();function No(e,t,i,l,c,p){let S=lt(e),v=Ao(t);e._disturbed=!0;let O=!1,I=m(void 0);return w((D,W)=>{let N;if(p!==void 0){if(N=()=>{let C=new cs("Aborted","AbortError"),B=[];l||B.push(()=>t._state==="writable"?_r(t,C):m(void 0)),c||B.push(()=>e._state==="readable"?be(e,C):m(void 0)),G(()=>Promise.all(B.map($=>$())),!0,C)},p.aborted){N();return}p.addEventListener("abort",N)}function ge(){return w((C,B)=>{function $(ne){ne?C():g(bt(),$,B)}$(!1)})}function bt(){return O?m(!0):g(v._readyPromise,()=>w((C,B)=>{Mt(S,{_chunkSteps:$=>{I=g(Bo(v,$),void 0,n),C(!1)},_closeSteps:()=>C(!0),_errorSteps:B})}))}if(Te(e,S._closedPromise,C=>{l?se(!0,C):G(()=>_r(t,C),!0,C)}),Te(t,v._closedPromise,C=>{c?se(!0,C):G(()=>be(e,C),!0,C)}),Q(e,S._closedPromise,()=>{i?se():G(()=>Ga(v))}),we(t)||t._state==="closed"){let C=new TypeError("the destination writable stream closed before all data could be piped to it");c?se(!0,C):G(()=>be(e,C),!0,C)}F(ge());function We(){let C=I;return g(I,()=>C!==I?We():void 0)}function Te(C,B,$){C._state==="errored"?$(C._storedError):E(B,$)}function Q(C,B,$){C._state==="closed"?$():T(B,$)}function G(C,B,$){if(O)return;O=!0,t._state==="writable"&&!we(t)?T(We(),ne):ne();function ne(){R(C(),()=>Ee(B,$),gt=>Ee(!0,gt))}}function se(C,B){O||(O=!0,t._state==="writable"&&!we(t)?T(We(),()=>Ee(C,B)):Ee(C,B))}function Ee(C,B){Oo(v),V(S),p!==void 0&&p.removeEventListener("abort",N),C?W(B):D(void 0)}})}class mt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Cr(this))throw kr("desiredSize");return Cn(this)}close(){if(!Cr(this))throw kr("close");if(!pt(this))throw new TypeError("The stream is not in a state that permits close");Nt(this)}enqueue(t=void 0){if(!Cr(this))throw kr("enqueue");if(!pt(this))throw new TypeError("The stream is not in a state that permits enqueue");return Pr(this,t)}error(t=void 0){if(!Cr(this))throw kr("error");Be(this,t)}[Ye](t){Oe(this);let i=this._cancelAlgorithm(t);return Ar(this),i}[Se](t){let i=this._controlledReadableStream;if(this._queue.length>0){let l=sn(this);this._closeRequested&&this._queue.length===0?(Ar(this),Ut(i)):jt(this),t._chunkSteps(l)}else to(i,t),jt(this)}}Object.defineProperties(mt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(mt.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Cr(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof mt}function jt(e){if(!Uo(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let i=e._pullAlgorithm();R(i,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,jt(e))},l=>{Be(e,l)})}function Uo(e){let t=e._controlledReadableStream;return!pt(e)||!e._started?!1:!!(De(t)&&sr(t)>0||Cn(e)>0)}function Ar(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Nt(e){if(!pt(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Ar(e),Ut(t))}function Pr(e,t){if(!pt(e))return;let i=e._controlledReadableStream;if(De(i)&&sr(i)>0)an(i,t,!1);else{let l;try{l=e._strategySizeAlgorithm(t)}catch(c){throw Be(e,c),c}try{un(e,t,l)}catch(c){throw Be(e,c),c}}jt(e)}function Be(e,t){let i=e._controlledReadableStream;i._state==="readable"&&(Oe(e),Ar(e),Qo(i,t))}function Cn(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function fs(e){return!Uo(e)}function pt(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function Ho(e,t,i,l,c,p,S){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Oe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=S,t._strategyHWM=p,t._pullAlgorithm=l,t._cancelAlgorithm=c,e._readableStreamController=t;let v=i();R(m(v),()=>{t._started=!0,jt(t)},O=>{Be(t,O)})}function ds(e,t,i,l){let c=Object.create(mt.prototype),p=()=>{},S=()=>m(void 0),v=()=>m(void 0);t.start!==void 0&&(p=()=>t.start(c)),t.pull!==void 0&&(S=()=>t.pull(c)),t.cancel!==void 0&&(v=O=>t.cancel(O)),Ho(e,c,p,S,v,i,l)}function kr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function hs(e,t){return Qe(e._readableStreamController)?ps(e):ms(e)}function ms(e,t){let i=lt(e),l=!1,c=!1,p=!1,S=!1,v,O,I,D,W,N=w(Q=>{W=Q});function ge(){return l?(c=!0,m(void 0)):(l=!0,Mt(i,{_chunkSteps:G=>{P(()=>{c=!1;let se=G,Ee=G;p||Pr(I._readableStreamController,se),S||Pr(D._readableStreamController,Ee),l=!1,c&&ge()})},_closeSteps:()=>{l=!1,p||Nt(I._readableStreamController),S||Nt(D._readableStreamController),(!p||!S)&&W(void 0)},_errorSteps:()=>{l=!1}}),m(void 0))}function bt(Q){if(p=!0,v=Q,S){let G=Ot([v,O]),se=be(e,G);W(se)}return N}function We(Q){if(S=!0,O=Q,p){let G=Ot([v,O]),se=be(e,G);W(se)}return N}function Te(){}return I=An(Te,ge,bt),D=An(Te,ge,We),E(i._closedPromise,Q=>{Be(I._readableStreamController,Q),Be(D._readableStreamController,Q),(!p||!S)&&W(void 0)}),[I,D]}function ps(e){let t=lt(e),i=!1,l=!1,c=!1,p=!1,S=!1,v,O,I,D,W,N=w(C=>{W=C});function ge(C){E(C._closedPromise,B=>{C===t&&(pe(I._readableStreamController,B),pe(D._readableStreamController,B),(!p||!S)&&W(void 0))})}function bt(){Ke(t)&&(V(t),t=lt(e),ge(t)),Mt(t,{_chunkSteps:B=>{P(()=>{l=!1,c=!1;let $=B,ne=B;if(!p&&!S)try{ne=fo(B)}catch(gt){pe(I._readableStreamController,gt),pe(D._readableStreamController,gt),W(be(e,gt));return}p||hr(I._readableStreamController,$),S||hr(D._readableStreamController,ne),i=!1,l?Te():c&&Q()})},_closeSteps:()=>{i=!1,p||Ft(I._readableStreamController),S||Ft(D._readableStreamController),I._readableStreamController._pendingPullIntos.length>0&&mr(I._readableStreamController,0),D._readableStreamController._pendingPullIntos.length>0&&mr(D._readableStreamController,0),(!p||!S)&&W(void 0)},_errorSteps:()=>{i=!1}})}function We(C,B){Me(t)&&(V(t),t=vo(e),ge(t));let $=B?D:I,ne=B?I:D;Eo(t,C,{_chunkSteps:yt=>{P(()=>{l=!1,c=!1;let _t=B?S:p;if(B?p:S)_t||pr($._readableStreamController,yt);else{let si;try{si=fo(yt)}catch(kn){pe($._readableStreamController,kn),pe(ne._readableStreamController,kn),W(be(e,kn));return}_t||pr($._readableStreamController,yt),hr(ne._readableStreamController,si)}i=!1,l?Te():c&&Q()})},_closeSteps:yt=>{i=!1;let _t=B?S:p,$r=B?p:S;_t||Ft($._readableStreamController),$r||Ft(ne._readableStreamController),yt!==void 0&&(_t||pr($._readableStreamController,yt),!$r&&ne._readableStreamController._pendingPullIntos.length>0&&mr(ne._readableStreamController,0)),(!_t||!$r)&&W(void 0)},_errorSteps:()=>{i=!1}})}function Te(){if(i)return l=!0,m(void 0);i=!0;let C=dn(I._readableStreamController);return C===null?bt():We(C._view,!1),m(void 0)}function Q(){if(i)return c=!0,m(void 0);i=!0;let C=dn(D._readableStreamController);return C===null?bt():We(C._view,!0),m(void 0)}function G(C){if(p=!0,v=C,S){let B=Ot([v,O]),$=be(e,B);W($)}return N}function se(C){if(S=!0,O=C,p){let B=Ot([v,O]),$=be(e,B);W($)}return N}function Ee(){}return I=Yo(Ee,Te,G),D=Yo(Ee,Q,se),ge(t),[I,D]}function bs(e,t){me(e,t);let i=e,l=i==null?void 0:i.autoAllocateChunkSize,c=i==null?void 0:i.cancel,p=i==null?void 0:i.pull,S=i==null?void 0:i.start,v=i==null?void 0:i.type;return{autoAllocateChunkSize:l===void 0?void 0:eo(l,`${t} has member 'autoAllocateChunkSize' that`),cancel:c===void 0?void 0:gs(c,i,`${t} has member 'cancel' that`),pull:p===void 0?void 0:ys(p,i,`${t} has member 'pull' that`),start:S===void 0?void 0:_s(S,i,`${t} has member 'start' that`),type:v===void 0?void 0:Ss(v,`${t} has member 'type' that`)}}function gs(e,t,i){return Y(e,i),l=>k(e,t,[l])}function ys(e,t,i){return Y(e,i),l=>k(e,t,[l])}function _s(e,t,i){return Y(e,i),l=>M(e,t,[l])}function Ss(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function ws(e,t){me(e,t);let i=e==null?void 0:e.mode;return{mode:i===void 0?void 0:vs(i,`${t} has member 'mode' that`)}}function vs(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Rs(e,t){me(e,t);let i=e==null?void 0:e.preventCancel;return{preventCancel:Boolean(i)}}function Vo(e,t){me(e,t);let i=e==null?void 0:e.preventAbort,l=e==null?void 0:e.preventCancel,c=e==null?void 0:e.preventClose,p=e==null?void 0:e.signal;return p!==void 0&&Ts(p,`${t} has member 'signal' that`),{preventAbort:Boolean(i),preventCancel:Boolean(l),preventClose:Boolean(c),signal:p}}function Ts(e,t){if(!Da(e))throw new TypeError(`${t} is not an AbortSignal.`)}function Es(e,t){me(e,t);let i=e==null?void 0:e.readable;rn(i,"readable","ReadableWritablePair"),on(i,`${t} has member 'readable' that`);let l=e==null?void 0:e.writable;return rn(l,"writable","ReadableWritablePair"),Co(l,`${t} has member 'writable' that`),{readable:i,writable:l}}class Ie{constructor(t={},i={}){t===void 0?t=null:Xn(t,"First parameter");let l=yr(i,"Second parameter"),c=bs(t,"First parameter");if(Pn(this),c.type==="bytes"){if(l.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let p=$t(l,0);Aa(this,c,p)}else{let p=gr(l),S=$t(l,1);ds(this,c,S,p)}}get locked(){if(!Fe(this))throw Ze("locked");return De(this)}cancel(t=void 0){return Fe(this)?De(this)?b(new TypeError("Cannot cancel a stream that already has a reader")):be(this,t):b(Ze("cancel"))}getReader(t=void 0){if(!Fe(this))throw Ze("getReader");return ws(t,"First parameter").mode===void 0?lt(this):vo(this)}pipeThrough(t,i={}){if(!Fe(this))throw Ze("pipeThrough");Re(t,1,"pipeThrough");let l=Es(t,"First parameter"),c=Vo(i,"Second parameter");if(De(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(dt(l.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let p=No(this,l.writable,c.preventClose,c.preventAbort,c.preventCancel,c.signal);return F(p),l.readable}pipeTo(t,i={}){if(!Fe(this))return b(Ze("pipeTo"));if(t===void 0)return b("Parameter 1 is required in 'pipeTo'.");if(!ft(t))return b(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let l;try{l=Vo(i,"Second parameter")}catch(c){return b(c)}return De(this)?b(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):dt(t)?b(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):No(this,t,l.preventClose,l.preventAbort,l.preventCancel,l.signal)}tee(){if(!Fe(this))throw Ze("tee");let t=hs(this);return Ot(t)}values(t=void 0){if(!Fe(this))throw Ze("values");let i=Rs(t,"First parameter");return Sa(this,i.preventCancel)}}Object.defineProperties(Ie.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ie.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(Ie.prototype,r.asyncIterator,{value:Ie.prototype.values,writable:!0,configurable:!0});function An(e,t,i,l=1,c=()=>1){let p=Object.create(Ie.prototype);Pn(p);let S=Object.create(mt.prototype);return Ho(p,S,e,t,i,l,c),p}function Yo(e,t,i){let l=Object.create(Ie.prototype);Pn(l);let c=Object.create(ct.prototype);return wo(l,c,e,t,i,0,void 0),l}function Pn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Fe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Ie}function De(e){return e._reader!==void 0}function be(e,t){if(e._disturbed=!0,e._state==="closed")return m(void 0);if(e._state==="errored")return b(e._storedError);Ut(e);let i=e._reader;i!==void 0&&Ke(i)&&(i._readIntoRequests.forEach(c=>{c._closeSteps(void 0)}),i._readIntoRequests=new j);let l=e._readableStreamController[Ye](t);return A(l,n)}function Ut(e){e._state="closed";let t=e._reader;t!==void 0&&(he(t),Me(t)&&(t._readRequests.forEach(i=>{i._closeSteps()}),t._readRequests=new j))}function Qo(e,t){e._state="errored",e._storedError=t;let i=e._reader;i!==void 0&&(de(i,t),Me(i)?(i._readRequests.forEach(l=>{l._errorSteps(t)}),i._readRequests=new j):(i._readIntoRequests.forEach(l=>{l._errorSteps(t)}),i._readIntoRequests=new j))}function Ze(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Go(e,t){me(e,t);let i=e==null?void 0:e.highWaterMark;return rn(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:nn(i)}}let Ko=e=>e.byteLength;Object.defineProperty(Ko,"name",{value:"size",configurable:!0});class Lr{constructor(t){Re(t,1,"ByteLengthQueuingStrategy"),t=Go(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Xo(this))throw Jo("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Xo(this))throw Jo("size");return Ko}}Object.defineProperties(Lr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Lr.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Jo(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Xo(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof Lr}let Zo=()=>1;Object.defineProperty(Zo,"name",{value:"size",configurable:!0});class Mr{constructor(t){Re(t,1,"CountQueuingStrategy"),t=Go(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!ti(this))throw ei("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ti(this))throw ei("size");return Zo}}Object.defineProperties(Mr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Mr.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function ei(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function ti(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof Mr}function Cs(e,t){me(e,t);let i=e==null?void 0:e.flush,l=e==null?void 0:e.readableType,c=e==null?void 0:e.start,p=e==null?void 0:e.transform,S=e==null?void 0:e.writableType;return{flush:i===void 0?void 0:As(i,e,`${t} has member 'flush' that`),readableType:l,start:c===void 0?void 0:Ps(c,e,`${t} has member 'start' that`),transform:p===void 0?void 0:ks(p,e,`${t} has member 'transform' that`),writableType:S}}function As(e,t,i){return Y(e,i),l=>k(e,t,[l])}function Ps(e,t,i){return Y(e,i),l=>M(e,t,[l])}function ks(e,t,i){return Y(e,i),(l,c)=>k(e,t,[l,c])}class Or{constructor(t={},i={},l={}){t===void 0&&(t=null);let c=yr(i,"Second parameter"),p=yr(l,"Third parameter"),S=Cs(t,"First parameter");if(S.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(S.writableType!==void 0)throw new RangeError("Invalid writableType specified");let v=$t(p,0),O=gr(p),I=$t(c,1),D=gr(c),W,N=w(ge=>{W=ge});Ls(this,N,I,D,v,O),Os(this,S),S.start!==void 0?W(S.start(this._transformStreamController)):W(void 0)}get readable(){if(!ri(this))throw ai("readable");return this._readable}get writable(){if(!ri(this))throw ai("writable");return this._writable}}Object.defineProperties(Or.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Or.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function Ls(e,t,i,l,c,p){function S(){return t}function v(N){return Fs(e,N)}function O(N){return Ds(e,N)}function I(){return Ws(e)}e._writable=xa(S,v,I,O,i,l);function D(){return $s(e)}function W(N){return Ir(e,N),m(void 0)}e._readable=An(S,D,W,c,p),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Fr(e,!0),e._transformStreamController=void 0}function ri(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof Or}function Br(e,t){Be(e._readable._readableStreamController,t),Ir(e,t)}function Ir(e,t){ni(e._transformStreamController),Sn(e._writable._writableStreamController,t),e._backpressure&&Fr(e,!1)}function Fr(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=w(i=>{e._backpressureChangePromise_resolve=i}),e._backpressure=t}class Ht{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Dr(this))throw Wr("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return Cn(t)}enqueue(t=void 0){if(!Dr(this))throw Wr("enqueue");oi(this,t)}error(t=void 0){if(!Dr(this))throw Wr("error");Bs(this,t)}terminate(){if(!Dr(this))throw Wr("terminate");Is(this)}}Object.defineProperties(Ht.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ht.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Dr(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Ht}function Ms(e,t,i,l){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=i,t._flushAlgorithm=l}function Os(e,t){let i=Object.create(Ht.prototype),l=p=>{try{return oi(i,p),m(void 0)}catch(S){return b(S)}},c=()=>m(void 0);t.transform!==void 0&&(l=p=>t.transform(p,i)),t.flush!==void 0&&(c=()=>t.flush(i)),Ms(e,i,l,c)}function ni(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function oi(e,t){let i=e._controlledTransformStream,l=i._readable._readableStreamController;if(!pt(l))throw new TypeError("Readable side is not in a state that permits enqueue");try{Pr(l,t)}catch(p){throw Ir(i,p),i._readable._storedError}fs(l)!==i._backpressure&&Fr(i,!0)}function Bs(e,t){Br(e._controlledTransformStream,t)}function ii(e,t){let i=e._transformAlgorithm(t);return A(i,void 0,l=>{throw Br(e._controlledTransformStream,l),l})}function Is(e){let t=e._controlledTransformStream,i=t._readable._readableStreamController;Nt(i);let l=new TypeError("TransformStream terminated");Ir(t,l)}function Fs(e,t){let i=e._transformStreamController;if(e._backpressure){let l=e._backpressureChangePromise;return A(l,()=>{let c=e._writable;if(c._state==="erroring")throw c._storedError;return ii(i,t)})}return ii(i,t)}function Ds(e,t){return Br(e,t),m(void 0)}function Ws(e){let t=e._readable,i=e._transformStreamController,l=i._flushAlgorithm();return ni(i),A(l,()=>{if(t._state==="errored")throw t._storedError;Nt(t._readableStreamController)},c=>{throw Br(e,c),t._storedError})}function $s(e){return Fr(e,!1),e._backpressureChangePromise}function Wr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function ai(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}o.ByteLengthQueuingStrategy=Lr,o.CountQueuingStrategy=Mr,o.ReadableByteStreamController=ct,o.ReadableStream=Ie,o.ReadableStreamBYOBReader=Wt,o.ReadableStreamBYOBRequest=It,o.ReadableStreamDefaultController=mt,o.ReadableStreamDefaultReader=Lt,o.TransformStream=Or,o.TransformStreamDefaultController=Ht,o.WritableStream=xt,o.WritableStreamDefaultController=ht,o.WritableStreamDefaultWriter=qt,Object.defineProperty(o,"__esModule",{value:!0})})});var Ii=Ln(()=>{var xu=65536;if(!globalThis.ReadableStream)try{let o=require("process"),{emitWarning:r}=o;try{o.emitWarning=()=>{},Object.assign(globalThis,require("stream/web")),o.emitWarning=r}catch(n){throw o.emitWarning=r,n}}catch{Object.assign(globalThis,Bi())}try{let{Blob:o}=require("buffer");o&&!o.prototype.stream&&(o.prototype.stream=function(n){let a=0,s=this;return new ReadableStream({type:"bytes",async pull(u){let d=await s.slice(a,Math.min(s.size,a+xu)).arrayBuffer();a+=d.byteLength,u.enqueue(new Uint8Array(d)),a===s.size&&u.close()}})})}catch{}});async function*zn(o,r=!0){for(let n of o)if("stream"in n)yield*n.stream();else if(ArrayBuffer.isView(n))if(r){let a=n.byteOffset,s=n.byteOffset+n.byteLength;for(;a!==s;){let u=Math.min(s-a,Fi),f=n.buffer.slice(a,a+u);a+=f.byteLength,yield new Uint8Array(f)}}else yield n;else{let a=0;for(;a!==n.size;){let u=await n.slice(a,Math.min(n.size,a+Fi)).arrayBuffer();a+=u.byteLength,yield new Uint8Array(u)}}}var bl,Fi,Pe,Qt,wt,vt,Di,qu,tt,Gt=Vt(()=>{bl=$e(Ii(),1);Fi=65536;Di=(vt=class{constructor(r=[],n={}){ue(this,Pe,[]);ue(this,Qt,"");ue(this,wt,0);if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof n!="object"&&typeof n!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");n===null&&(n={});let a=new TextEncoder;for(let u of r){let f;ArrayBuffer.isView(u)?f=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?f=new Uint8Array(u.slice(0)):u instanceof vt?f=u:f=a.encode(u),K(this,wt,x(this,wt)+(ArrayBuffer.isView(f)?f.byteLength:f.size)),x(this,Pe).push(f)}let s=n.type===void 0?"":String(n.type);K(this,Qt,/^[\x20-\x7E]*$/.test(s)?s:"")}get size(){return x(this,wt)}get type(){return x(this,Qt)}async text(){let r=new TextDecoder,n="";for await(let a of zn(x(this,Pe),!1))n+=r.decode(a,{stream:!0});return n+=r.decode(),n}async arrayBuffer(){let r=new Uint8Array(this.size),n=0;for await(let a of zn(x(this,Pe),!1))r.set(a,n),n+=a.length;return r.buffer}stream(){let r=zn(x(this,Pe),!0);return new globalThis.ReadableStream({type:"bytes",async pull(n){let a=await r.next();a.done?n.close():n.enqueue(a.value)},async cancel(){await r.return()}})}slice(r=0,n=this.size,a=""){let{size:s}=this,u=r<0?Math.max(s+r,0):Math.min(r,s),f=n<0?Math.max(s+n,0):Math.min(n,s),d=Math.max(f-u,0),h=x(this,Pe),y=[],_=0;for(let m of h){if(_>=d)break;let b=ArrayBuffer.isView(m)?m.byteLength:m.size;if(u&&b<=u)u-=b,f-=b;else{let g;ArrayBuffer.isView(m)?(g=m.subarray(u,Math.min(b,f)),_+=g.byteLength):(g=m.slice(u,Math.min(b,f)),_+=g.size),f-=b,y.push(g),u=0}}let w=new vt([],{type:String(a).toLowerCase()});return K(w,wt,d),K(w,Pe,y),w}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}},Pe=new WeakMap,Qt=new WeakMap,wt=new WeakMap,vt);Object.defineProperties(Di.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});qu=Di,tt=qu});var Jt,Xt,Wi,zu,ju,Kt,jn=Vt(()=>{Gt();zu=(Wi=class extends tt{constructor(r,n,a={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,a);ue(this,Jt,0);ue(this,Xt,"");a===null&&(a={});let s=a.lastModified===void 0?Date.now():Number(a.lastModified);Number.isNaN(s)||K(this,Jt,s),K(this,Xt,String(n))}get name(){return x(this,Xt)}get lastModified(){return x(this,Jt)}get[Symbol.toStringTag](){return"File"}},Jt=new WeakMap,Xt=new WeakMap,Wi),ju=zu,Kt=ju});function qi(o,r=tt){var n=`${$i()}${$i()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),a=[],s=`--${n}\r
Content-Disposition: form-data; name="`;return o.forEach((u,f)=>typeof u=="string"?a.push(s+Nn(f)+`"\r
\r
${u.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):a.push(s+Nn(f)+`"; filename="${Nn(u.name,1)}"\r
Content-Type: ${u.type||"application/octet-stream"}\r
\r
`,u,`\r
`)),a.push(`--${n}--`),new r(a,{type:"multipart/form-data; boundary="+n})}var Zt,Nu,Uu,$i,Hu,xi,Nn,rt,le,zi,Rt,Un=Vt(()=>{Gt();jn();({toStringTag:Zt,iterator:Nu,hasInstance:Uu}=Symbol),$i=Math.random,Hu="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),xi=(o,r,n)=>(o+="",/^(Blob|File)$/.test(r&&r[Zt])?[(n=n!==void 0?n+"":r[Zt]=="File"?r.name:"blob",o),r.name!==n||r[Zt]=="blob"?new Kt([r],n,r):r]:[o,r+""]),Nn=(o,r)=>(r?o:o.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),rt=(o,r,n)=>{if(r.length<n)throw new TypeError(`Failed to execute '${o}' on 'FormData': ${n} arguments required, but only ${r.length} present.`)},Rt=(zi=class{constructor(...r){ue(this,le,[]);if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Zt](){return"FormData"}[Nu](){return this.entries()}static[Uu](r){return r&&typeof r=="object"&&r[Zt]==="FormData"&&!Hu.some(n=>typeof r[n]!="function")}append(...r){rt("append",arguments,2),x(this,le).push(xi(...r))}delete(r){rt("delete",arguments,1),r+="",K(this,le,x(this,le).filter(([n])=>n!==r))}get(r){rt("get",arguments,1),r+="";for(var n=x(this,le),a=n.length,s=0;s<a;s++)if(n[s][0]===r)return n[s][1];return null}getAll(r,n){return rt("getAll",arguments,1),n=[],r+="",x(this,le).forEach(a=>a[0]===r&&n.push(a[1])),n}has(r){return rt("has",arguments,1),r+="",x(this,le).some(n=>n[0]===r)}forEach(r,n){rt("forEach",arguments,1);for(var[a,s]of this)r.call(n,s,a,this)}set(...r){rt("set",arguments,2);var n=[],a=!0;r=xi(...r),x(this,le).forEach(s=>{s[0]===r[0]?a&&(a=!n.push(r)):n.push(s)}),a&&n.push(r),K(this,le,n)}*entries(){yield*x(this,le)}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}},le=new WeakMap,zi)});var tr,Ni,Vu,Yu,nt,Tt,Vn,Qu,Ui=Vt(()=>{tr=require("fs"),Ni=require("worker_threads");jn();Gt();({stat:Vu}=tr.promises),Yu=globalThis.DOMException||(()=>{let o=new Ni.MessageChannel().port1,r=new ArrayBuffer(0);try{o.postMessage(r,[r,r])}catch(n){return n.constructor}})(),Vn=class{constructor(r){ue(this,nt,void 0);ue(this,Tt,void 0);K(this,nt,r.path),K(this,Tt,r.start),this.size=r.size,this.lastModified=r.lastModified}slice(r,n){return new Vn({path:x(this,nt),lastModified:this.lastModified,size:n-r,start:r})}async*stream(){let{mtimeMs:r}=await Vu(x(this,nt));if(r>this.lastModified)throw new Yu("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,tr.createReadStream)(x(this,nt),{start:x(this,Tt),end:x(this,Tt)+this.size-1})}get[Symbol.toStringTag](){return"Blob"}},Qu=Vn;nt=new WeakMap,Tt=new WeakMap});var Yi={};li(Yi,{toFormData:()=>tl});function el(o){let r=o.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let n=r[2]||r[3]||"",a=n.slice(n.lastIndexOf("\\")+1);return a=a.replace(/%22/g,'"'),a=a.replace(/&#(\d{4});/g,(s,u)=>String.fromCharCode(u)),a}async function tl(o,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let n=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!n)throw new TypeError("no or bad content-type header, no multipart boundary");let a=new Vi(n[1]||n[2]),s,u,f,d,h,y,_=[],w=new Rt,m=E=>{f+=T.decode(E,{stream:!0})},b=E=>{_.push(E)},g=()=>{let E=new Kt(_,y,{type:h});w.append(d,E)},R=()=>{w.append(d,f)},T=new TextDecoder("utf-8");T.decode(),a.onPartBegin=function(){a.onPartData=m,a.onPartEnd=R,s="",u="",f="",d="",h="",y=null,_.length=0},a.onHeaderField=function(E){s+=T.decode(E,{stream:!0})},a.onHeaderValue=function(E){u+=T.decode(E,{stream:!0})},a.onHeaderEnd=function(){if(u+=T.decode(),s=s.toLowerCase(),s==="content-disposition"){let E=u.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);E&&(d=E[2]||E[3]||""),y=el(u),y&&(a.onPartData=b,a.onPartEnd=g)}else s==="content-type"&&(h=u);u="",s=""};for await(let E of o)a.write(E);return a.end(),w}var ve,q,Hi,Ue,Vr,Yr,Gu,rr,Ku,Ju,Xu,Zu,ot,Vi,Qi=Vt(()=>{Ui();Un();ve=0,q={START_BOUNDARY:ve++,HEADER_FIELD_START:ve++,HEADER_FIELD:ve++,HEADER_VALUE_START:ve++,HEADER_VALUE:ve++,HEADER_VALUE_ALMOST_DONE:ve++,HEADERS_ALMOST_DONE:ve++,PART_DATA_START:ve++,PART_DATA:ve++,END:ve++},Hi=1,Ue={PART_BOUNDARY:Hi,LAST_BOUNDARY:Hi*=2},Vr=10,Yr=13,Gu=32,rr=45,Ku=58,Ju=97,Xu=122,Zu=o=>o|32,ot=()=>{},Vi=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=ot,this.onHeaderField=ot,this.onHeadersEnd=ot,this.onHeaderValue=ot,this.onPartBegin=ot,this.onPartData=ot,this.onPartEnd=ot,this.boundaryChars={},r=`\r
--`+r;let n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a),this.boundaryChars[n[a]]=!0;this.boundary=n,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=q.START_BOUNDARY}write(r){let n=0,a=r.length,s=this.index,{lookbehind:u,boundary:f,boundaryChars:d,index:h,state:y,flags:_}=this,w=this.boundary.length,m=w-1,b=r.length,g,R,T=P=>{this[P+"Mark"]=n},E=P=>{delete this[P+"Mark"]},A=(P,M,k,z)=>{(M===void 0||M!==k)&&this[P](z&&z.subarray(M,k))},F=(P,M)=>{let k=P+"Mark";k in this&&(M?(A(P,this[k],n,r),delete this[k]):(A(P,this[k],r.length,r),this[k]=0))};for(n=0;n<a;n++)switch(g=r[n],y){case q.START_BOUNDARY:if(h===f.length-2){if(g===rr)_|=Ue.LAST_BOUNDARY;else if(g!==Yr)return;h++;break}else if(h-1===f.length-2){if(_&Ue.LAST_BOUNDARY&&g===rr)y=q.END,_=0;else if(!(_&Ue.LAST_BOUNDARY)&&g===Vr)h=0,A("onPartBegin"),y=q.HEADER_FIELD_START;else return;break}g!==f[h+2]&&(h=-2),g===f[h+2]&&h++;break;case q.HEADER_FIELD_START:y=q.HEADER_FIELD,T("onHeaderField"),h=0;case q.HEADER_FIELD:if(g===Yr){E("onHeaderField"),y=q.HEADERS_ALMOST_DONE;break}if(h++,g===rr)break;if(g===Ku){if(h===1)return;F("onHeaderField",!0),y=q.HEADER_VALUE_START;break}if(R=Zu(g),R<Ju||R>Xu)return;break;case q.HEADER_VALUE_START:if(g===Gu)break;T("onHeaderValue"),y=q.HEADER_VALUE;case q.HEADER_VALUE:g===Yr&&(F("onHeaderValue",!0),A("onHeaderEnd"),y=q.HEADER_VALUE_ALMOST_DONE);break;case q.HEADER_VALUE_ALMOST_DONE:if(g!==Vr)return;y=q.HEADER_FIELD_START;break;case q.HEADERS_ALMOST_DONE:if(g!==Vr)return;A("onHeadersEnd"),y=q.PART_DATA_START;break;case q.PART_DATA_START:y=q.PART_DATA,T("onPartData");case q.PART_DATA:if(s=h,h===0){for(n+=m;n<b&&!(r[n]in d);)n+=w;n-=m,g=r[n]}if(h<f.length)f[h]===g?(h===0&&F("onPartData",!0),h++):h=0;else if(h===f.length)h++,g===Yr?_|=Ue.PART_BOUNDARY:g===rr?_|=Ue.LAST_BOUNDARY:h=0;else if(h-1===f.length)if(_&Ue.PART_BOUNDARY){if(h=0,g===Vr){_&=~Ue.PART_BOUNDARY,A("onPartEnd"),A("onPartBegin"),y=q.HEADER_FIELD_START;break}}else _&Ue.LAST_BOUNDARY&&g===rr?(A("onPartEnd"),y=q.END,_=0):h=0;if(h>0)u[h-1]=g;else if(s>0){let P=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);A("onPartData",0,s,P),s=0,T("onPartData"),n--}break;case q.END:break;default:throw new Error(`Unexpected state entered: ${y}`)}F("onHeaderField"),F("onHeaderValue"),F("onPartData"),this.index=h,this.state=y,this.flags=_}end(){if(this.state===q.HEADER_FIELD_START&&this.index===0||this.state===q.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==q.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var cl={};li(cl,{default:()=>ya});var Pt=require("fs/promises"),ha=$e(Li());var ua=$e(require("http"),1),la=$e(require("https"),1),it=$e(require("zlib"),1),ae=$e(require("stream"),1);function $u(o){if(!/^data:/i.test(o))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');o=o.replace(/\r?\n/g,"");let r=o.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let n=o.substring(5,r).split(";"),a="",s=!1,u=n[0]||"text/plain",f=u;for(let _=1;_<n.length;_++)n[_]==="base64"?s=!0:(f+=`;${n[_]}`,n[_].indexOf("charset=")===0&&(a=n[_].substring(8)));!n[0]&&!a.length&&(f+=";charset=US-ASCII",a="US-ASCII");let d=s?"base64":"ascii",h=unescape(o.substring(r+1)),y=Buffer.from(h,d);return y.type=u,y.typeFull=f,y.charset=a,y}var Mi=$u;var ye=$e(require("stream"),1),Et=require("util");Gt();Un();var Ne=class extends Error{constructor(r,n){super(r);Error.captureStackTrace(this,this.constructor),this.type=n}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var ce=class extends Ne{constructor(r,n,a){super(r,n);a&&(this.code=this.errno=a.code,this.erroredSysCall=a.syscall)}};var Hr=Symbol.toStringTag,Hn=o=>typeof o=="object"&&typeof o.append=="function"&&typeof o.delete=="function"&&typeof o.get=="function"&&typeof o.getAll=="function"&&typeof o.has=="function"&&typeof o.set=="function"&&typeof o.sort=="function"&&o[Hr]==="URLSearchParams",er=o=>o&&typeof o=="object"&&typeof o.arrayBuffer=="function"&&typeof o.type=="string"&&typeof o.stream=="function"&&typeof o.constructor=="function"&&/^(Blob|File)$/.test(o[Hr]),ji=o=>typeof o=="object"&&(o[Hr]==="AbortSignal"||o[Hr]==="EventTarget");var Z=Symbol("Body internals"),ke=class{constructor(r,{size:n=0}={}){let a=null;r===null?r=null:Hn(r)?r=Buffer.from(r.toString()):er(r)||Buffer.isBuffer(r)||(Et.types.isAnyArrayBuffer(r)?r=Buffer.from(r):ArrayBuffer.isView(r)?r=Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof ye.default||(r instanceof Rt?(r=qi(r),a=r.type.split("=")[1]):r=Buffer.from(String(r))));let s=r;Buffer.isBuffer(r)?s=ye.default.Readable.from(r):er(r)&&(s=ye.default.Readable.from(r.stream())),this[Z]={body:r,stream:s,boundary:a,disturbed:!1,error:null},this.size=n,r instanceof ye.default&&r.on("error",u=>{let f=u instanceof Ne?u:new ce(`Invalid response body while trying to fetch ${this.url}: ${u.message}`,"system",u);this[Z].error=f})}get body(){return this[Z].stream}get bodyUsed(){return this[Z].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:n,byteLength:a}=await Qr(this);return r.slice(n,n+a)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let a=new Rt,s=new URLSearchParams(await this.text());for(let[u,f]of s)a.append(u,f);return a}let{toFormData:n}=await Promise.resolve().then(()=>(Qi(),Yi));return n(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[Z].body&&this[Z].body.type||"",n=await this.buffer();return new tt([n],{type:r})}async json(){let r=await Qr(this);return JSON.parse(r.toString())}async text(){return(await Qr(this)).toString()}buffer(){return Qr(this)}};ke.prototype.buffer=(0,Et.deprecate)(ke.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(ke.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});async function Qr(o){if(o[Z].disturbed)throw new TypeError(`body used already for: ${o.url}`);if(o[Z].disturbed=!0,o[Z].error)throw o[Z].error;let{body:r}=o;if(r===null||!(r instanceof ye.default))return Buffer.alloc(0);let n=[],a=0;try{for await(let s of r){if(o.size>0&&a+s.length>o.size){let u=new ce(`content size at ${o.url} over limit: ${o.size}`,"max-size");throw r.destroy(u),u}a+=s.length,n.push(s)}}catch(s){throw s instanceof Ne?s:new ce(`Invalid response body while trying to fetch ${o.url}: ${s.message}`,"system",s)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return n.every(s=>typeof s=="string")?Buffer.from(n.join("")):Buffer.concat(n,a)}catch(s){throw new ce(`Could not create Buffer from response body for ${o.url}: ${s.message}`,"system",s)}else throw new ce(`Premature close of server response while trying to fetch ${o.url}`)}var Ct=(o,r)=>{let n,a,{body:s}=o[Z];if(o.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof ye.default&&typeof s.getBoundary!="function"&&(n=new ye.PassThrough({highWaterMark:r}),a=new ye.PassThrough({highWaterMark:r}),s.pipe(n),s.pipe(a),o[Z].stream=n,s=a),s},rl=(0,Et.deprecate)(o=>o.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Gr=(o,r)=>o===null?null:typeof o=="string"?"text/plain;charset=UTF-8":Hn(o)?"application/x-www-form-urlencoded;charset=UTF-8":er(o)?o.type||null:Buffer.isBuffer(o)||Et.types.isAnyArrayBuffer(o)||ArrayBuffer.isView(o)?null:o instanceof Rt?`multipart/form-data; boundary=${r[Z].boundary}`:o&&typeof o.getBoundary=="function"?`multipart/form-data;boundary=${rl(o)}`:o instanceof ye.default?null:"text/plain;charset=UTF-8",Gi=o=>{let{body:r}=o[Z];return r===null?0:er(r)?r.size:Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},Ki=(o,{body:r})=>{r===null?o.end():r.pipe(o)};var Yn=require("util"),nr=$e(require("http"),1),Kr=typeof nr.default.validateHeaderName=="function"?nr.default.validateHeaderName:o=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(o)){let r=new TypeError(`Header name must be a valid HTTP token [${o}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},Qn=typeof nr.default.validateHeaderValue=="function"?nr.default.validateHeaderValue:(o,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${o}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}},ie=class extends URLSearchParams{constructor(r){let n=[];if(r instanceof ie){let a=r.raw();for(let[s,u]of Object.entries(a))n.push(...u.map(f=>[s,f]))}else if(r!=null)if(typeof r=="object"&&!Yn.types.isBoxedPrimitive(r)){let a=r[Symbol.iterator];if(a==null)n.push(...Object.entries(r));else{if(typeof a!="function")throw new TypeError("Header pairs must be iterable");n=[...r].map(s=>{if(typeof s!="object"||Yn.types.isBoxedPrimitive(s))throw new TypeError("Each header pair must be an iterable object");return[...s]}).map(s=>{if(s.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...s]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");n=n.length>0?n.map(([a,s])=>(Kr(a),Qn(a,String(s)),[String(a).toLowerCase(),String(s)])):void 0;super(n);return new Proxy(this,{get(a,s,u){switch(s){case"append":case"set":return(f,d)=>(Kr(f),Qn(f,String(d)),URLSearchParams.prototype[s].call(a,String(f).toLowerCase(),String(d)));case"delete":case"has":case"getAll":return f=>(Kr(f),URLSearchParams.prototype[s].call(a,String(f).toLowerCase()));case"keys":return()=>(a.sort(),new Set(URLSearchParams.prototype.keys.call(a)).keys());default:return Reflect.get(a,s,u)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let n=this.getAll(r);if(n.length===0)return null;let a=n.join(", ");return/^content-encoding$/i.test(r)&&(a=a.toLowerCase()),a}forEach(r,n=void 0){for(let a of this.keys())Reflect.apply(r,n,[this.get(a),a,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,n)=>(r[n]=this.getAll(n),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,n)=>{let a=this.getAll(n);return n==="host"?r[n]=a[0]:r[n]=a.length>1?a:a[0],r},{})}};Object.defineProperties(ie.prototype,["get","entries","forEach","values"].reduce((o,r)=>(o[r]={enumerable:!0},o),{}));function Ji(o=[]){return new ie(o.reduce((r,n,a,s)=>(a%2===0&&r.push(s.slice(a,a+2)),r),[]).filter(([r,n])=>{try{return Kr(r),Qn(r,String(n)),!0}catch{return!1}}))}var nl=new Set([301,302,303,307,308]),Jr=o=>nl.has(o);var _e=Symbol("Response internals"),ee=class extends ke{constructor(r=null,n={}){super(r,n);let a=n.status!=null?n.status:200,s=new ie(n.headers);if(r!==null&&!s.has("Content-Type")){let u=Gr(r,this);u&&s.append("Content-Type",u)}this[_e]={type:"default",url:n.url,status:a,statusText:n.statusText||"",headers:s,counter:n.counter,highWaterMark:n.highWaterMark}}get type(){return this[_e].type}get url(){return this[_e].url||""}get status(){return this[_e].status}get ok(){return this[_e].status>=200&&this[_e].status<300}get redirected(){return this[_e].counter>0}get statusText(){return this[_e].statusText}get headers(){return this[_e].headers}get highWaterMark(){return this[_e].highWaterMark}clone(){return new ee(Ct(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,n=302){if(!Jr(n))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new ee(null,{headers:{location:new URL(r).toString()},status:n})}static error(){let r=new ee(null,{status:0,statusText:""});return r[_e].type="error",r}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(ee.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var aa=require("url");var Xi=o=>{if(o.search)return o.search;let r=o.href.length-1,n=o.hash||(o.href[r]==="#"?"#":"");return o.href[r-n.length]==="?"?"?":""};var Zi=require("net");function ea(o,r=!1){return o==null||(o=new URL(o),/^(about|blob|data):$/.test(o.protocol))?"no-referrer":(o.username="",o.password="",o.hash="",r&&(o.pathname="",o.search=""),o)}var ta=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),ra="strict-origin-when-cross-origin";function na(o){if(!ta.has(o))throw new TypeError(`Invalid referrerPolicy: ${o}`);return o}function ol(o){if(/^(http|ws)s:$/.test(o.protocol))return!0;let r=o.host.replace(/(^\[)|(]$)/g,""),n=(0,Zi.isIP)(r);return n===4&&/^127\./.test(r)||n===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:/^(.+\.)*localhost$/.test(o.host)?!1:o.protocol==="file:"}function At(o){return/^about:(blank|srcdoc)$/.test(o)||o.protocol==="data:"||/^(blob|filesystem):$/.test(o.protocol)?!0:ol(o)}function oa(o,{referrerURLCallback:r,referrerOriginCallback:n}={}){if(o.referrer==="no-referrer"||o.referrerPolicy==="")return null;let a=o.referrerPolicy;if(o.referrer==="about:client")return"no-referrer";let s=o.referrer,u=ea(s),f=ea(s,!0);u.toString().length>4096&&(u=f),r&&(u=r(u)),n&&(f=n(f));let d=new URL(o.url);switch(a){case"no-referrer":return"no-referrer";case"origin":return f;case"unsafe-url":return u;case"strict-origin":return At(u)&&!At(d)?"no-referrer":f.toString();case"strict-origin-when-cross-origin":return u.origin===d.origin?u:At(u)&&!At(d)?"no-referrer":f;case"same-origin":return u.origin===d.origin?u:"no-referrer";case"origin-when-cross-origin":return u.origin===d.origin?u:f;case"no-referrer-when-downgrade":return At(u)&&!At(d)?"no-referrer":u;default:throw new TypeError(`Invalid referrerPolicy: ${a}`)}}function ia(o){let r=(o.get("referrer-policy")||"").split(/[,\s]+/),n="";for(let a of r)a&&ta.has(a)&&(n=a);return n}var U=Symbol("Request internals"),Xr=o=>typeof o=="object"&&typeof o[U]=="object",He=class extends ke{constructor(r,n={}){let a;if(Xr(r)?a=new URL(r.url):(a=new URL(r),r={}),a.username!==""||a.password!=="")throw new TypeError(`${a} is an url with embedded credentails.`);let s=n.method||r.method||"GET";if(s=s.toUpperCase(),(n.body!=null||Xr(r))&&r.body!==null&&(s==="GET"||s==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let u=n.body?n.body:Xr(r)&&r.body!==null?Ct(r):null;super(u,{size:n.size||r.size||0});let f=new ie(n.headers||r.headers||{});if(u!==null&&!f.has("Content-Type")){let y=Gr(u,this);y&&f.set("Content-Type",y)}let d=Xr(r)?r.signal:null;if("signal"in n&&(d=n.signal),d!=null&&!ji(d))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let h=n.referrer==null?r.referrer:n.referrer;if(h==="")h="no-referrer";else if(h){let y=new URL(h);h=/^about:(\/\/)?client$/.test(y)?"client":y}else h=void 0;this[U]={method:s,redirect:n.redirect||r.redirect||"follow",headers:f,parsedURL:a,signal:d,referrer:h},this.follow=n.follow===void 0?r.follow===void 0?20:r.follow:n.follow,this.compress=n.compress===void 0?r.compress===void 0?!0:r.compress:n.compress,this.counter=n.counter||r.counter||0,this.agent=n.agent||r.agent,this.highWaterMark=n.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=n.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=n.referrerPolicy||r.referrerPolicy||""}get method(){return this[U].method}get url(){return(0,aa.format)(this[U].parsedURL)}get headers(){return this[U].headers}get redirect(){return this[U].redirect}get signal(){return this[U].signal}get referrer(){if(this[U].referrer==="no-referrer")return"";if(this[U].referrer==="client")return"about:client";if(this[U].referrer)return this[U].referrer.toString()}get referrerPolicy(){return this[U].referrerPolicy}set referrerPolicy(r){this[U].referrerPolicy=na(r)}clone(){return new He(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(He.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var sa=o=>{let{parsedURL:r}=o[U],n=new ie(o[U].headers);n.has("Accept")||n.set("Accept","*/*");let a=null;if(o.body===null&&/^(post|put)$/i.test(o.method)&&(a="0"),o.body!==null){let d=Gi(o);typeof d=="number"&&!Number.isNaN(d)&&(a=String(d))}a&&n.set("Content-Length",a),o.referrerPolicy===""&&(o.referrerPolicy=ra),o.referrer&&o.referrer!=="no-referrer"?o[U].referrer=oa(o):o[U].referrer="no-referrer",o[U].referrer instanceof URL&&n.set("Referer",o.referrer),n.has("User-Agent")||n.set("User-Agent","node-fetch"),o.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip,deflate,br");let{agent:s}=o;typeof s=="function"&&(s=s(r)),!n.has("Connection")&&!s&&n.set("Connection","close");let u=Xi(r),f={path:r.pathname+u,method:o.method,headers:n[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:o.insecureHTTPParser,agent:s};return{parsedURL:r,options:f}};var Gn=class extends Ne{constructor(r,n="aborted"){super(r,n)}};var il=new Set(["data:","http:","https:"]);async function Zr(o,r){return new Promise((n,a)=>{let s=new He(o,r),{parsedURL:u,options:f}=sa(s);if(!il.has(u.protocol))throw new TypeError(`node-fetch cannot load ${o}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if(u.protocol==="data:"){let g=Mi(s.url),R=new ee(g,{headers:{"Content-Type":g.typeFull}});n(R);return}let d=(u.protocol==="https:"?la.default:ua.default).request,{signal:h}=s,y=null,_=()=>{let g=new Gn("The operation was aborted.");a(g),s.body&&s.body instanceof ae.default.Readable&&s.body.destroy(g),!(!y||!y.body)&&y.body.emit("error",g)};if(h&&h.aborted){_();return}let w=()=>{_(),b()},m=d(u,f);h&&h.addEventListener("abort",w);let b=()=>{m.abort(),h&&h.removeEventListener("abort",w)};m.on("error",g=>{a(new ce(`request to ${s.url} failed, reason: ${g.message}`,"system",g)),b()}),al(m,g=>{y.body.destroy(g)}),process.version<"v14"&&m.on("socket",g=>{let R;g.prependListener("end",()=>{R=g._eventsCount}),g.prependListener("close",T=>{if(y&&R<g._eventsCount&&!T){let E=new Error("Premature close");E.code="ERR_STREAM_PREMATURE_CLOSE",y.body.emit("error",E)}})}),m.on("response",g=>{m.setTimeout(0);let R=Ji(g.rawHeaders);if(Jr(g.statusCode)){let P=R.get("Location"),M=P===null?null:new URL(P,s.url);switch(s.redirect){case"error":a(new ce(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),b();return;case"manual":M!==null&&R.set("Location",M);break;case"follow":{if(M===null)break;if(s.counter>=s.follow){a(new ce(`maximum redirect reached at: ${s.url}`,"max-redirect")),b();return}let k={headers:new ie(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:Ct(s),signal:s.signal,size:s.size,referrer:s.referrer,referrerPolicy:s.referrerPolicy};if(g.statusCode!==303&&s.body&&r.body instanceof ae.default.Readable){a(new ce("Cannot follow redirect with body being a readable stream","unsupported-redirect")),b();return}(g.statusCode===303||(g.statusCode===301||g.statusCode===302)&&s.method==="POST")&&(k.method="GET",k.body=void 0,k.headers.delete("content-length"));let z=ia(R);z&&(k.referrerPolicy=z),n(Zr(new He(M,k))),b();return}default:return a(new TypeError(`Redirect option '${s.redirect}' is not a valid value of RequestRedirect`))}}h&&g.once("end",()=>{h.removeEventListener("abort",w)});let T=(0,ae.pipeline)(g,new ae.PassThrough,a);process.version<"v12.10"&&g.on("aborted",w);let E={url:s.url,status:g.statusCode,statusText:g.statusMessage,headers:R,size:s.size,counter:s.counter,highWaterMark:s.highWaterMark},A=R.get("Content-Encoding");if(!s.compress||s.method==="HEAD"||A===null||g.statusCode===204||g.statusCode===304){y=new ee(T,E),n(y);return}let F={flush:it.default.Z_SYNC_FLUSH,finishFlush:it.default.Z_SYNC_FLUSH};if(A==="gzip"||A==="x-gzip"){T=(0,ae.pipeline)(T,it.default.createGunzip(F),a),y=new ee(T,E),n(y);return}if(A==="deflate"||A==="x-deflate"){(0,ae.pipeline)(g,new ae.PassThrough,a).once("data",M=>{T=(M[0]&15)===8?(0,ae.pipeline)(T,it.default.createInflate(),a):(0,ae.pipeline)(T,it.default.createInflateRaw(),a),y=new ee(T,E),n(y)});return}if(A==="br"){T=(0,ae.pipeline)(T,it.default.createBrotliDecompress(),a),y=new ee(T,E),n(y);return}y=new ee(T,E),n(y)}),Ki(m,s)})}function al(o,r){let n=Buffer.from(`0\r
\r
`),a=!1,s=!1,u;o.on("response",f=>{let{headers:d}=f;a=d["transfer-encoding"]==="chunked"&&!d["content-length"]}),o.on("socket",f=>{let d=()=>{if(a&&!s){let h=new Error("Premature close");h.code="ERR_STREAM_PREMATURE_CLOSE",r(h)}};f.prependListener("close",d),o.on("abort",()=>{f.removeListener("close",d)}),f.on("data",h=>{s=Buffer.compare(h.slice(-5),n)===0,!s&&u&&(s=Buffer.compare(u.slice(-3),n.slice(0,3))===0&&Buffer.compare(h.slice(-2),n.slice(3))===0),u=h})})}var Kn=require("@raycast/api"),ca=require("path"),fa=require("fs"),sl=(()=>{try{(0,fa.mkdirSync)(Kn.environment.supportPath,{recursive:!0})}catch{console.log("Failed to create supportPath")}return Kn.environment.supportPath})();function da(o){return(0,ca.join)(sl,o)}var ll=o=>{let r={torch:"PyTorch",pandas:"Pandas",numpy:"Numpy",plotly:"Matplotbib",matplotlib:"Matplotbib",mpl_toolkits:"Matplotlib",sklearn:"Sci-Kit Learn",statsmodels:"Stats Models",seaborn:"Seaborn",tf:"Tensorflow",tfio:"Tensorflow IO",tfds:"Tensorflow Dataset",tfa:"Tensorflow Additional"};return{id:`${o.item.name}`,title:`${o.item.name}`,url:`${o.item.value.url}`,accessoryTitle:`${o.item.name.split(".")[0]in r?r[o.item.name.split(".")[0]]:o.item.name}`,icon:`${o.item.name.split(".")[0]in r?o.item.name.split(".")[0]:"command-icon"}.png`}},Jn=da("ml.json"),ma=async(o,r)=>{async function n(){let b=await Zr("https://raw.githubusercontent.com/sadanand-singh/mldocs-data/main/data/ml.json");if(b.status!==200)throw new Error("Not OK");return await b.text()}async function a(){let m=await n();try{await(0,Pt.writeFile)(Jn,m)}catch(b){console.error("Failed to write cache:",b)}return JSON.parse(m)}async function s(m){return(await(0,Pt.stat)(m)).mtime}async function u(){let m=await s(Jn),b=new Date;if(Math.abs(b.getTime()-m.getTime())<432e6){let R=await(0,Pt.readFile)(Jn);return JSON.parse(R.toString())}else throw"Invalid cache"}let f;try{f=await u()}catch{f=await a()}let d=Object.keys(f).filter(m=>m.includes(".")).filter(m=>r.some(b=>m.startsWith(b))).map(m=>({name:m,value:f[m]})),h={includeScore:!1,ignoreLocation:!0,threshold:.8,minMatchCharLength:3,keys:[{name:"name",weight:.999},{name:"value.url",weight:.001}]},y=new ha.default(d,h),_=o.replace("sns.","seaborn.").replace("pt.","matplotlib.").replace("pd.","pandas.").replace("np.","numpy.").replace("sm.","statsmodels.");return y.search(_).slice(0,50).map(ll)};var pa=require("react"),en=require("@raycast/api"),ba=(o,r,n)=>{let[a,s]=(0,pa.useState)(()=>({queryResults:Array(o.length).fill([]),queryIsLoading:!!n,clearResults:()=>{s(u=>({...u,queryResults:Array(o.length).fill([])}))},runQuery:async u=>{s(f=>({...f,queryIsLoading:!0}));try{let f=await Promise.all(o.map(d=>r(d,u)));s(d=>({...d,queryResults:f}))}catch(f){console.log("runQuery error",f),(0,en.showToast)(en.ToastStyle.Failure,"Failed to query",String(f))}finally{s(f=>({...f,queryIsLoading:!1}))}}}));return a};var fe=require("@raycast/api"),ga=({sectionNames:o,queryResults:r,isLoading:n,onSearchTextChange:a,throttle:s})=>_jsx(fe.List,{isLoading:n,onSearchTextChange:a,throttle:s},o.map((u,f)=>_jsx(fe.List.Section,{key:f,id:`${f}`,title:u,subtitle:`${r[f].length}`},r[f].map(d=>_jsx(fe.List.Item,{key:d.id,id:d.id,title:d.title,icon:d.icon!==""?d.icon:fe.Icon.List,accessoryTitle:d.accessoryTitle,actions:_jsx(fe.ActionPanel,null,_jsx(fe.OpenInBrowserAction,{url:d.url}),_jsx(fe.CopyToClipboardAction,{title:"Copy URL",content:d.url}))})))));function ya(){let o=ba(["results"],(n,a)=>ma(a,["torch."]));return _jsx(ga,{sectionNames:["Search Results"],queryResults:o.queryResults,isLoading:o.queryIsLoading,onSearchTextChange:n=>{n?o.runQuery(n):o.clearResults()},throttle:!0})}module.exports=Us(cl);0&&(module.exports={});
/*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
