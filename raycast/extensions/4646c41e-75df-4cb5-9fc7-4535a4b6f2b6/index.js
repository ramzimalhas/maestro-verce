"use strict";var Fn=Object.create;var de=Object.defineProperty;var Dn=Object.getOwnPropertyDescriptor;var Un=Object.getOwnPropertyNames;var Xn=Object.getPrototypeOf,Vn=Object.prototype.hasOwnProperty;var d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Hn=(e,t)=>{for(var r in t)de(e,r,{get:t[r],enumerable:!0})},At=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Un(t))!Vn.call(e,s)&&s!==r&&de(e,s,{get:()=>t[s],enumerable:!(n=Dn(t,s))||n.enumerable});return e};var ke=(e,t,r)=>(r=e!=null?Fn(Xn(e)):{},At(t||!e||!e.__esModule?de(r,"default",{value:e,enumerable:!0}):r,e)),Mn=e=>At(de({},"__esModule",{value:!0}),e);var Vt=d((l,Xt)=>{l=Xt.exports=m;var y;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?y=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:y=function(){};l.SEMVER_SPEC_VERSION="2.0.0";var Be=256,pe=Number.MAX_SAFE_INTEGER||9007199254740991,_e=16,g=l.re=[],a=l.src=[],p=0,B=p++;a[B]="0|[1-9]\\d*";var F=p++;a[F]="[0-9]+";var Xe=p++;a[Xe]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var Pt=p++;a[Pt]="("+a[B]+")\\.("+a[B]+")\\.("+a[B]+")";var Ct=p++;a[Ct]="("+a[F]+")\\.("+a[F]+")\\.("+a[F]+")";var Fe=p++;a[Fe]="(?:"+a[B]+"|"+a[Xe]+")";var De=p++;a[De]="(?:"+a[F]+"|"+a[Xe]+")";var Ve=p++;a[Ve]="(?:-("+a[Fe]+"(?:\\."+a[Fe]+")*))";var He=p++;a[He]="(?:-?("+a[De]+"(?:\\."+a[De]+")*))";var Ue=p++;a[Ue]="[0-9A-Za-z-]+";var re=p++;a[re]="(?:\\+("+a[Ue]+"(?:\\."+a[Ue]+")*))";var Me=p++,Gt="v?"+a[Pt]+a[Ve]+"?"+a[re]+"?";a[Me]="^"+Gt+"$";var Ke="[v=\\s]*"+a[Ct]+a[He]+"?"+a[re]+"?",ze=p++;a[ze]="^"+Ke+"$";var X=p++;a[X]="((?:<|>)?=?)";var me=p++;a[me]=a[F]+"|x|X|\\*";var he=p++;a[he]=a[B]+"|x|X|\\*";var $=p++;a[$]="[v=\\s]*("+a[he]+")(?:\\.("+a[he]+")(?:\\.("+a[he]+")(?:"+a[Ve]+")?"+a[re]+"?)?)?";var U=p++;a[U]="[v=\\s]*("+a[me]+")(?:\\.("+a[me]+")(?:\\.("+a[me]+")(?:"+a[He]+")?"+a[re]+"?)?)?";var Nt=p++;a[Nt]="^"+a[X]+"\\s*"+a[$]+"$";var Lt=p++;a[Lt]="^"+a[X]+"\\s*"+a[U]+"$";var $t=p++;a[$t]="(?:^|[^\\d])(\\d{1,"+_e+"})(?:\\.(\\d{1,"+_e+"}))?(?:\\.(\\d{1,"+_e+"}))?(?:$|[^\\d])";var we=p++;a[we]="(?:~>?)";var ve=p++;a[ve]="(\\s*)"+a[we]+"\\s+";g[ve]=new RegExp(a[ve],"g");var Kn="$1~",jt=p++;a[jt]="^"+a[we]+a[$]+"$";var qt=p++;a[qt]="^"+a[we]+a[U]+"$";var xe=p++;a[xe]="(?:\\^)";var ye=p++;a[ye]="(\\s*)"+a[xe]+"\\s+";g[ye]=new RegExp(a[ye],"g");var zn="$1^",kt=p++;a[kt]="^"+a[xe]+a[$]+"$";var _t=p++;a[_t]="^"+a[xe]+a[U]+"$";var We=p++;a[We]="^"+a[X]+"\\s*("+Ke+")$|^$";var Je=p++;a[Je]="^"+a[X]+"\\s*("+Gt+")$|^$";var ee=p++;a[ee]="(\\s*)"+a[X]+"\\s*("+Ke+"|"+a[$]+")";g[ee]=new RegExp(a[ee],"g");var Wn="$1$2$3",Bt=p++;a[Bt]="^\\s*("+a[$]+")\\s+-\\s+("+a[$]+")\\s*$";var Ft=p++;a[Ft]="^\\s*("+a[U]+")\\s+-\\s+("+a[U]+")\\s*$";var Dt=p++;a[Dt]="(<|>)?=?\\s*\\*";for(N=0;N<p;N++)y(N,a[N]),g[N]||(g[N]=new RegExp(a[N]));var N;l.parse=j;function j(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof m)return e;if(typeof e!="string"||e.length>Be)return null;var r=t.loose?g[ze]:g[Me];if(!r.test(e))return null;try{return new m(e,t)}catch{return null}}l.valid=Jn;function Jn(e,t){var r=j(e,t);return r?r.version:null}l.clean=Yn;function Yn(e,t){var r=j(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}l.SemVer=m;function m(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof m){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>Be)throw new TypeError("version is longer than "+Be+" characters");if(!(this instanceof m))return new m(e,t);y("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?g[ze]:g[Me]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>pe||this.major<0)throw new TypeError("Invalid major version");if(this.minor>pe||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>pe||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var s=+n;if(s>=0&&s<pe)return s}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}m.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};m.prototype.toString=function(){return this.version};m.prototype.compare=function(e){return y("SemVer.compare",this.version,this.options,e),e instanceof m||(e=new m(e,this.options)),this.compareMain(e)||this.comparePre(e)};m.prototype.compareMain=function(e){return e instanceof m||(e=new m(e,this.options)),D(this.major,e.major)||D(this.minor,e.minor)||D(this.patch,e.patch)};m.prototype.comparePre=function(e){if(e instanceof m||(e=new m(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(y("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return D(r,n)}while(++t)};m.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};l.inc=Zn;function Zn(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new m(e,r).inc(t,n).version}catch{return null}}l.diff=Qn;function Qn(e,t){if(Ye(e,t))return null;var r=j(e),n=j(t),s="";if(r.prerelease.length||n.prerelease.length){s="pre";var i="prerelease"}for(var o in r)if((o==="major"||o==="minor"||o==="patch")&&r[o]!==n[o])return s+o;return i}l.compareIdentifiers=D;var Ot=/^[0-9]+$/;function D(e,t){var r=Ot.test(e),n=Ot.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}l.rcompareIdentifiers=es;function es(e,t){return D(t,e)}l.major=ts;function ts(e,t){return new m(e,t).major}l.minor=rs;function rs(e,t){return new m(e,t).minor}l.patch=ns;function ns(e,t){return new m(e,t).patch}l.compare=G;function G(e,t,r){return new m(e,r).compare(new m(t,r))}l.compareLoose=ss;function ss(e,t){return G(e,t,!0)}l.rcompare=is;function is(e,t,r){return G(t,e,r)}l.sort=os;function os(e,t){return e.sort(function(r,n){return l.compare(r,n,t)})}l.rsort=as;function as(e,t){return e.sort(function(r,n){return l.rcompare(r,n,t)})}l.gt=te;function te(e,t,r){return G(e,t,r)>0}l.lt=Se;function Se(e,t,r){return G(e,t,r)<0}l.eq=Ye;function Ye(e,t,r){return G(e,t,r)===0}l.neq=Ut;function Ut(e,t,r){return G(e,t,r)!==0}l.gte=Ze;function Ze(e,t,r){return G(e,t,r)>=0}l.lte=Qe;function Qe(e,t,r){return G(e,t,r)<=0}l.cmp=Ee;function Ee(e,t,r,n){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Ye(e,r,n);case"!=":return Ut(e,r,n);case">":return te(e,r,n);case">=":return Ze(e,r,n);case"<":return Se(e,r,n);case"<=":return Qe(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}l.Comparator=O;function O(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof O){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof O))return new O(e,t);y("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ne?this.value="":this.value=this.operator+this.semver.version,y("comp",this)}var ne={};O.prototype.parse=function(e){var t=this.options.loose?g[We]:g[Je],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],this.operator==="="&&(this.operator=""),r[2]?this.semver=new m(r[2],this.options.loose):this.semver=ne};O.prototype.toString=function(){return this.value};O.prototype.test=function(e){return y("Comparator.test",e,this.options.loose),this.semver===ne?!0:(typeof e=="string"&&(e=new m(e,this.options)),Ee(e,this.operator,this.semver,this.options))};O.prototype.intersects=function(e,t){if(!(e instanceof O))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var r;if(this.operator==="")return r=new x(e.value,t),ge(this.value,r,t);if(e.operator==="")return r=new x(this.value,t),ge(e.semver,r,t);var n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),s=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),i=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),c=Ee(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=Ee(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||s||i&&o||c||u};l.Range=x;function x(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof x)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new x(e.raw,t);if(e instanceof O)return new x(e.value,t);if(!(this instanceof x))return new x(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}x.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};x.prototype.toString=function(){return this.range};x.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?g[Ft]:g[Bt];e=e.replace(r,ys),y("hyphen replace",e),e=e.replace(g[ee],Wn),y("comparator trim",e,g[ee]),e=e.replace(g[ve],Kn),e=e.replace(g[ye],zn),e=e.split(/\s+/).join(" ");var n=t?g[We]:g[Je],s=e.split(" ").map(function(i){return us(i,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter(function(i){return!!i.match(n)})),s=s.map(function(i){return new O(i,this.options)},this),s};x.prototype.intersects=function(e,t){if(!(e instanceof x))throw new TypeError("a Range is required");return this.set.some(function(r){return r.every(function(n){return e.set.some(function(s){return s.every(function(i){return n.intersects(i,t)})})})})};l.toComparators=cs;function cs(e,t){return new x(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function us(e,t){return y("comp",e,t),e=ds(e,t),y("caret",e),e=ls(e,t),y("tildes",e),e=ms(e,t),y("xrange",e),e=vs(e,t),y("stars",e),e}function T(e){return!e||e.toLowerCase()==="x"||e==="*"}function ls(e,t){return e.trim().split(/\s+/).map(function(r){return fs(r,t)}).join(" ")}function fs(e,t){var r=t.loose?g[qt]:g[jt];return e.replace(r,function(n,s,i,o,c){y("tilde",e,n,s,i,o,c);var u;return T(s)?u="":T(i)?u=">="+s+".0.0 <"+(+s+1)+".0.0":T(o)?u=">="+s+"."+i+".0 <"+s+"."+(+i+1)+".0":c?(y("replaceTilde pr",c),u=">="+s+"."+i+"."+o+"-"+c+" <"+s+"."+(+i+1)+".0"):u=">="+s+"."+i+"."+o+" <"+s+"."+(+i+1)+".0",y("tilde return",u),u})}function ds(e,t){return e.trim().split(/\s+/).map(function(r){return ps(r,t)}).join(" ")}function ps(e,t){y("caret",e,t);var r=t.loose?g[_t]:g[kt];return e.replace(r,function(n,s,i,o,c){y("caret",e,n,s,i,o,c);var u;return T(s)?u="":T(i)?u=">="+s+".0.0 <"+(+s+1)+".0.0":T(o)?s==="0"?u=">="+s+"."+i+".0 <"+s+"."+(+i+1)+".0":u=">="+s+"."+i+".0 <"+(+s+1)+".0.0":c?(y("replaceCaret pr",c),s==="0"?i==="0"?u=">="+s+"."+i+"."+o+"-"+c+" <"+s+"."+i+"."+(+o+1):u=">="+s+"."+i+"."+o+"-"+c+" <"+s+"."+(+i+1)+".0":u=">="+s+"."+i+"."+o+"-"+c+" <"+(+s+1)+".0.0"):(y("no pr"),s==="0"?i==="0"?u=">="+s+"."+i+"."+o+" <"+s+"."+i+"."+(+o+1):u=">="+s+"."+i+"."+o+" <"+s+"."+(+i+1)+".0":u=">="+s+"."+i+"."+o+" <"+(+s+1)+".0.0"),y("caret return",u),u})}function ms(e,t){return y("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return hs(r,t)}).join(" ")}function hs(e,t){e=e.trim();var r=t.loose?g[Lt]:g[Nt];return e.replace(r,function(n,s,i,o,c,u){y("xRange",e,n,s,i,o,c,u);var f=T(i),v=f||T(o),E=v||T(c),h=E;return s==="="&&h&&(s=""),f?s===">"||s==="<"?n="<0.0.0":n="*":s&&h?(v&&(o=0),c=0,s===">"?(s=">=",v?(i=+i+1,o=0,c=0):(o=+o+1,c=0)):s==="<="&&(s="<",v?i=+i+1:o=+o+1),n=s+i+"."+o+"."+c):v?n=">="+i+".0.0 <"+(+i+1)+".0.0":E&&(n=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),y("xRange return",n),n})}function vs(e,t){return y("replaceStars",e,t),e.trim().replace(g[Dt],"")}function ys(e,t,r,n,s,i,o,c,u,f,v,E,h){return T(r)?t="":T(n)?t=">="+r+".0.0":T(s)?t=">="+r+"."+n+".0":t=">="+t,T(u)?c="":T(f)?c="<"+(+u+1)+".0.0":T(v)?c="<"+u+"."+(+f+1)+".0":E?c="<="+u+"."+f+"."+v+"-"+E:c="<="+c,(t+" "+c).trim()}x.prototype.test=function(e){if(!e)return!1;typeof e=="string"&&(e=new m(e,this.options));for(var t=0;t<this.set.length;t++)if(Ss(this.set[t],e,this.options))return!0;return!1};function Ss(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++)if(y(e[n].semver),e[n].semver!==ne&&e[n].semver.prerelease.length>0){var s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}l.satisfies=ge;function ge(e,t,r){try{t=new x(t,r)}catch{return!1}return t.test(e)}l.maxSatisfying=Es;function Es(e,t,r){var n=null,s=null;try{var i=new x(t,r)}catch{return null}return e.forEach(function(o){i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new m(n,r))}),n}l.minSatisfying=gs;function gs(e,t,r){var n=null,s=null;try{var i=new x(t,r)}catch{return null}return e.forEach(function(o){i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new m(n,r))}),n}l.minVersion=ws;function ws(e,t){e=new x(e,t);var r=new m("0.0.0");if(e.test(r)||(r=new m("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n){var s=e.set[n];s.forEach(function(i){var o=new m(i.semver.version);switch(i.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!r||te(r,o))&&(r=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+i.operator)}})}return r&&e.test(r)?r:null}l.validRange=xs;function xs(e,t){try{return new x(e,t).range||"*"}catch{return null}}l.ltr=Is;function Is(e,t,r){return et(e,t,"<",r)}l.gtr=bs;function bs(e,t,r){return et(e,t,">",r)}l.outside=et;function et(e,t,r,n){e=new m(e,n),t=new x(t,n);var s,i,o,c,u;switch(r){case">":s=te,i=Qe,o=Se,c=">",u=">=";break;case"<":s=Se,i=Ze,o=te,c="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ge(e,t,n))return!1;for(var f=0;f<t.set.length;++f){var v=t.set[f],E=null,h=null;if(v.forEach(function(I){I.semver===ne&&(I=new O(">=0.0.0")),E=E||I,h=h||I,s(I.semver,E.semver,n)?E=I:o(I.semver,h.semver,n)&&(h=I)}),E.operator===c||E.operator===u||(!h.operator||h.operator===c)&&i(e,h.semver))return!1;if(h.operator===u&&o(e,h.semver))return!1}return!0}l.prerelease=Ts;function Ts(e,t){var r=j(e,t);return r&&r.prerelease.length?r.prerelease:null}l.intersects=Rs;function Rs(e,t,r){return e=new x(e,r),t=new x(t,r),e.intersects(t)}l.coerce=As;function As(e){if(e instanceof m)return e;if(typeof e!="string")return null;var t=e.match(g[$t]);return t==null?null:j(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}});var Kt=d((Go,rt)=>{"use strict";var Os=require("fs"),Ht=Vt(),se=process.platform==="darwin",Ie,tt=e=>{let{length:t}=e.split(".");return t===1?`${e}.0.0`:t===2?`${e}.0`:e},Mt=e=>{let t=/<key>ProductVersion<\/key>[\s]*<string>([\d.]+)<\/string>/.exec(e);if(!!t)return t[1].replace("10.16","11")},R=()=>{if(!!se){if(!Ie){let e=Os.readFileSync("/System/Library/CoreServices/SystemVersion.plist","utf8"),t=Mt(e);if(!t)return;Ie=t}if(Ie)return tt(Ie)}};rt.exports=R;rt.exports.default=R;R._parseVersion=Mt;R.isMacOS=se;R.is=e=>se?(e=e.replace("10.16","11"),Ht.satisfies(R(),tt(e))):!1;R.isGreaterThanOrEqualTo=e=>se?(e=e.replace("10.16","11"),Ht.gte(R(),tt(e))):!1;R.assert=e=>{if(e=e.replace("10.16","11"),!R.is(e))throw new Error(`Requires macOS ${e}`)};R.assertGreaterThanOrEqualTo=e=>{if(e=e.replace("10.16","11"),!R.isGreaterThanOrEqualTo(e))throw new Error(`Requires macOS ${e} or later`)};R.assertMacOS=()=>{if(!se)throw new Error("Requires macOS")}});var Wt=d(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.run=V.runJXACode=void 0;var Ps=require("child_process").execFile,Cs=Kt();function Gs(e){return zt(e,[])}V.runJXACode=Gs;function Ns(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=`
ObjC.import('stdlib');
var args = JSON.parse($.getenv('OSA_ARGS'));
var fn   = (`+e.toString()+`);
var out  = fn.apply(null, args);
JSON.stringify({ result: out });
`;return zt(n,t)}V.run=Ns;var Ls=1e3*1e3*100;function zt(e,t){return new Promise(function(r,n){Cs.assertGreaterThanOrEqualTo("10.10");var s=Ps("/usr/bin/osascript",["-l","JavaScript"],{env:{OSA_ARGS:JSON.stringify(t)},maxBuffer:Ls},function(i,o,c){if(i)return n(i);c&&console.error(c),o||r(void 0);try{var u=JSON.parse(o.toString().trim()).result;r(u)}catch{r(o.toString().trim())}});s.stdin.write(e),s.stdin.end()})}});var er=d((Lo,Qt)=>{Qt.exports=Zt;Zt.sync=js;var Jt=require("fs");function $s(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var s=r[n].toLowerCase();if(s&&e.substr(-s.length).toLowerCase()===s)return!0}return!1}function Yt(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:$s(t,r)}function Zt(e,t,r){Jt.stat(e,function(n,s){r(n,n?!1:Yt(s,e,t))})}function js(e,t){return Yt(Jt.statSync(e),e,t)}});var ir=d(($o,sr)=>{sr.exports=rr;rr.sync=qs;var tr=require("fs");function rr(e,t,r){tr.stat(e,function(n,s){r(n,n?!1:nr(s,t))})}function qs(e,t){return nr(tr.statSync(e),t)}function nr(e,t){return e.isFile()&&ks(e,t)}function ks(e,t){var r=e.mode,n=e.uid,s=e.gid,i=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),o=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),c=parseInt("100",8),u=parseInt("010",8),f=parseInt("001",8),v=c|u,E=r&f||r&u&&s===o||r&c&&n===i||r&v&&i===0;return E}});var ar=d((qo,or)=>{var jo=require("fs"),be;process.platform==="win32"||global.TESTING_WINDOWS?be=er():be=ir();or.exports=nt;nt.sync=_s;function nt(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,s){nt(e,t||{},function(i,o){i?s(i):n(o)})})}be(e,t||{},function(n,s){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,s=!1),r(n,s)})}function _s(e,t){try{return be.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var mr=d((ko,pr)=>{var H=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",cr=require("path"),Bs=H?";":":",ur=ar(),lr=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),fr=(e,t)=>{let r=t.colon||Bs,n=e.match(/\//)||H&&e.match(/\\/)?[""]:[...H?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],s=H?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=H?s.split(r):[""];return H&&e.indexOf(".")!==-1&&i[0]!==""&&i.unshift(""),{pathEnv:n,pathExt:i,pathExtExe:s}},dr=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:s,pathExtExe:i}=fr(e,t),o=[],c=f=>new Promise((v,E)=>{if(f===n.length)return t.all&&o.length?v(o):E(lr(e));let h=n[f],I=/^".*"$/.test(h)?h.slice(1,-1):h,A=cr.join(I,e),P=!I&&/^\.[\\\/]/.test(e)?e.slice(0,2)+A:A;v(u(P,f,0))}),u=(f,v,E)=>new Promise((h,I)=>{if(E===s.length)return h(c(v+1));let A=s[E];ur(f+A,{pathExt:i},(P,_)=>{if(!P&&_)if(t.all)o.push(f+A);else return h(f+A);return h(u(f,v,E+1))})});return r?c(0).then(f=>r(null,f),r):c(0)},Fs=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:s}=fr(e,t),i=[];for(let o=0;o<r.length;o++){let c=r[o],u=/^".*"$/.test(c)?c.slice(1,-1):c,f=cr.join(u,e),v=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+f:f;for(let E=0;E<n.length;E++){let h=v+n[E];try{if(ur.sync(h,{pathExt:s}))if(t.all)i.push(h);else return h}catch{}}}if(t.all&&i.length)return i;if(t.nothrow)return null;throw lr(e)};pr.exports=dr;dr.sync=Fs});var it=d((_o,st)=>{"use strict";var hr=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};st.exports=hr;st.exports.default=hr});var Er=d((Bo,Sr)=>{"use strict";var vr=require("path"),Ds=mr(),Us=it();function yr(e,t){let r=e.options.env||process.env,n=process.cwd(),s=e.options.cwd!=null,i=s&&process.chdir!==void 0&&!process.chdir.disabled;if(i)try{process.chdir(e.options.cwd)}catch{}let o;try{o=Ds.sync(e.command,{path:r[Us({env:r})],pathExt:t?vr.delimiter:void 0})}catch{}finally{i&&process.chdir(n)}return o&&(o=vr.resolve(s?e.options.cwd:"",o)),o}function Xs(e){return yr(e)||yr(e,!0)}Sr.exports=Xs});var gr=d((Fo,at)=>{"use strict";var ot=/([()\][%!^"`<>&|;, *?])/g;function Vs(e){return e=e.replace(ot,"^$1"),e}function Hs(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(ot,"^$1"),t&&(e=e.replace(ot,"^$1")),e}at.exports.command=Vs;at.exports.argument=Hs});var xr=d((Do,wr)=>{"use strict";wr.exports=/^#!(.*)/});var br=d((Uo,Ir)=>{"use strict";var Ms=xr();Ir.exports=(e="")=>{let t=e.match(Ms);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),s=r.split("/").pop();return s==="env"?n:n?`${s} ${n}`:s}});var Rr=d((Xo,Tr)=>{"use strict";var ct=require("fs"),Ks=br();function zs(e){let r=Buffer.alloc(150),n;try{n=ct.openSync(e,"r"),ct.readSync(n,r,0,150,0),ct.closeSync(n)}catch{}return Ks(r.toString())}Tr.exports=zs});var Cr=d((Vo,Pr)=>{"use strict";var Ws=require("path"),Ar=Er(),Or=gr(),Js=Rr(),Ys=process.platform==="win32",Zs=/\.(?:com|exe)$/i,Qs=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function ei(e){e.file=Ar(e);let t=e.file&&Js(e.file);return t?(e.args.unshift(e.file),e.command=t,Ar(e)):e.file}function ti(e){if(!Ys)return e;let t=ei(e),r=!Zs.test(t);if(e.options.forceShell||r){let n=Qs.test(t);e.command=Ws.normalize(e.command),e.command=Or.command(e.command),e.args=e.args.map(i=>Or.argument(i,n));let s=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${s}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function ri(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:ti(n)}Pr.exports=ri});var Lr=d((Ho,Nr)=>{"use strict";var ut=process.platform==="win32";function lt(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function ni(e,t){if(!ut)return;let r=e.emit;e.emit=function(n,s){if(n==="exit"){let i=Gr(s,t,"spawn");if(i)return r.call(e,"error",i)}return r.apply(e,arguments)}}function Gr(e,t){return ut&&e===1&&!t.file?lt(t.original,"spawn"):null}function si(e,t){return ut&&e===1&&!t.file?lt(t.original,"spawnSync"):null}Nr.exports={hookChildProcess:ni,verifyENOENT:Gr,verifyENOENTSync:si,notFoundError:lt}});var qr=d((Mo,M)=>{"use strict";var $r=require("child_process"),ft=Cr(),dt=Lr();function jr(e,t,r){let n=ft(e,t,r),s=$r.spawn(n.command,n.args,n.options);return dt.hookChildProcess(s,n),s}function ii(e,t,r){let n=ft(e,t,r),s=$r.spawnSync(n.command,n.args,n.options);return s.error=s.error||dt.verifyENOENTSync(s.status,n),s}M.exports=jr;M.exports.spawn=jr;M.exports.sync=ii;M.exports._parse=ft;M.exports._enoent=dt});var _r=d((Ko,kr)=>{"use strict";kr.exports=e=>{let t=typeof e=="string"?`
`:`
`.charCodeAt(),r=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e}});var Dr=d((zo,oe)=>{"use strict";var ie=require("path"),Br=it(),Fr=e=>{e={cwd:process.cwd(),path:process.env[Br()],execPath:process.execPath,...e};let t,r=ie.resolve(e.cwd),n=[];for(;t!==r;)n.push(ie.join(r,"node_modules/.bin")),t=r,r=ie.resolve(r,"..");let s=ie.resolve(e.cwd,e.execPath,"..");return n.push(s),n.concat(e.path).join(ie.delimiter)};oe.exports=Fr;oe.exports.default=Fr;oe.exports.env=e=>{e={env:process.env,...e};let t={...e.env},r=Br({env:t});return e.path=t[r],t[r]=oe.exports(e),t}});var Xr=d((Wo,pt)=>{"use strict";var Ur=(e,t)=>{for(let r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};pt.exports=Ur;pt.exports.default=Ur});var Hr=d((Jo,Re)=>{"use strict";var oi=Xr(),Te=new WeakMap,Vr=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0,s=e.displayName||e.name||"<anonymous>",i=function(...o){if(Te.set(i,++n),n===1)r=e.apply(this,o),e=null;else if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return oi(i,e),Te.set(i,n),i};Re.exports=Vr;Re.exports.default=Vr;Re.exports.callCount=e=>{if(!Te.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Te.get(e)}});var Mr=d(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.SIGNALS=void 0;var ai=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];Ae.SIGNALS=ai});var mt=d(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.SIGRTMAX=K.getRealtimeSignals=void 0;var ci=function(){let e=zr-Kr+1;return Array.from({length:e},ui)};K.getRealtimeSignals=ci;var ui=function(e,t){return{name:`SIGRT${t+1}`,number:Kr+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Kr=34,zr=64;K.SIGRTMAX=zr});var Wr=d(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.getSignals=void 0;var li=require("os"),fi=Mr(),di=mt(),pi=function(){let e=(0,di.getRealtimeSignals)();return[...fi.SIGNALS,...e].map(mi)};Oe.getSignals=pi;var mi=function({name:e,number:t,description:r,action:n,forced:s=!1,standard:i}){let{signals:{[e]:o}}=li.constants,c=o!==void 0;return{name:e,number:c?o:t,description:r,supported:c,action:n,forced:s,standard:i}}});var Yr=d(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.signalsByNumber=z.signalsByName=void 0;var hi=require("os"),Jr=Wr(),vi=mt(),yi=function(){return(0,Jr.getSignals)().reduce(Si,{})},Si=function(e,{name:t,number:r,description:n,supported:s,action:i,forced:o,standard:c}){return{...e,[t]:{name:t,number:r,description:n,supported:s,action:i,forced:o,standard:c}}},Ei=yi();z.signalsByName=Ei;var gi=function(){let e=(0,Jr.getSignals)(),t=vi.SIGRTMAX+1,r=Array.from({length:t},(n,s)=>wi(s,e));return Object.assign({},...r)},wi=function(e,t){let r=xi(e,t);if(r===void 0)return{};let{name:n,description:s,supported:i,action:o,forced:c,standard:u}=r;return{[e]:{name:n,number:e,description:s,supported:i,action:o,forced:c,standard:u}}},xi=function(e,t){let r=t.find(({name:n})=>hi.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},Ii=gi();z.signalsByNumber=Ii});var Qr=d((ta,Zr)=>{"use strict";var{signalsByName:bi}=Yr(),Ti=({timedOut:e,timeout:t,errorCode:r,signal:n,signalDescription:s,exitCode:i,isCanceled:o})=>e?`timed out after ${t} milliseconds`:o?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${s})`:i!==void 0?`failed with exit code ${i}`:"failed",Ri=({stdout:e,stderr:t,all:r,error:n,signal:s,exitCode:i,command:o,escapedCommand:c,timedOut:u,isCanceled:f,killed:v,parsed:{options:{timeout:E}}})=>{i=i===null?void 0:i,s=s===null?void 0:s;let h=s===void 0?void 0:bi[s].description,I=n&&n.code,P=`Command ${Ti({timedOut:u,timeout:E,errorCode:I,signal:s,signalDescription:h,exitCode:i,isCanceled:f})}: ${o}`,_=Object.prototype.toString.call(n)==="[object Error]",le=_?`${P}
${n.message}`:P,fe=[le,t,e].filter(Boolean).join(`
`);return _?(n.originalMessage=n.message,n.message=fe):n=new Error(fe),n.shortMessage=le,n.command=o,n.escapedCommand=c,n.exitCode=i,n.signal=s,n.signalDescription=h,n.stdout=e,n.stderr=t,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=Boolean(u),n.isCanceled=f,n.killed=v&&!u,n};Zr.exports=Ri});var tn=d((ra,ht)=>{"use strict";var Pe=["stdin","stdout","stderr"],Ai=e=>Pe.some(t=>e[t]!==void 0),en=e=>{if(!e)return;let{stdio:t}=e;if(t===void 0)return Pe.map(n=>e[n]);if(Ai(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Pe.map(n=>`\`${n}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let r=Math.max(t.length,Pe.length);return Array.from({length:r},(n,s)=>t[s])};ht.exports=en;ht.exports.node=e=>{let t=en(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var rn=d((na,Ce)=>{Ce.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Ce.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Ce.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var cn=d((sa,Y)=>{var w=global.process,q=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};q(w)?(nn=require("assert"),W=rn(),sn=/^win/i.test(w.platform),ae=require("events"),typeof ae!="function"&&(ae=ae.EventEmitter),w.__signal_exit_emitter__?b=w.__signal_exit_emitter__:(b=w.__signal_exit_emitter__=new ae,b.count=0,b.emitted={}),b.infinite||(b.setMaxListeners(1/0),b.infinite=!0),Y.exports=function(e,t){if(!q(global.process))return function(){};nn.equal(typeof e,"function","a callback must be provided for exit handler"),J===!1&&vt();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){b.removeListener(r,e),b.listeners("exit").length===0&&b.listeners("afterexit").length===0&&Ge()};return b.on(r,e),n},Ge=function(){!J||!q(global.process)||(J=!1,W.forEach(function(t){try{w.removeListener(t,Ne[t])}catch{}}),w.emit=Le,w.reallyExit=yt,b.count-=1)},Y.exports.unload=Ge,k=function(t,r,n){b.emitted[t]||(b.emitted[t]=!0,b.emit(t,r,n))},Ne={},W.forEach(function(e){Ne[e]=function(){if(!!q(global.process)){var r=w.listeners(e);r.length===b.count&&(Ge(),k("exit",null,e),k("afterexit",null,e),sn&&e==="SIGHUP"&&(e="SIGINT"),w.kill(w.pid,e))}}}),Y.exports.signals=function(){return W},J=!1,vt=function(){J||!q(global.process)||(J=!0,b.count+=1,W=W.filter(function(t){try{return w.on(t,Ne[t]),!0}catch{return!1}}),w.emit=an,w.reallyExit=on)},Y.exports.load=vt,yt=w.reallyExit,on=function(t){!q(global.process)||(w.exitCode=t||0,k("exit",w.exitCode,null),k("afterexit",w.exitCode,null),yt.call(w,w.exitCode))},Le=w.emit,an=function(t,r){if(t==="exit"&&q(global.process)){r!==void 0&&(w.exitCode=r);var n=Le.apply(this,arguments);return k("exit",w.exitCode,null),k("afterexit",w.exitCode,null),n}else return Le.apply(this,arguments)}):Y.exports=function(){return function(){}};var nn,W,sn,ae,b,Ge,k,Ne,J,vt,yt,on,Le,an});var ln=d((ia,un)=>{"use strict";var Oi=require("os"),Pi=cn(),Ci=1e3*5,Gi=(e,t="SIGTERM",r={})=>{let n=e(t);return Ni(e,t,r,n),n},Ni=(e,t,r,n)=>{if(!Li(t,r,n))return;let s=ji(r),i=setTimeout(()=>{e("SIGKILL")},s);i.unref&&i.unref()},Li=(e,{forceKillAfterTimeout:t},r)=>$i(e)&&t!==!1&&r,$i=e=>e===Oi.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",ji=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return Ci;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},qi=(e,t)=>{e.kill()&&(t.isCanceled=!0)},ki=(e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},_i=(e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(t===0||t===void 0)return n;let s,i=new Promise((c,u)=>{s=setTimeout(()=>{ki(e,r,u)},t)}),o=n.finally(()=>{clearTimeout(s)});return Promise.race([i,o])},Bi=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},Fi=async(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;let s=Pi(()=>{e.kill()});return n.finally(()=>{s()})};un.exports={spawnedKill:Gi,spawnedCancel:qi,setupTimeout:_i,validateTimeout:Bi,setExitHandler:Fi}});var dn=d((oa,fn)=>{"use strict";var C=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";C.writable=e=>C(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";C.readable=e=>C(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";C.duplex=e=>C.writable(e)&&C.readable(e);C.transform=e=>C.duplex(e)&&typeof e._transform=="function";fn.exports=C});var mn=d((aa,pn)=>{"use strict";var{PassThrough:Di}=require("stream");pn.exports=e=>{e={...e};let{array:t}=e,{encoding:r}=e,n=r==="buffer",s=!1;t?s=!(r||n):r=r||"utf8",n&&(r=null);let i=new Di({objectMode:s});r&&i.setEncoding(r);let o=0,c=[];return i.on("data",u=>{c.push(u),s?o=c.length:o+=u.length}),i.getBufferedValue=()=>t?c:n?Buffer.concat(c,o):c.join(""),i.getBufferedLength=()=>o,i}});var hn=d((ca,ce)=>{"use strict";var{constants:Ui}=require("buffer"),Xi=require("stream"),{promisify:Vi}=require("util"),Hi=mn(),Mi=Vi(Xi.pipeline),$e=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function St(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};let{maxBuffer:r}=t,n=Hi(t);return await new Promise((s,i)=>{let o=c=>{c&&n.getBufferedLength()<=Ui.MAX_LENGTH&&(c.bufferedData=n.getBufferedValue()),i(c)};(async()=>{try{await Mi(e,n),s()}catch(c){o(c)}})(),n.on("data",()=>{n.getBufferedLength()>r&&o(new $e)})}),n.getBufferedValue()}ce.exports=St;ce.exports.buffer=(e,t)=>St(e,{...t,encoding:"buffer"});ce.exports.array=(e,t)=>St(e,{...t,array:!0});ce.exports.MaxBufferError=$e});var yn=d((ua,vn)=>{"use strict";var{PassThrough:Ki}=require("stream");vn.exports=function(){var e=[],t=new Ki({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=n,t.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(r),t;function r(i){return Array.isArray(i)?(i.forEach(r),this):(e.push(i),i.once("end",s.bind(null,i)),i.once("error",t.emit.bind(t,"error")),i.pipe(t,{end:!1}),this)}function n(){return e.length==0}function s(i){e=e.filter(function(o){return o!==i}),!e.length&&t.readable&&t.end()}}});var wn=d((la,gn)=>{"use strict";var En=dn(),Sn=hn(),zi=yn(),Wi=(e,t)=>{t===void 0||e.stdin===void 0||(En(t)?t.pipe(e.stdin):e.stdin.end(t))},Ji=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;let r=zi();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},Et=async(e,t)=>{if(!!e){e.destroy();try{return await t}catch(r){return r.bufferedData}}},gt=(e,{encoding:t,buffer:r,maxBuffer:n})=>{if(!(!e||!r))return t?Sn(e,{encoding:t,maxBuffer:n}):Sn.buffer(e,{maxBuffer:n})},Yi=async({stdout:e,stderr:t,all:r},{encoding:n,buffer:s,maxBuffer:i},o)=>{let c=gt(e,{encoding:n,buffer:s,maxBuffer:i}),u=gt(t,{encoding:n,buffer:s,maxBuffer:i}),f=gt(r,{encoding:n,buffer:s,maxBuffer:i*2});try{return await Promise.all([o,c,u,f])}catch(v){return Promise.all([{error:v,signal:v.signal,timedOut:v.timedOut},Et(e,c),Et(t,u),Et(r,f)])}},Zi=({input:e})=>{if(En(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};gn.exports={handleInput:Wi,makeAllStream:Ji,getSpawnedResult:Yi,validateInputSync:Zi}});var In=d((fa,xn)=>{"use strict";var Qi=(async()=>{})().constructor.prototype,eo=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(Qi,e)]),to=(e,t)=>{for(let[r,n]of eo){let s=typeof t=="function"?(...i)=>Reflect.apply(n.value,t(),i):n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:s})}return e},ro=e=>new Promise((t,r)=>{e.on("exit",(n,s)=>{t({exitCode:n,signal:s})}),e.on("error",n=>{r(n)}),e.stdin&&e.stdin.on("error",n=>{r(n)})});xn.exports={mergePromise:to,getSpawnedPromise:ro}});var Rn=d((da,Tn)=>{"use strict";var bn=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],no=/^[\w.-]+$/,so=/"/g,io=e=>typeof e!="string"||no.test(e)?e:`"${e.replace(so,'\\"')}"`,oo=(e,t)=>bn(e,t).join(" "),ao=(e,t)=>bn(e,t).map(r=>io(r)).join(" "),co=/ +/g,uo=e=>{let t=[];for(let r of e.trim().split(co)){let n=t[t.length-1];n&&n.endsWith("\\")?t[t.length-1]=`${n.slice(0,-1)} ${r}`:t.push(r)}return t};Tn.exports={joinCommand:oo,getEscapedCommand:ao,parseCommand:uo}});var Ln=d((pa,Z)=>{"use strict";var lo=require("path"),wt=require("child_process"),fo=qr(),po=_r(),mo=Dr(),ho=Hr(),je=Qr(),On=tn(),{spawnedKill:vo,spawnedCancel:yo,setupTimeout:So,validateTimeout:Eo,setExitHandler:go}=ln(),{handleInput:wo,getSpawnedResult:xo,makeAllStream:Io,validateInputSync:bo}=wn(),{mergePromise:An,getSpawnedPromise:To}=In(),{joinCommand:Pn,parseCommand:Cn,getEscapedCommand:Gn}=Rn(),Ro=1e3*1e3*100,Ao=({env:e,extendEnv:t,preferLocal:r,localDir:n,execPath:s})=>{let i=t?{...process.env,...e}:e;return r?mo.env({env:i,cwd:n,execPath:s}):i},Nn=(e,t,r={})=>{let n=fo._parse(e,t,r);return e=n.command,t=n.args,r=n.options,r={maxBuffer:Ro,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=Ao(r),r.stdio=On(r),process.platform==="win32"&&lo.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:r,parsed:n}},ue=(e,t,r)=>typeof t!="string"&&!Buffer.isBuffer(t)?r===void 0?void 0:"":e.stripFinalNewline?po(t):t,qe=(e,t,r)=>{let n=Nn(e,t,r),s=Pn(e,t),i=Gn(e,t);Eo(n.options);let o;try{o=wt.spawn(n.file,n.args,n.options)}catch(I){let A=new wt.ChildProcess,P=Promise.reject(je({error:I,stdout:"",stderr:"",all:"",command:s,escapedCommand:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return An(A,P)}let c=To(o),u=So(o,n.options,c),f=go(o,n.options,u),v={isCanceled:!1};o.kill=vo.bind(null,o.kill.bind(o)),o.cancel=yo.bind(null,o,v);let h=ho(async()=>{let[{error:I,exitCode:A,signal:P,timedOut:_},le,fe,Bn]=await xo(o,n.options,f),It=ue(n.options,le),bt=ue(n.options,fe),Tt=ue(n.options,Bn);if(I||A!==0||P!==null){let Rt=je({error:I,exitCode:A,signal:P,stdout:It,stderr:bt,all:Tt,command:s,escapedCommand:i,parsed:n,timedOut:_,isCanceled:v.isCanceled,killed:o.killed});if(!n.options.reject)return Rt;throw Rt}return{command:s,escapedCommand:i,exitCode:0,stdout:It,stderr:bt,all:Tt,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return wo(o,n.options.input),o.all=Io(o,n.options),An(o,h)};Z.exports=qe;Z.exports.sync=(e,t,r)=>{let n=Nn(e,t,r),s=Pn(e,t),i=Gn(e,t);bo(n.options);let o;try{o=wt.spawnSync(n.file,n.args,n.options)}catch(f){throw je({error:f,stdout:"",stderr:"",all:"",command:s,escapedCommand:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let c=ue(n.options,o.stdout,o.error),u=ue(n.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let f=je({stdout:c,stderr:u,error:o.error,signal:o.signal,exitCode:o.status,command:s,escapedCommand:i,parsed:n,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!n.options.reject)return f;throw f}return{command:s,escapedCommand:i,exitCode:0,stdout:c,stderr:u,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};Z.exports.command=(e,t)=>{let[r,...n]=Cn(e);return qe(r,n,t)};Z.exports.commandSync=(e,t)=>{let[r,...n]=Cn(e);return qe.sync(r,n,t)};Z.exports.node=(e,t,r={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(r=t,t=[]);let n=On.node(r),s=process.execArgv.filter(c=>!c.startsWith("--inspect")),{nodePath:i=process.execPath,nodeOptions:o=s}=r;return qe(i,[...o,e,...Array.isArray(t)?t:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var Po={};Hn(Po,{default:()=>kn,getServers:()=>_n});module.exports=Mn(Po);var S=require("@raycast/api"),Q=require("react"),qn=ke(Wt());var $n=ke(require("node:process"),1),jn=ke(Ln(),1);async function xt(e){if($n.default.platform!=="darwin")throw new Error("macOS only");let{stdout:t}=await(0,jn.default)("osascript",["-e",e]);return t}var L=require("react/jsx-runtime");function kn(){let[e,t]=(0,Q.useState)(!0),[r,n]=(0,Q.useState)(),[s,i]=(0,Q.useState)([]);async function o(){_n().then(c=>{i(c)}).catch(c=>n(c.message)).finally(()=>t(!1))}if((0,Q.useEffect)(()=>{o()},[]),r){let c={style:S.Toast.Style.Failure,title:"Failed to load servers",message:"Download from https://panic.com/transmit/",primaryAction:{title:"Download Transmit",onAction:u=>{(0,S.open)("https://panic.com/transmit/"),u.hide()}}};(0,S.showToast)(c)}return(0,L.jsx)(S.List,{searchBarPlaceholder:"Search servers...",isLoading:e,children:s?.map(c=>(0,L.jsx)(Oo,{entry:c},c.identifier))})}function Oo(e){return(0,L.jsx)(S.List.Item,{title:e.entry.name,subtitle:e.entry.address,accessoryTitle:e.entry.protocol,actions:(0,L.jsx)(S.ActionPanel,{children:(0,L.jsxs)(S.ActionPanel.Section,{children:[(0,L.jsx)(S.Action,{title:"Connect in Transmit",icon:S.Icon.Globe,onAction:()=>{(0,S.showToast)({style:S.Toast.Style.Success,title:"Connecting..."}),(0,S.clearSearchBar)(),(0,S.closeMainWindow)(),xt(`
                                tell application "Transmit"
                                    activate
                                    set allBookmarks to get favorites
                                    if exists document 1 then
                                        tell current tab of document 1
                                            close remote browser
		                                    connect to item ${e.entry.id} of allBookmarks
                                        end tell
                                    else
                                        tell current tab of (make new document at end)
		                                    connect to item ${e.entry.id} of allBookmarks
                                        end tell
                                    end if
                                    activate
                                end tell
                                `)}}),(0,L.jsx)(S.Action,{title:"Connect in Transmit (+Tab)",icon:S.Icon.Plus,onAction:()=>{(0,S.showToast)({style:S.Toast.Style.Success,title:"Connecting..."}),(0,S.clearSearchBar)(),(0,S.closeMainWindow)(),xt(`
                                tell application "Transmit"
                                    activate
                                    set allBookmarks to get favorites
                                    if exists document 1 then
                                        set current tab of document 1 to (make new tab at end of document 1)
			                            tell current tab of document 1
                                            close remote browser
		                                    connect to item ${e.entry.id} of allBookmarks
                                        end tell
                                    else
                                        tell current tab of (make new document at end)
		                                    connect to item ${e.entry.id} of allBookmarks
                                        end tell
                                    end if
                                    activate
                                end tell
                                `)}})]})})})}async function _n(){return(0,qn.run)(()=>Application("Transmit").favorites().map((t,r)=>({id:r+1,identifier:t.identifier.get(),name:t.name.get(),address:t.address.get(),port:t.port.get(),protocol:t.protocol.get()})))}0&&(module.exports={getServers});
