"use strict";var Nc=Object.create;var on=Object.defineProperty;var Ac=Object.getOwnPropertyDescriptor;var Oc=Object.getOwnPropertyNames;var Ic=Object.getPrototypeOf,Pc=Object.prototype.hasOwnProperty;var ar=(t,e)=>()=>(t&&(e=t(t=0)),e);var W=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),oo=(t,e)=>{for(var n in e)on(t,n,{get:e[n],enumerable:!0})},ao=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Oc(e))!Pc.call(t,s)&&s!==n&&on(t,s,{get:()=>e[s],enumerable:!(o=Ac(e,s))||o.enumerable});return t};var ve=(t,e,n)=>(n=t!=null?Nc(Ic(t)):{},ao(e||!t||!t.__esModule?on(n,"default",{value:t,enumerable:!0}):n,t)),Lc=t=>ao(on({},"__esModule",{value:!0}),t);var co=W((an,lo)=>{(function(t,e){typeof an=="object"&&typeof lo<"u"?e(an):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.WebStreamsPolyfill={}))})(an,function(t){"use strict";let e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:r=>`Symbol(${r})`;function n(){}function o(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let s=o();function u(r){return typeof r=="object"&&r!==null||typeof r=="function"}let l=n,p=Promise,f=Promise.prototype.then,b=Promise.resolve.bind(p),S=Promise.reject.bind(p);function g(r){return new p(r)}function w(r){return b(r)}function _(r){return S(r)}function E(r,i,a){return f.call(r,i,a)}function P(r,i,a){E(E(r,i,a),void 0,l)}function I(r,i){P(r,i)}function M(r,i){P(r,void 0,i)}function z(r,i,a){return E(r,i,a)}function y(r){E(r,void 0,l)}let d=(()=>{let r=s&&s.queueMicrotask;if(typeof r=="function")return r;let i=w(void 0);return a=>E(i,a)})();function R(r,i,a){if(typeof r!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(r,i,a)}function c(r,i,a){try{return w(R(r,i,a))}catch(m){return _(m)}}let D=16384;class C{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(i){let a=this._back,m=a;a._elements.length===D-1&&(m={_elements:[],_next:void 0}),a._elements.push(i),m!==a&&(this._back=m,a._next=m),++this._size}shift(){let i=this._front,a=i,m=this._cursor,T=m+1,A=i._elements,O=A[m];return T===D&&(a=i._next,T=0),--this._size,this._cursor=T,i!==a&&(this._front=a),A[m]=void 0,O}forEach(i){let a=this._cursor,m=this._front,T=m._elements;for(;(a!==T.length||m._next!==void 0)&&!(a===T.length&&(m=m._next,T=m._elements,a=0,T.length===0));)i(T[a]),++a}peek(){let i=this._front,a=this._cursor;return i._elements[a]}}function h(r,i){r._ownerReadableStream=i,i._reader=r,i._state==="readable"?B(r):i._state==="closed"?K(r):k(r,i._storedError)}function v(r,i){let a=r._ownerReadableStream;return Ee(a,i)}function N(r){r._ownerReadableStream._state==="readable"?j(r,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):q(r,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),r._ownerReadableStream._reader=void 0,r._ownerReadableStream=void 0}function L(r){return new TypeError("Cannot "+r+" a stream using a released reader")}function B(r){r._closedPromise=g((i,a)=>{r._closedPromise_resolve=i,r._closedPromise_reject=a})}function k(r,i){B(r),j(r,i)}function K(r){B(r),Z(r)}function j(r,i){r._closedPromise_reject!==void 0&&(y(r._closedPromise),r._closedPromise_reject(i),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0)}function q(r,i){k(r,i)}function Z(r){r._closedPromise_resolve!==void 0&&(r._closedPromise_resolve(void 0),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0)}let nt=e("[[AbortSteps]]"),it=e("[[ErrorSteps]]"),Ue=e("[[CancelSteps]]"),st=e("[[PullSteps]]"),St=Number.isFinite||function(r){return typeof r=="number"&&isFinite(r)},ze=Math.trunc||function(r){return r<0?Math.ceil(r):Math.floor(r)};function _t(r){return typeof r=="object"||typeof r=="function"}function Le(r,i){if(r!==void 0&&!_t(r))throw new TypeError(`${i} is not an object.`)}function _e(r,i){if(typeof r!="function")throw new TypeError(`${i} is not a function.`)}function al(r){return typeof r=="object"&&r!==null||typeof r=="function"}function Ki(r,i){if(!al(r))throw new TypeError(`${i} is not an object.`)}function Me(r,i,a){if(r===void 0)throw new TypeError(`Parameter ${i} is required in '${a}'.`)}function Wn(r,i,a){if(r===void 0)throw new TypeError(`${i} is required in '${a}'.`)}function Un(r){return Number(r)}function Zi(r){return r===0?0:r}function ul(r){return Zi(ze(r))}function Ji(r,i){let m=Number.MAX_SAFE_INTEGER,T=Number(r);if(T=Zi(T),!St(T))throw new TypeError(`${i} is not a finite number`);if(T=ul(T),T<0||T>m)throw new TypeError(`${i} is outside the accepted range of 0 to ${m}, inclusive`);return!St(T)||T===0?0:T}function zn(r,i){if(!Ye(r))throw new TypeError(`${i} is not a ReadableStream.`)}function Tt(r){return new Vt(r)}function es(r,i){r._reader._readRequests.push(i)}function Xn(r,i,a){let T=r._reader._readRequests.shift();a?T._closeSteps():T._chunkSteps(i)}function Cr(r){return r._reader._readRequests.length}function ts(r){let i=r._reader;return!(i===void 0||!Xe(i))}class Vt{constructor(i){if(Me(i,1,"ReadableStreamDefaultReader"),zn(i,"First parameter"),Qe(i))throw new TypeError("This stream has already been locked for exclusive reading by another reader");h(this,i),this._readRequests=new C}get closed(){return Xe(this)?this._closedPromise:_(Nr("closed"))}cancel(i=void 0){return Xe(this)?this._ownerReadableStream===void 0?_(L("cancel")):v(this,i):_(Nr("cancel"))}read(){if(!Xe(this))return _(Nr("read"));if(this._ownerReadableStream===void 0)return _(L("read from"));let i,a,m=g((A,O)=>{i=A,a=O});return Ht(this,{_chunkSteps:A=>i({value:A,done:!1}),_closeSteps:()=>i({value:void 0,done:!0}),_errorSteps:A=>a(A)}),m}releaseLock(){if(!Xe(this))throw Nr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");N(this)}}}Object.defineProperties(Vt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Vt.prototype,e.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Xe(r){return!u(r)||!Object.prototype.hasOwnProperty.call(r,"_readRequests")?!1:r instanceof Vt}function Ht(r,i){let a=r._ownerReadableStream;a._disturbed=!0,a._state==="closed"?i._closeSteps():a._state==="errored"?i._errorSteps(a._storedError):a._readableStreamController[st](i)}function Nr(r){return new TypeError(`ReadableStreamDefaultReader.prototype.${r} can only be used on a ReadableStreamDefaultReader`)}let rs=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class ns{constructor(i,a){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=i,this._preventCancel=a}next(){let i=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?z(this._ongoingPromise,i,i):i(),this._ongoingPromise}return(i){let a=()=>this._returnSteps(i);return this._ongoingPromise?z(this._ongoingPromise,a,a):a()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let i=this._reader;if(i._ownerReadableStream===void 0)return _(L("iterate"));let a,m,T=g((O,F)=>{a=O,m=F});return Ht(i,{_chunkSteps:O=>{this._ongoingPromise=void 0,d(()=>a({value:O,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,N(i),a({value:void 0,done:!0})},_errorSteps:O=>{this._ongoingPromise=void 0,this._isFinished=!0,N(i),m(O)}}),T}_returnSteps(i){if(this._isFinished)return Promise.resolve({value:i,done:!0});this._isFinished=!0;let a=this._reader;if(a._ownerReadableStream===void 0)return _(L("finish iterating"));if(!this._preventCancel){let m=v(a,i);return N(a),z(m,()=>({value:i,done:!0}))}return N(a),w({value:i,done:!0})}}let is={next(){return ss(this)?this._asyncIteratorImpl.next():_(os("next"))},return(r){return ss(this)?this._asyncIteratorImpl.return(r):_(os("return"))}};rs!==void 0&&Object.setPrototypeOf(is,rs);function ll(r,i){let a=Tt(r),m=new ns(a,i),T=Object.create(is);return T._asyncIteratorImpl=m,T}function ss(r){if(!u(r)||!Object.prototype.hasOwnProperty.call(r,"_asyncIteratorImpl"))return!1;try{return r._asyncIteratorImpl instanceof ns}catch{return!1}}function os(r){return new TypeError(`ReadableStreamAsyncIterator.${r} can only be used on a ReadableSteamAsyncIterator`)}let as=Number.isNaN||function(r){return r!==r};function Yt(r){return r.slice()}function us(r,i,a,m,T){new Uint8Array(r).set(new Uint8Array(a,m,T),i)}function $f(r){return r}function Ar(r){return!1}function ls(r,i,a){if(r.slice)return r.slice(i,a);let m=a-i,T=new ArrayBuffer(m);return us(T,0,r,i,m),T}function cl(r){return!(typeof r!="number"||as(r)||r<0)}function cs(r){let i=ls(r.buffer,r.byteOffset,r.byteOffset+r.byteLength);return new Uint8Array(i)}function $n(r){let i=r._queue.shift();return r._queueTotalSize-=i.size,r._queueTotalSize<0&&(r._queueTotalSize=0),i.value}function Vn(r,i,a){if(!cl(a)||a===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");r._queue.push({value:i,size:a}),r._queueTotalSize+=a}function fl(r){return r._queue.peek().value}function $e(r){r._queue=new C,r._queueTotalSize=0}class Qt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Hn(this))throw Kn("view");return this._view}respond(i){if(!Hn(this))throw Kn("respond");if(Me(i,1,"respond"),i=Ji(i,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Ar(this._view.buffer),Mr(this._associatedReadableByteStreamController,i)}respondWithNewView(i){if(!Hn(this))throw Kn("respondWithNewView");if(Me(i,1,"respondWithNewView"),!ArrayBuffer.isView(i))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Ar(i.buffer),Fr(this._associatedReadableByteStreamController,i)}}Object.defineProperties(Qt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Qt.prototype,e.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Et{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ot(this))throw Kt("byobRequest");return Gn(this)}get desiredSize(){if(!ot(this))throw Kt("desiredSize");return gs(this)}close(){if(!ot(this))throw Kt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let i=this._controlledReadableByteStream._state;if(i!=="readable")throw new TypeError(`The stream (in ${i} state) is not in the readable state and cannot be closed`);Gt(this)}enqueue(i){if(!ot(this))throw Kt("enqueue");if(Me(i,1,"enqueue"),!ArrayBuffer.isView(i))throw new TypeError("chunk must be an array buffer view");if(i.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(i.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let a=this._controlledReadableByteStream._state;if(a!=="readable")throw new TypeError(`The stream (in ${a} state) is not in the readable state and cannot be enqueued to`);Lr(this,i)}error(i=void 0){if(!ot(this))throw Kt("error");Te(this,i)}[Ue](i){fs(this),$e(this);let a=this._cancelAlgorithm(i);return Pr(this),a}[st](i){let a=this._controlledReadableByteStream;if(this._queueTotalSize>0){let T=this._queue.shift();this._queueTotalSize-=T.byteLength,ms(this);let A=new Uint8Array(T.buffer,T.byteOffset,T.byteLength);i._chunkSteps(A);return}let m=this._autoAllocateChunkSize;if(m!==void 0){let T;try{T=new ArrayBuffer(m)}catch(O){i._errorSteps(O);return}let A={buffer:T,bufferByteLength:m,byteOffset:0,byteLength:m,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(A)}es(a,i),at(this)}}Object.defineProperties(Et.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,e.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function ot(r){return!u(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledReadableByteStream")?!1:r instanceof Et}function Hn(r){return!u(r)||!Object.prototype.hasOwnProperty.call(r,"_associatedReadableByteStreamController")?!1:r instanceof Qt}function at(r){if(!ml(r))return;if(r._pulling){r._pullAgain=!0;return}r._pulling=!0;let a=r._pullAlgorithm();P(a,()=>{r._pulling=!1,r._pullAgain&&(r._pullAgain=!1,at(r))},m=>{Te(r,m)})}function fs(r){Qn(r),r._pendingPullIntos=new C}function Yn(r,i){let a=!1;r._state==="closed"&&(a=!0);let m=hs(i);i.readerType==="default"?Xn(r,m,a):gl(r,m,a)}function hs(r){let i=r.bytesFilled,a=r.elementSize;return new r.viewConstructor(r.buffer,r.byteOffset,i/a)}function Or(r,i,a,m){r._queue.push({buffer:i,byteOffset:a,byteLength:m}),r._queueTotalSize+=m}function ds(r,i){let a=i.elementSize,m=i.bytesFilled-i.bytesFilled%a,T=Math.min(r._queueTotalSize,i.byteLength-i.bytesFilled),A=i.bytesFilled+T,O=A-A%a,F=T,U=!1;O>m&&(F=O-i.bytesFilled,U=!0);let $=r._queue;for(;F>0;){let V=$.peek(),H=Math.min(F,V.byteLength),ee=i.byteOffset+i.bytesFilled;us(i.buffer,ee,V.buffer,V.byteOffset,H),V.byteLength===H?$.shift():(V.byteOffset+=H,V.byteLength-=H),r._queueTotalSize-=H,ps(r,H,i),F-=H}return U}function ps(r,i,a){a.bytesFilled+=i}function ms(r){r._queueTotalSize===0&&r._closeRequested?(Pr(r),sr(r._controlledReadableByteStream)):at(r)}function Qn(r){r._byobRequest!==null&&(r._byobRequest._associatedReadableByteStreamController=void 0,r._byobRequest._view=null,r._byobRequest=null)}function ys(r){for(;r._pendingPullIntos.length>0;){if(r._queueTotalSize===0)return;let i=r._pendingPullIntos.peek();ds(r,i)&&(Ir(r),Yn(r._controlledReadableByteStream,i))}}function hl(r,i,a){let m=r._controlledReadableByteStream,T=1;i.constructor!==DataView&&(T=i.constructor.BYTES_PER_ELEMENT);let A=i.constructor,O=i.buffer,F={buffer:O,bufferByteLength:O.byteLength,byteOffset:i.byteOffset,byteLength:i.byteLength,bytesFilled:0,elementSize:T,viewConstructor:A,readerType:"byob"};if(r._pendingPullIntos.length>0){r._pendingPullIntos.push(F),_s(m,a);return}if(m._state==="closed"){let U=new A(F.buffer,F.byteOffset,0);a._closeSteps(U);return}if(r._queueTotalSize>0){if(ds(r,F)){let U=hs(F);ms(r),a._chunkSteps(U);return}if(r._closeRequested){let U=new TypeError("Insufficient bytes to fill elements in the given buffer");Te(r,U),a._errorSteps(U);return}}r._pendingPullIntos.push(F),_s(m,a),at(r)}function dl(r,i){let a=r._controlledReadableByteStream;if(Zn(a))for(;Ts(a)>0;){let m=Ir(r);Yn(a,m)}}function pl(r,i,a){if(ps(r,i,a),a.bytesFilled<a.elementSize)return;Ir(r);let m=a.bytesFilled%a.elementSize;if(m>0){let T=a.byteOffset+a.bytesFilled,A=ls(a.buffer,T-m,T);Or(r,A,0,A.byteLength)}a.bytesFilled-=m,Yn(r._controlledReadableByteStream,a),ys(r)}function bs(r,i){let a=r._pendingPullIntos.peek();Qn(r),r._controlledReadableByteStream._state==="closed"?dl(r):pl(r,i,a),at(r)}function Ir(r){return r._pendingPullIntos.shift()}function ml(r){let i=r._controlledReadableByteStream;return i._state!=="readable"||r._closeRequested||!r._started?!1:!!(ts(i)&&Cr(i)>0||Zn(i)&&Ts(i)>0||gs(r)>0)}function Pr(r){r._pullAlgorithm=void 0,r._cancelAlgorithm=void 0}function Gt(r){let i=r._controlledReadableByteStream;if(!(r._closeRequested||i._state!=="readable")){if(r._queueTotalSize>0){r._closeRequested=!0;return}if(r._pendingPullIntos.length>0&&r._pendingPullIntos.peek().bytesFilled>0){let m=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Te(r,m),m}Pr(r),sr(i)}}function Lr(r,i){let a=r._controlledReadableByteStream;if(r._closeRequested||a._state!=="readable")return;let m=i.buffer,T=i.byteOffset,A=i.byteLength,O=m;if(r._pendingPullIntos.length>0){let F=r._pendingPullIntos.peek();Ar(F.buffer),F.buffer=F.buffer}if(Qn(r),ts(a))if(Cr(a)===0)Or(r,O,T,A);else{r._pendingPullIntos.length>0&&Ir(r);let F=new Uint8Array(O,T,A);Xn(a,F,!1)}else Zn(a)?(Or(r,O,T,A),ys(r)):Or(r,O,T,A);at(r)}function Te(r,i){let a=r._controlledReadableByteStream;a._state==="readable"&&(fs(r),$e(r),Pr(r),Vs(a,i))}function Gn(r){if(r._byobRequest===null&&r._pendingPullIntos.length>0){let i=r._pendingPullIntos.peek(),a=new Uint8Array(i.buffer,i.byteOffset+i.bytesFilled,i.byteLength-i.bytesFilled),m=Object.create(Qt.prototype);bl(m,r,a),r._byobRequest=m}return r._byobRequest}function gs(r){let i=r._controlledReadableByteStream._state;return i==="errored"?null:i==="closed"?0:r._strategyHWM-r._queueTotalSize}function Mr(r,i){let a=r._pendingPullIntos.peek();if(r._controlledReadableByteStream._state==="closed"){if(i!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(i===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(a.bytesFilled+i>a.byteLength)throw new RangeError("bytesWritten out of range")}a.buffer=a.buffer,bs(r,i)}function Fr(r,i){let a=r._pendingPullIntos.peek();if(r._controlledReadableByteStream._state==="closed"){if(i.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(i.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(a.byteOffset+a.bytesFilled!==i.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.bufferByteLength!==i.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(a.bytesFilled+i.byteLength>a.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let T=i.byteLength;a.buffer=i.buffer,bs(r,T)}function ws(r,i,a,m,T,A,O){i._controlledReadableByteStream=r,i._pullAgain=!1,i._pulling=!1,i._byobRequest=null,i._queue=i._queueTotalSize=void 0,$e(i),i._closeRequested=!1,i._started=!1,i._strategyHWM=A,i._pullAlgorithm=m,i._cancelAlgorithm=T,i._autoAllocateChunkSize=O,i._pendingPullIntos=new C,r._readableStreamController=i;let F=a();P(w(F),()=>{i._started=!0,at(i)},U=>{Te(i,U)})}function yl(r,i,a){let m=Object.create(Et.prototype),T=()=>{},A=()=>w(void 0),O=()=>w(void 0);i.start!==void 0&&(T=()=>i.start(m)),i.pull!==void 0&&(A=()=>i.pull(m)),i.cancel!==void 0&&(O=U=>i.cancel(U));let F=i.autoAllocateChunkSize;if(F===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");ws(r,m,T,A,O,a,F)}function bl(r,i,a){r._associatedReadableByteStreamController=i,r._view=a}function Kn(r){return new TypeError(`ReadableStreamBYOBRequest.prototype.${r} can only be used on a ReadableStreamBYOBRequest`)}function Kt(r){return new TypeError(`ReadableByteStreamController.prototype.${r} can only be used on a ReadableByteStreamController`)}function Ss(r){return new Zt(r)}function _s(r,i){r._reader._readIntoRequests.push(i)}function gl(r,i,a){let T=r._reader._readIntoRequests.shift();a?T._closeSteps(i):T._chunkSteps(i)}function Ts(r){return r._reader._readIntoRequests.length}function Zn(r){let i=r._reader;return!(i===void 0||!ut(i))}class Zt{constructor(i){if(Me(i,1,"ReadableStreamBYOBReader"),zn(i,"First parameter"),Qe(i))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ot(i._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");h(this,i),this._readIntoRequests=new C}get closed(){return ut(this)?this._closedPromise:_(xr("closed"))}cancel(i=void 0){return ut(this)?this._ownerReadableStream===void 0?_(L("cancel")):v(this,i):_(xr("cancel"))}read(i){if(!ut(this))return _(xr("read"));if(!ArrayBuffer.isView(i))return _(new TypeError("view must be an array buffer view"));if(i.byteLength===0)return _(new TypeError("view must have non-zero byteLength"));if(i.buffer.byteLength===0)return _(new TypeError("view's buffer must have non-zero byteLength"));if(Ar(i.buffer),this._ownerReadableStream===void 0)return _(L("read from"));let a,m,T=g((O,F)=>{a=O,m=F});return Es(this,i,{_chunkSteps:O=>a({value:O,done:!1}),_closeSteps:O=>a({value:O,done:!0}),_errorSteps:O=>m(O)}),T}releaseLock(){if(!ut(this))throw xr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");N(this)}}}Object.defineProperties(Zt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Zt.prototype,e.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function ut(r){return!u(r)||!Object.prototype.hasOwnProperty.call(r,"_readIntoRequests")?!1:r instanceof Zt}function Es(r,i,a){let m=r._ownerReadableStream;m._disturbed=!0,m._state==="errored"?a._errorSteps(m._storedError):hl(m._readableStreamController,i,a)}function xr(r){return new TypeError(`ReadableStreamBYOBReader.prototype.${r} can only be used on a ReadableStreamBYOBReader`)}function Jt(r,i){let{highWaterMark:a}=r;if(a===void 0)return i;if(as(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function qr(r){let{size:i}=r;return i||(()=>1)}function Br(r,i){Le(r,i);let a=r?.highWaterMark,m=r?.size;return{highWaterMark:a===void 0?void 0:Un(a),size:m===void 0?void 0:wl(m,`${i} has member 'size' that`)}}function wl(r,i){return _e(r,i),a=>Un(r(a))}function Sl(r,i){Le(r,i);let a=r?.abort,m=r?.close,T=r?.start,A=r?.type,O=r?.write;return{abort:a===void 0?void 0:_l(a,r,`${i} has member 'abort' that`),close:m===void 0?void 0:Tl(m,r,`${i} has member 'close' that`),start:T===void 0?void 0:El(T,r,`${i} has member 'start' that`),write:O===void 0?void 0:Dl(O,r,`${i} has member 'write' that`),type:A}}function _l(r,i,a){return _e(r,a),m=>c(r,i,[m])}function Tl(r,i,a){return _e(r,a),()=>c(r,i,[])}function El(r,i,a){return _e(r,a),m=>R(r,i,[m])}function Dl(r,i,a){return _e(r,a),(m,T)=>c(r,i,[m,T])}function Ds(r,i){if(!Dt(r))throw new TypeError(`${i} is not a WritableStream.`)}function vl(r){if(typeof r!="object"||r===null)return!1;try{return typeof r.aborted=="boolean"}catch{return!1}}let Rl=typeof AbortController=="function";function Cl(){if(Rl)return new AbortController}class er{constructor(i={},a={}){i===void 0?i=null:Ki(i,"First parameter");let m=Br(a,"Second parameter"),T=Sl(i,"First parameter");if(Rs(this),T.type!==void 0)throw new RangeError("Invalid type is specified");let O=qr(m),F=Jt(m,1);Wl(this,T,F,O)}get locked(){if(!Dt(this))throw zr("locked");return vt(this)}abort(i=void 0){return Dt(this)?vt(this)?_(new TypeError("Cannot abort a stream that already has a writer")):kr(this,i):_(zr("abort"))}close(){return Dt(this)?vt(this)?_(new TypeError("Cannot close a stream that already has a writer")):Ne(this)?_(new TypeError("Cannot close an already-closing stream")):Cs(this):_(zr("close"))}getWriter(){if(!Dt(this))throw zr("getWriter");return vs(this)}}Object.defineProperties(er.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(er.prototype,e.toStringTag,{value:"WritableStream",configurable:!0});function vs(r){return new tr(r)}function Nl(r,i,a,m,T=1,A=()=>1){let O=Object.create(er.prototype);Rs(O);let F=Object.create(Rt.prototype);return Ls(O,F,r,i,a,m,T,A),O}function Rs(r){r._state="writable",r._storedError=void 0,r._writer=void 0,r._writableStreamController=void 0,r._writeRequests=new C,r._inFlightWriteRequest=void 0,r._closeRequest=void 0,r._inFlightCloseRequest=void 0,r._pendingAbortRequest=void 0,r._backpressure=!1}function Dt(r){return!u(r)||!Object.prototype.hasOwnProperty.call(r,"_writableStreamController")?!1:r instanceof er}function vt(r){return r._writer!==void 0}function kr(r,i){var a;if(r._state==="closed"||r._state==="errored")return w(void 0);r._writableStreamController._abortReason=i,(a=r._writableStreamController._abortController)===null||a===void 0||a.abort();let m=r._state;if(m==="closed"||m==="errored")return w(void 0);if(r._pendingAbortRequest!==void 0)return r._pendingAbortRequest._promise;let T=!1;m==="erroring"&&(T=!0,i=void 0);let A=g((O,F)=>{r._pendingAbortRequest={_promise:void 0,_resolve:O,_reject:F,_reason:i,_wasAlreadyErroring:T}});return r._pendingAbortRequest._promise=A,T||ei(r,i),A}function Cs(r){let i=r._state;if(i==="closed"||i==="errored")return _(new TypeError(`The stream (in ${i} state) is not in the writable state and cannot be closed`));let a=g((T,A)=>{let O={_resolve:T,_reject:A};r._closeRequest=O}),m=r._writer;return m!==void 0&&r._backpressure&&i==="writable"&&li(m),Ul(r._writableStreamController),a}function Al(r){return g((a,m)=>{let T={_resolve:a,_reject:m};r._writeRequests.push(T)})}function Jn(r,i){if(r._state==="writable"){ei(r,i);return}ti(r)}function ei(r,i){let a=r._writableStreamController;r._state="erroring",r._storedError=i;let m=r._writer;m!==void 0&&As(m,i),!Ml(r)&&a._started&&ti(r)}function ti(r){r._state="errored",r._writableStreamController[it]();let i=r._storedError;if(r._writeRequests.forEach(T=>{T._reject(i)}),r._writeRequests=new C,r._pendingAbortRequest===void 0){jr(r);return}let a=r._pendingAbortRequest;if(r._pendingAbortRequest=void 0,a._wasAlreadyErroring){a._reject(i),jr(r);return}let m=r._writableStreamController[nt](a._reason);P(m,()=>{a._resolve(),jr(r)},T=>{a._reject(T),jr(r)})}function Ol(r){r._inFlightWriteRequest._resolve(void 0),r._inFlightWriteRequest=void 0}function Il(r,i){r._inFlightWriteRequest._reject(i),r._inFlightWriteRequest=void 0,Jn(r,i)}function Pl(r){r._inFlightCloseRequest._resolve(void 0),r._inFlightCloseRequest=void 0,r._state==="erroring"&&(r._storedError=void 0,r._pendingAbortRequest!==void 0&&(r._pendingAbortRequest._resolve(),r._pendingAbortRequest=void 0)),r._state="closed";let a=r._writer;a!==void 0&&qs(a)}function Ll(r,i){r._inFlightCloseRequest._reject(i),r._inFlightCloseRequest=void 0,r._pendingAbortRequest!==void 0&&(r._pendingAbortRequest._reject(i),r._pendingAbortRequest=void 0),Jn(r,i)}function Ne(r){return!(r._closeRequest===void 0&&r._inFlightCloseRequest===void 0)}function Ml(r){return!(r._inFlightWriteRequest===void 0&&r._inFlightCloseRequest===void 0)}function Fl(r){r._inFlightCloseRequest=r._closeRequest,r._closeRequest=void 0}function xl(r){r._inFlightWriteRequest=r._writeRequests.shift()}function jr(r){r._closeRequest!==void 0&&(r._closeRequest._reject(r._storedError),r._closeRequest=void 0);let i=r._writer;i!==void 0&&ai(i,r._storedError)}function ri(r,i){let a=r._writer;a!==void 0&&i!==r._backpressure&&(i?Ql(a):li(a)),r._backpressure=i}class tr{constructor(i){if(Me(i,1,"WritableStreamDefaultWriter"),Ds(i,"First parameter"),vt(i))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=i,i._writer=this;let a=i._state;if(a==="writable")!Ne(i)&&i._backpressure?$r(this):Bs(this),Xr(this);else if(a==="erroring")ui(this,i._storedError),Xr(this);else if(a==="closed")Bs(this),Hl(this);else{let m=i._storedError;ui(this,m),xs(this,m)}}get closed(){return lt(this)?this._closedPromise:_(ct("closed"))}get desiredSize(){if(!lt(this))throw ct("desiredSize");if(this._ownerWritableStream===void 0)throw rr("desiredSize");return jl(this)}get ready(){return lt(this)?this._readyPromise:_(ct("ready"))}abort(i=void 0){return lt(this)?this._ownerWritableStream===void 0?_(rr("abort")):ql(this,i):_(ct("abort"))}close(){if(!lt(this))return _(ct("close"));let i=this._ownerWritableStream;return i===void 0?_(rr("close")):Ne(i)?_(new TypeError("Cannot close an already-closing stream")):Ns(this)}releaseLock(){if(!lt(this))throw ct("releaseLock");this._ownerWritableStream!==void 0&&Os(this)}write(i=void 0){return lt(this)?this._ownerWritableStream===void 0?_(rr("write to")):Is(this,i):_(ct("write"))}}Object.defineProperties(tr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(tr.prototype,e.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function lt(r){return!u(r)||!Object.prototype.hasOwnProperty.call(r,"_ownerWritableStream")?!1:r instanceof tr}function ql(r,i){let a=r._ownerWritableStream;return kr(a,i)}function Ns(r){let i=r._ownerWritableStream;return Cs(i)}function Bl(r){let i=r._ownerWritableStream,a=i._state;return Ne(i)||a==="closed"?w(void 0):a==="errored"?_(i._storedError):Ns(r)}function kl(r,i){r._closedPromiseState==="pending"?ai(r,i):Yl(r,i)}function As(r,i){r._readyPromiseState==="pending"?ks(r,i):Gl(r,i)}function jl(r){let i=r._ownerWritableStream,a=i._state;return a==="errored"||a==="erroring"?null:a==="closed"?0:Ms(i._writableStreamController)}function Os(r){let i=r._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");As(r,a),kl(r,a),i._writer=void 0,r._ownerWritableStream=void 0}function Is(r,i){let a=r._ownerWritableStream,m=a._writableStreamController,T=zl(m,i);if(a!==r._ownerWritableStream)return _(rr("write to"));let A=a._state;if(A==="errored")return _(a._storedError);if(Ne(a)||A==="closed")return _(new TypeError("The stream is closing or closed and cannot be written to"));if(A==="erroring")return _(a._storedError);let O=Al(a);return Xl(m,i,T),O}let Ps={};class Rt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!ni(this))throw oi("abortReason");return this._abortReason}get signal(){if(!ni(this))throw oi("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(i=void 0){if(!ni(this))throw oi("error");this._controlledWritableStream._state==="writable"&&Fs(this,i)}[nt](i){let a=this._abortAlgorithm(i);return Wr(this),a}[it](){$e(this)}}Object.defineProperties(Rt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Rt.prototype,e.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function ni(r){return!u(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledWritableStream")?!1:r instanceof Rt}function Ls(r,i,a,m,T,A,O,F){i._controlledWritableStream=r,r._writableStreamController=i,i._queue=void 0,i._queueTotalSize=void 0,$e(i),i._abortReason=void 0,i._abortController=Cl(),i._started=!1,i._strategySizeAlgorithm=F,i._strategyHWM=O,i._writeAlgorithm=m,i._closeAlgorithm=T,i._abortAlgorithm=A;let U=si(i);ri(r,U);let $=a(),V=w($);P(V,()=>{i._started=!0,Ur(i)},H=>{i._started=!0,Jn(r,H)})}function Wl(r,i,a,m){let T=Object.create(Rt.prototype),A=()=>{},O=()=>w(void 0),F=()=>w(void 0),U=()=>w(void 0);i.start!==void 0&&(A=()=>i.start(T)),i.write!==void 0&&(O=$=>i.write($,T)),i.close!==void 0&&(F=()=>i.close()),i.abort!==void 0&&(U=$=>i.abort($)),Ls(r,T,A,O,F,U,a,m)}function Wr(r){r._writeAlgorithm=void 0,r._closeAlgorithm=void 0,r._abortAlgorithm=void 0,r._strategySizeAlgorithm=void 0}function Ul(r){Vn(r,Ps,0),Ur(r)}function zl(r,i){try{return r._strategySizeAlgorithm(i)}catch(a){return ii(r,a),1}}function Ms(r){return r._strategyHWM-r._queueTotalSize}function Xl(r,i,a){try{Vn(r,i,a)}catch(T){ii(r,T);return}let m=r._controlledWritableStream;if(!Ne(m)&&m._state==="writable"){let T=si(r);ri(m,T)}Ur(r)}function Ur(r){let i=r._controlledWritableStream;if(!r._started||i._inFlightWriteRequest!==void 0)return;if(i._state==="erroring"){ti(i);return}if(r._queue.length===0)return;let m=fl(r);m===Ps?$l(r):Vl(r,m)}function ii(r,i){r._controlledWritableStream._state==="writable"&&Fs(r,i)}function $l(r){let i=r._controlledWritableStream;Fl(i),$n(r);let a=r._closeAlgorithm();Wr(r),P(a,()=>{Pl(i)},m=>{Ll(i,m)})}function Vl(r,i){let a=r._controlledWritableStream;xl(a);let m=r._writeAlgorithm(i);P(m,()=>{Ol(a);let T=a._state;if($n(r),!Ne(a)&&T==="writable"){let A=si(r);ri(a,A)}Ur(r)},T=>{a._state==="writable"&&Wr(r),Il(a,T)})}function si(r){return Ms(r)<=0}function Fs(r,i){let a=r._controlledWritableStream;Wr(r),ei(a,i)}function zr(r){return new TypeError(`WritableStream.prototype.${r} can only be used on a WritableStream`)}function oi(r){return new TypeError(`WritableStreamDefaultController.prototype.${r} can only be used on a WritableStreamDefaultController`)}function ct(r){return new TypeError(`WritableStreamDefaultWriter.prototype.${r} can only be used on a WritableStreamDefaultWriter`)}function rr(r){return new TypeError("Cannot "+r+" a stream using a released writer")}function Xr(r){r._closedPromise=g((i,a)=>{r._closedPromise_resolve=i,r._closedPromise_reject=a,r._closedPromiseState="pending"})}function xs(r,i){Xr(r),ai(r,i)}function Hl(r){Xr(r),qs(r)}function ai(r,i){r._closedPromise_reject!==void 0&&(y(r._closedPromise),r._closedPromise_reject(i),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0,r._closedPromiseState="rejected")}function Yl(r,i){xs(r,i)}function qs(r){r._closedPromise_resolve!==void 0&&(r._closedPromise_resolve(void 0),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0,r._closedPromiseState="resolved")}function $r(r){r._readyPromise=g((i,a)=>{r._readyPromise_resolve=i,r._readyPromise_reject=a}),r._readyPromiseState="pending"}function ui(r,i){$r(r),ks(r,i)}function Bs(r){$r(r),li(r)}function ks(r,i){r._readyPromise_reject!==void 0&&(y(r._readyPromise),r._readyPromise_reject(i),r._readyPromise_resolve=void 0,r._readyPromise_reject=void 0,r._readyPromiseState="rejected")}function Ql(r){$r(r)}function Gl(r,i){ui(r,i)}function li(r){r._readyPromise_resolve!==void 0&&(r._readyPromise_resolve(void 0),r._readyPromise_resolve=void 0,r._readyPromise_reject=void 0,r._readyPromiseState="fulfilled")}let js=typeof DOMException<"u"?DOMException:void 0;function Kl(r){if(!(typeof r=="function"||typeof r=="object"))return!1;try{return new r,!0}catch{return!1}}function Zl(){let r=function(a,m){this.message=a||"",this.name=m||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return r.prototype=Object.create(Error.prototype),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,configurable:!0}),r}let Jl=Kl(js)?js:Zl();function Ws(r,i,a,m,T,A){let O=Tt(r),F=vs(i);r._disturbed=!0;let U=!1,$=w(void 0);return g((V,H)=>{let ee;if(A!==void 0){if(ee=()=>{let x=new Jl("Aborted","AbortError"),X=[];m||X.push(()=>i._state==="writable"?kr(i,x):w(void 0)),T||X.push(()=>r._state==="readable"?Ee(r,x):w(void 0)),ae(()=>Promise.all(X.map(Y=>Y())),!0,x)},A.aborted){ee();return}A.addEventListener("abort",ee)}function De(){return g((x,X)=>{function Y(he){he?x():E(At(),Y,X)}Y(!1)})}function At(){return U?w(!0):E(F._readyPromise,()=>g((x,X)=>{Ht(O,{_chunkSteps:Y=>{$=E(Is(F,Y),void 0,n),x(!1)},_closeSteps:()=>x(!0),_errorSteps:X})}))}if(Fe(r,O._closedPromise,x=>{m?be(!0,x):ae(()=>kr(i,x),!0,x)}),Fe(i,F._closedPromise,x=>{T?be(!0,x):ae(()=>Ee(r,x),!0,x)}),oe(r,O._closedPromise,()=>{a?be():ae(()=>Bl(F))}),Ne(i)||i._state==="closed"){let x=new TypeError("the destination writable stream closed before all data could be piped to it");T?be(!0,x):ae(()=>Ee(r,x),!0,x)}y(De());function Ge(){let x=$;return E($,()=>x!==$?Ge():void 0)}function Fe(x,X,Y){x._state==="errored"?Y(x._storedError):M(X,Y)}function oe(x,X,Y){x._state==="closed"?Y():I(X,Y)}function ae(x,X,Y){if(U)return;U=!0,i._state==="writable"&&!Ne(i)?I(Ge(),he):he();function he(){P(x(),()=>xe(X,Y),Ot=>xe(!0,Ot))}}function be(x,X){U||(U=!0,i._state==="writable"&&!Ne(i)?I(Ge(),()=>xe(x,X)):xe(x,X))}function xe(x,X){Os(F),N(O),A!==void 0&&A.removeEventListener("abort",ee),x?H(X):V(void 0)}})}class Ct{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Vr(this))throw Qr("desiredSize");return ci(this)}close(){if(!Vr(this))throw Qr("close");if(!Nt(this))throw new TypeError("The stream is not in a state that permits close");ir(this)}enqueue(i=void 0){if(!Vr(this))throw Qr("enqueue");if(!Nt(this))throw new TypeError("The stream is not in a state that permits enqueue");return Yr(this,i)}error(i=void 0){if(!Vr(this))throw Qr("error");Ve(this,i)}[Ue](i){$e(this);let a=this._cancelAlgorithm(i);return Hr(this),a}[st](i){let a=this._controlledReadableStream;if(this._queue.length>0){let m=$n(this);this._closeRequested&&this._queue.length===0?(Hr(this),sr(a)):nr(this),i._chunkSteps(m)}else es(a,i),nr(this)}}Object.defineProperties(Ct.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Ct.prototype,e.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Vr(r){return!u(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledReadableStream")?!1:r instanceof Ct}function nr(r){if(!Us(r))return;if(r._pulling){r._pullAgain=!0;return}r._pulling=!0;let a=r._pullAlgorithm();P(a,()=>{r._pulling=!1,r._pullAgain&&(r._pullAgain=!1,nr(r))},m=>{Ve(r,m)})}function Us(r){let i=r._controlledReadableStream;return!Nt(r)||!r._started?!1:!!(Qe(i)&&Cr(i)>0||ci(r)>0)}function Hr(r){r._pullAlgorithm=void 0,r._cancelAlgorithm=void 0,r._strategySizeAlgorithm=void 0}function ir(r){if(!Nt(r))return;let i=r._controlledReadableStream;r._closeRequested=!0,r._queue.length===0&&(Hr(r),sr(i))}function Yr(r,i){if(!Nt(r))return;let a=r._controlledReadableStream;if(Qe(a)&&Cr(a)>0)Xn(a,i,!1);else{let m;try{m=r._strategySizeAlgorithm(i)}catch(T){throw Ve(r,T),T}try{Vn(r,i,m)}catch(T){throw Ve(r,T),T}}nr(r)}function Ve(r,i){let a=r._controlledReadableStream;a._state==="readable"&&($e(r),Hr(r),Vs(a,i))}function ci(r){let i=r._controlledReadableStream._state;return i==="errored"?null:i==="closed"?0:r._strategyHWM-r._queueTotalSize}function ec(r){return!Us(r)}function Nt(r){let i=r._controlledReadableStream._state;return!r._closeRequested&&i==="readable"}function zs(r,i,a,m,T,A,O){i._controlledReadableStream=r,i._queue=void 0,i._queueTotalSize=void 0,$e(i),i._started=!1,i._closeRequested=!1,i._pullAgain=!1,i._pulling=!1,i._strategySizeAlgorithm=O,i._strategyHWM=A,i._pullAlgorithm=m,i._cancelAlgorithm=T,r._readableStreamController=i;let F=a();P(w(F),()=>{i._started=!0,nr(i)},U=>{Ve(i,U)})}function tc(r,i,a,m){let T=Object.create(Ct.prototype),A=()=>{},O=()=>w(void 0),F=()=>w(void 0);i.start!==void 0&&(A=()=>i.start(T)),i.pull!==void 0&&(O=()=>i.pull(T)),i.cancel!==void 0&&(F=U=>i.cancel(U)),zs(r,T,A,O,F,a,m)}function Qr(r){return new TypeError(`ReadableStreamDefaultController.prototype.${r} can only be used on a ReadableStreamDefaultController`)}function rc(r,i){return ot(r._readableStreamController)?ic(r):nc(r)}function nc(r,i){let a=Tt(r),m=!1,T=!1,A=!1,O=!1,F,U,$,V,H,ee=g(oe=>{H=oe});function De(){return m?(T=!0,w(void 0)):(m=!0,Ht(a,{_chunkSteps:ae=>{d(()=>{T=!1;let be=ae,xe=ae;A||Yr($._readableStreamController,be),O||Yr(V._readableStreamController,xe),m=!1,T&&De()})},_closeSteps:()=>{m=!1,A||ir($._readableStreamController),O||ir(V._readableStreamController),(!A||!O)&&H(void 0)},_errorSteps:()=>{m=!1}}),w(void 0))}function At(oe){if(A=!0,F=oe,O){let ae=Yt([F,U]),be=Ee(r,ae);H(be)}return ee}function Ge(oe){if(O=!0,U=oe,A){let ae=Yt([F,U]),be=Ee(r,ae);H(be)}return ee}function Fe(){}return $=fi(Fe,De,At),V=fi(Fe,De,Ge),M(a._closedPromise,oe=>{Ve($._readableStreamController,oe),Ve(V._readableStreamController,oe),(!A||!O)&&H(void 0)}),[$,V]}function ic(r){let i=Tt(r),a=!1,m=!1,T=!1,A=!1,O=!1,F,U,$,V,H,ee=g(x=>{H=x});function De(x){M(x._closedPromise,X=>{x===i&&(Te($._readableStreamController,X),Te(V._readableStreamController,X),(!A||!O)&&H(void 0))})}function At(){ut(i)&&(N(i),i=Tt(r),De(i)),Ht(i,{_chunkSteps:X=>{d(()=>{m=!1,T=!1;let Y=X,he=X;if(!A&&!O)try{he=cs(X)}catch(Ot){Te($._readableStreamController,Ot),Te(V._readableStreamController,Ot),H(Ee(r,Ot));return}A||Lr($._readableStreamController,Y),O||Lr(V._readableStreamController,he),a=!1,m?Fe():T&&oe()})},_closeSteps:()=>{a=!1,A||Gt($._readableStreamController),O||Gt(V._readableStreamController),$._readableStreamController._pendingPullIntos.length>0&&Mr($._readableStreamController,0),V._readableStreamController._pendingPullIntos.length>0&&Mr(V._readableStreamController,0),(!A||!O)&&H(void 0)},_errorSteps:()=>{a=!1}})}function Ge(x,X){Xe(i)&&(N(i),i=Ss(r),De(i));let Y=X?V:$,he=X?$:V;Es(i,x,{_chunkSteps:It=>{d(()=>{m=!1,T=!1;let Pt=X?O:A;if(X?A:O)Pt||Fr(Y._readableStreamController,It);else{let so;try{so=cs(It)}catch(di){Te(Y._readableStreamController,di),Te(he._readableStreamController,di),H(Ee(r,di));return}Pt||Fr(Y._readableStreamController,It),Lr(he._readableStreamController,so)}a=!1,m?Fe():T&&oe()})},_closeSteps:It=>{a=!1;let Pt=X?O:A,sn=X?A:O;Pt||Gt(Y._readableStreamController),sn||Gt(he._readableStreamController),It!==void 0&&(Pt||Fr(Y._readableStreamController,It),!sn&&he._readableStreamController._pendingPullIntos.length>0&&Mr(he._readableStreamController,0)),(!Pt||!sn)&&H(void 0)},_errorSteps:()=>{a=!1}})}function Fe(){if(a)return m=!0,w(void 0);a=!0;let x=Gn($._readableStreamController);return x===null?At():Ge(x._view,!1),w(void 0)}function oe(){if(a)return T=!0,w(void 0);a=!0;let x=Gn(V._readableStreamController);return x===null?At():Ge(x._view,!0),w(void 0)}function ae(x){if(A=!0,F=x,O){let X=Yt([F,U]),Y=Ee(r,X);H(Y)}return ee}function be(x){if(O=!0,U=x,A){let X=Yt([F,U]),Y=Ee(r,X);H(Y)}return ee}function xe(){}return $=$s(xe,Fe,ae),V=$s(xe,oe,be),De(i),[$,V]}function sc(r,i){Le(r,i);let a=r,m=a?.autoAllocateChunkSize,T=a?.cancel,A=a?.pull,O=a?.start,F=a?.type;return{autoAllocateChunkSize:m===void 0?void 0:Ji(m,`${i} has member 'autoAllocateChunkSize' that`),cancel:T===void 0?void 0:oc(T,a,`${i} has member 'cancel' that`),pull:A===void 0?void 0:ac(A,a,`${i} has member 'pull' that`),start:O===void 0?void 0:uc(O,a,`${i} has member 'start' that`),type:F===void 0?void 0:lc(F,`${i} has member 'type' that`)}}function oc(r,i,a){return _e(r,a),m=>c(r,i,[m])}function ac(r,i,a){return _e(r,a),m=>c(r,i,[m])}function uc(r,i,a){return _e(r,a),m=>R(r,i,[m])}function lc(r,i){if(r=`${r}`,r!=="bytes")throw new TypeError(`${i} '${r}' is not a valid enumeration value for ReadableStreamType`);return r}function cc(r,i){Le(r,i);let a=r?.mode;return{mode:a===void 0?void 0:fc(a,`${i} has member 'mode' that`)}}function fc(r,i){if(r=`${r}`,r!=="byob")throw new TypeError(`${i} '${r}' is not a valid enumeration value for ReadableStreamReaderMode`);return r}function hc(r,i){return Le(r,i),{preventCancel:!!r?.preventCancel}}function Xs(r,i){Le(r,i);let a=r?.preventAbort,m=r?.preventCancel,T=r?.preventClose,A=r?.signal;return A!==void 0&&dc(A,`${i} has member 'signal' that`),{preventAbort:!!a,preventCancel:!!m,preventClose:!!T,signal:A}}function dc(r,i){if(!vl(r))throw new TypeError(`${i} is not an AbortSignal.`)}function pc(r,i){Le(r,i);let a=r?.readable;Wn(a,"readable","ReadableWritablePair"),zn(a,`${i} has member 'readable' that`);let m=r?.writable;return Wn(m,"writable","ReadableWritablePair"),Ds(m,`${i} has member 'writable' that`),{readable:a,writable:m}}class He{constructor(i={},a={}){i===void 0?i=null:Ki(i,"First parameter");let m=Br(a,"Second parameter"),T=sc(i,"First parameter");if(hi(this),T.type==="bytes"){if(m.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let A=Jt(m,0);yl(this,T,A)}else{let A=qr(m),O=Jt(m,1);tc(this,T,O,A)}}get locked(){if(!Ye(this))throw ft("locked");return Qe(this)}cancel(i=void 0){return Ye(this)?Qe(this)?_(new TypeError("Cannot cancel a stream that already has a reader")):Ee(this,i):_(ft("cancel"))}getReader(i=void 0){if(!Ye(this))throw ft("getReader");return cc(i,"First parameter").mode===void 0?Tt(this):Ss(this)}pipeThrough(i,a={}){if(!Ye(this))throw ft("pipeThrough");Me(i,1,"pipeThrough");let m=pc(i,"First parameter"),T=Xs(a,"Second parameter");if(Qe(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(vt(m.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let A=Ws(this,m.writable,T.preventClose,T.preventAbort,T.preventCancel,T.signal);return y(A),m.readable}pipeTo(i,a={}){if(!Ye(this))return _(ft("pipeTo"));if(i===void 0)return _("Parameter 1 is required in 'pipeTo'.");if(!Dt(i))return _(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let m;try{m=Xs(a,"Second parameter")}catch(T){return _(T)}return Qe(this)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):vt(i)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Ws(this,i,m.preventClose,m.preventAbort,m.preventCancel,m.signal)}tee(){if(!Ye(this))throw ft("tee");let i=rc(this);return Yt(i)}values(i=void 0){if(!Ye(this))throw ft("values");let a=hc(i,"First parameter");return ll(this,a.preventCancel)}}Object.defineProperties(He.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(He.prototype,e.toStringTag,{value:"ReadableStream",configurable:!0}),typeof e.asyncIterator=="symbol"&&Object.defineProperty(He.prototype,e.asyncIterator,{value:He.prototype.values,writable:!0,configurable:!0});function fi(r,i,a,m=1,T=()=>1){let A=Object.create(He.prototype);hi(A);let O=Object.create(Ct.prototype);return zs(A,O,r,i,a,m,T),A}function $s(r,i,a){let m=Object.create(He.prototype);hi(m);let T=Object.create(Et.prototype);return ws(m,T,r,i,a,0,void 0),m}function hi(r){r._state="readable",r._reader=void 0,r._storedError=void 0,r._disturbed=!1}function Ye(r){return!u(r)||!Object.prototype.hasOwnProperty.call(r,"_readableStreamController")?!1:r instanceof He}function Qe(r){return r._reader!==void 0}function Ee(r,i){if(r._disturbed=!0,r._state==="closed")return w(void 0);if(r._state==="errored")return _(r._storedError);sr(r);let a=r._reader;a!==void 0&&ut(a)&&(a._readIntoRequests.forEach(T=>{T._closeSteps(void 0)}),a._readIntoRequests=new C);let m=r._readableStreamController[Ue](i);return z(m,n)}function sr(r){r._state="closed";let i=r._reader;i!==void 0&&(Z(i),Xe(i)&&(i._readRequests.forEach(a=>{a._closeSteps()}),i._readRequests=new C))}function Vs(r,i){r._state="errored",r._storedError=i;let a=r._reader;a!==void 0&&(j(a,i),Xe(a)?(a._readRequests.forEach(m=>{m._errorSteps(i)}),a._readRequests=new C):(a._readIntoRequests.forEach(m=>{m._errorSteps(i)}),a._readIntoRequests=new C))}function ft(r){return new TypeError(`ReadableStream.prototype.${r} can only be used on a ReadableStream`)}function Hs(r,i){Le(r,i);let a=r?.highWaterMark;return Wn(a,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Un(a)}}let Ys=r=>r.byteLength;try{Object.defineProperty(Ys,"name",{value:"size",configurable:!0})}catch{}class Gr{constructor(i){Me(i,1,"ByteLengthQueuingStrategy"),i=Hs(i,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=i.highWaterMark}get highWaterMark(){if(!Gs(this))throw Qs("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Gs(this))throw Qs("size");return Ys}}Object.defineProperties(Gr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Gr.prototype,e.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Qs(r){return new TypeError(`ByteLengthQueuingStrategy.prototype.${r} can only be used on a ByteLengthQueuingStrategy`)}function Gs(r){return!u(r)||!Object.prototype.hasOwnProperty.call(r,"_byteLengthQueuingStrategyHighWaterMark")?!1:r instanceof Gr}let Ks=()=>1;try{Object.defineProperty(Ks,"name",{value:"size",configurable:!0})}catch{}class Kr{constructor(i){Me(i,1,"CountQueuingStrategy"),i=Hs(i,"First parameter"),this._countQueuingStrategyHighWaterMark=i.highWaterMark}get highWaterMark(){if(!Js(this))throw Zs("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Js(this))throw Zs("size");return Ks}}Object.defineProperties(Kr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Kr.prototype,e.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Zs(r){return new TypeError(`CountQueuingStrategy.prototype.${r} can only be used on a CountQueuingStrategy`)}function Js(r){return!u(r)||!Object.prototype.hasOwnProperty.call(r,"_countQueuingStrategyHighWaterMark")?!1:r instanceof Kr}function mc(r,i){Le(r,i);let a=r?.flush,m=r?.readableType,T=r?.start,A=r?.transform,O=r?.writableType;return{flush:a===void 0?void 0:yc(a,r,`${i} has member 'flush' that`),readableType:m,start:T===void 0?void 0:bc(T,r,`${i} has member 'start' that`),transform:A===void 0?void 0:gc(A,r,`${i} has member 'transform' that`),writableType:O}}function yc(r,i,a){return _e(r,a),m=>c(r,i,[m])}function bc(r,i,a){return _e(r,a),m=>R(r,i,[m])}function gc(r,i,a){return _e(r,a),(m,T)=>c(r,i,[m,T])}class Zr{constructor(i={},a={},m={}){i===void 0&&(i=null);let T=Br(a,"Second parameter"),A=Br(m,"Third parameter"),O=mc(i,"First parameter");if(O.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(O.writableType!==void 0)throw new RangeError("Invalid writableType specified");let F=Jt(A,0),U=qr(A),$=Jt(T,1),V=qr(T),H,ee=g(De=>{H=De});wc(this,ee,$,V,F,U),_c(this,O),O.start!==void 0?H(O.start(this._transformStreamController)):H(void 0)}get readable(){if(!eo(this))throw io("readable");return this._readable}get writable(){if(!eo(this))throw io("writable");return this._writable}}Object.defineProperties(Zr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Zr.prototype,e.toStringTag,{value:"TransformStream",configurable:!0});function wc(r,i,a,m,T,A){function O(){return i}function F(ee){return Dc(r,ee)}function U(ee){return vc(r,ee)}function $(){return Rc(r)}r._writable=Nl(O,F,$,U,a,m);function V(){return Cc(r)}function H(ee){return en(r,ee),w(void 0)}r._readable=fi(O,V,H,T,A),r._backpressure=void 0,r._backpressureChangePromise=void 0,r._backpressureChangePromise_resolve=void 0,tn(r,!0),r._transformStreamController=void 0}function eo(r){return!u(r)||!Object.prototype.hasOwnProperty.call(r,"_transformStreamController")?!1:r instanceof Zr}function Jr(r,i){Ve(r._readable._readableStreamController,i),en(r,i)}function en(r,i){to(r._transformStreamController),ii(r._writable._writableStreamController,i),r._backpressure&&tn(r,!1)}function tn(r,i){r._backpressureChangePromise!==void 0&&r._backpressureChangePromise_resolve(),r._backpressureChangePromise=g(a=>{r._backpressureChangePromise_resolve=a}),r._backpressure=i}class or{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!rn(this))throw nn("desiredSize");let i=this._controlledTransformStream._readable._readableStreamController;return ci(i)}enqueue(i=void 0){if(!rn(this))throw nn("enqueue");ro(this,i)}error(i=void 0){if(!rn(this))throw nn("error");Tc(this,i)}terminate(){if(!rn(this))throw nn("terminate");Ec(this)}}Object.defineProperties(or.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(or.prototype,e.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function rn(r){return!u(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledTransformStream")?!1:r instanceof or}function Sc(r,i,a,m){i._controlledTransformStream=r,r._transformStreamController=i,i._transformAlgorithm=a,i._flushAlgorithm=m}function _c(r,i){let a=Object.create(or.prototype),m=A=>{try{return ro(a,A),w(void 0)}catch(O){return _(O)}},T=()=>w(void 0);i.transform!==void 0&&(m=A=>i.transform(A,a)),i.flush!==void 0&&(T=()=>i.flush(a)),Sc(r,a,m,T)}function to(r){r._transformAlgorithm=void 0,r._flushAlgorithm=void 0}function ro(r,i){let a=r._controlledTransformStream,m=a._readable._readableStreamController;if(!Nt(m))throw new TypeError("Readable side is not in a state that permits enqueue");try{Yr(m,i)}catch(A){throw en(a,A),a._readable._storedError}ec(m)!==a._backpressure&&tn(a,!0)}function Tc(r,i){Jr(r._controlledTransformStream,i)}function no(r,i){let a=r._transformAlgorithm(i);return z(a,void 0,m=>{throw Jr(r._controlledTransformStream,m),m})}function Ec(r){let i=r._controlledTransformStream,a=i._readable._readableStreamController;ir(a);let m=new TypeError("TransformStream terminated");en(i,m)}function Dc(r,i){let a=r._transformStreamController;if(r._backpressure){let m=r._backpressureChangePromise;return z(m,()=>{let T=r._writable;if(T._state==="erroring")throw T._storedError;return no(a,i)})}return no(a,i)}function vc(r,i){return Jr(r,i),w(void 0)}function Rc(r){let i=r._readable,a=r._transformStreamController,m=a._flushAlgorithm();return to(a),z(m,()=>{if(i._state==="errored")throw i._storedError;ir(i._readableStreamController)},T=>{throw Jr(r,T),i._storedError})}function Cc(r){return tn(r,!1),r._backpressureChangePromise}function nn(r){return new TypeError(`TransformStreamDefaultController.prototype.${r} can only be used on a TransformStreamDefaultController`)}function io(r){return new TypeError(`TransformStream.prototype.${r} can only be used on a TransformStream`)}t.ByteLengthQueuingStrategy=Gr,t.CountQueuingStrategy=Kr,t.ReadableByteStreamController=Et,t.ReadableStream=He,t.ReadableStreamBYOBReader=Zt,t.ReadableStreamBYOBRequest=Qt,t.ReadableStreamDefaultController=Ct,t.ReadableStreamDefaultReader=Vt,t.TransformStream=Zr,t.TransformStreamDefaultController=or,t.WritableStream=er,t.WritableStreamDefaultController=Rt,t.WritableStreamDefaultWriter=tr,Object.defineProperty(t,"__esModule",{value:!0})})});var fo=W(()=>{if(!globalThis.ReadableStream)try{let t=require("node:process"),{emitWarning:e}=t;try{t.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),t.emitWarning=e}catch(n){throw t.emitWarning=e,n}}catch{Object.assign(globalThis,co())}try{let{Blob:t}=require("buffer");t&&!t.prototype.stream&&(t.prototype.stream=function(n){let o=0,s=this;return new ReadableStream({type:"bytes",async pull(u){let p=await s.slice(o,Math.min(s.size,o+65536)).arrayBuffer();o+=p.byteLength,u.enqueue(new Uint8Array(p)),o===s.size&&u.close()}})})}catch{}});async function*pi(t,e=!0){for(let n of t)if("stream"in n)yield*n.stream();else if(ArrayBuffer.isView(n))if(e){let o=n.byteOffset,s=n.byteOffset+n.byteLength;for(;o!==s;){let u=Math.min(s-o,ho),l=n.buffer.slice(o,o+u);o+=l.byteLength,yield new Uint8Array(l)}}else yield n;else{let o=0,s=n;for(;o!==s.size;){let l=await s.slice(o,Math.min(s.size,o+ho)).arrayBuffer();o+=l.byteLength,yield new Uint8Array(l)}}}var Gf,ho,po,Fc,qe,ur=ar(()=>{Gf=ve(fo(),1);ho=65536;po=class mi{#e=[];#t="";#r=0;#n="transparent";constructor(e=[],n={}){if(typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof e[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof n!="object"&&typeof n!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");n===null&&(n={});let o=new TextEncoder;for(let u of e){let l;ArrayBuffer.isView(u)?l=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?l=new Uint8Array(u.slice(0)):u instanceof mi?l=u:l=o.encode(`${u}`),this.#r+=ArrayBuffer.isView(l)?l.byteLength:l.size,this.#e.push(l)}this.#n=`${n.endings===void 0?"transparent":n.endings}`;let s=n.type===void 0?"":String(n.type);this.#t=/^[\x20-\x7E]*$/.test(s)?s:""}get size(){return this.#r}get type(){return this.#t}async text(){let e=new TextDecoder,n="";for await(let o of pi(this.#e,!1))n+=e.decode(o,{stream:!0});return n+=e.decode(),n}async arrayBuffer(){let e=new Uint8Array(this.size),n=0;for await(let o of pi(this.#e,!1))e.set(o,n),n+=o.length;return e.buffer}stream(){let e=pi(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(n){let o=await e.next();o.done?n.close():n.enqueue(o.value)},async cancel(){await e.return()}})}slice(e=0,n=this.size,o=""){let{size:s}=this,u=e<0?Math.max(s+e,0):Math.min(e,s),l=n<0?Math.max(s+n,0):Math.min(n,s),p=Math.max(l-u,0),f=this.#e,b=[],S=0;for(let w of f){if(S>=p)break;let _=ArrayBuffer.isView(w)?w.byteLength:w.size;if(u&&_<=u)u-=_,l-=_;else{let E;ArrayBuffer.isView(w)?(E=w.subarray(u,Math.min(_,l)),S+=E.byteLength):(E=w.slice(u,Math.min(_,l)),S+=E.size),l-=_,b.push(E),u=0}}let g=new mi([],{type:String(o).toLowerCase()});return g.#r=p,g.#e=b,g}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&typeof e=="object"&&typeof e.constructor=="function"&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(po.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Fc=po,qe=Fc});var xc,qc,Lt,yi=ar(()=>{ur();xc=class extends qe{#e=0;#t="";constructor(e,n,o={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,o),o===null&&(o={});let s=o.lastModified===void 0?Date.now():Number(o.lastModified);Number.isNaN(s)||(this.#e=s),this.#t=String(n)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof qe&&/^(File)$/.test(e[Symbol.toStringTag])}},qc=xc,Lt=qc});function bo(t,e=qe){var n=`${mo()}${mo()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),o=[],s=`--${n}\r
Content-Disposition: form-data; name="`;return t.forEach((u,l)=>typeof u=="string"?o.push(s+bi(l)+`"\r
\r
${u.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):o.push(s+bi(l)+`"; filename="${bi(u.name,1)}"\r
Content-Type: ${u.type||"application/octet-stream"}\r
\r
`,u,`\r
`)),o.push(`--${n}--`),new e(o,{type:"multipart/form-data; boundary="+n})}var lr,Bc,kc,mo,jc,yo,bi,ht,dt,un=ar(()=>{ur();yi();({toStringTag:lr,iterator:Bc,hasInstance:kc}=Symbol),mo=Math.random,jc="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),yo=(t,e,n)=>(t+="",/^(Blob|File)$/.test(e&&e[lr])?[(n=n!==void 0?n+"":e[lr]=="File"?e.name:"blob",t),e.name!==n||e[lr]=="blob"?new Lt([e],n,e):e]:[t,e+""]),bi=(t,e)=>(e?t:t.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),ht=(t,e,n)=>{if(e.length<n)throw new TypeError(`Failed to execute '${t}' on 'FormData': ${n} arguments required, but only ${e.length} present.`)},dt=class{#e=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[lr](){return"FormData"}[Bc](){return this.entries()}static[kc](e){return e&&typeof e=="object"&&e[lr]==="FormData"&&!jc.some(n=>typeof e[n]!="function")}append(...e){ht("append",arguments,2),this.#e.push(yo(...e))}delete(e){ht("delete",arguments,1),e+="",this.#e=this.#e.filter(([n])=>n!==e)}get(e){ht("get",arguments,1),e+="";for(var n=this.#e,o=n.length,s=0;s<o;s++)if(n[s][0]===e)return n[s][1];return null}getAll(e,n){return ht("getAll",arguments,1),n=[],e+="",this.#e.forEach(o=>o[0]===e&&n.push(o[1])),n}has(e){return ht("has",arguments,1),e+="",this.#e.some(n=>n[0]===e)}forEach(e,n){ht("forEach",arguments,1);for(var[o,s]of this)e.call(n,s,o,this)}set(...e){ht("set",arguments,2);var n=[],o=!0;e=yo(...e),this.#e.forEach(s=>{s[0]===e[0]?o&&(o=!n.push(e)):n.push(s)}),o&&n.push(e),this.#e=n}*entries(){yield*this.#e}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}}});var To=W((lh,_o)=>{if(!globalThis.DOMException)try{let{MessageChannel:t}=require("worker_threads"),e=new t().port1,n=new ArrayBuffer;e.postMessage(n,[n,n])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}_o.exports=globalThis.DOMException});var cn,Wc,hh,wi=ar(()=>{cn=require("node:fs"),Wc=ve(To(),1);yi();ur();({stat:hh}=cn.promises)});var Do={};oo(Do,{toFormData:()=>Yc});function Hc(t){let e=t.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!e)return;let n=e[2]||e[3]||"",o=n.slice(n.lastIndexOf("\\")+1);return o=o.replace(/%22/g,'"'),o=o.replace(/&#(\d{4});/g,(s,u)=>String.fromCharCode(u)),o}async function Yc(t,e){if(!/multipart/i.test(e))throw new TypeError("Failed to fetch");let n=e.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!n)throw new TypeError("no or bad content-type header, no multipart boundary");let o=new Si(n[1]||n[2]),s,u,l,p,f,b,S=[],g=new dt,w=M=>{l+=I.decode(M,{stream:!0})},_=M=>{S.push(M)},E=()=>{let M=new Lt(S,b,{type:f});g.append(p,M)},P=()=>{g.append(p,l)},I=new TextDecoder("utf-8");I.decode(),o.onPartBegin=function(){o.onPartData=w,o.onPartEnd=P,s="",u="",l="",p="",f="",b=null,S.length=0},o.onHeaderField=function(M){s+=I.decode(M,{stream:!0})},o.onHeaderValue=function(M){u+=I.decode(M,{stream:!0})},o.onHeaderEnd=function(){if(u+=I.decode(),s=s.toLowerCase(),s==="content-disposition"){let M=u.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);M&&(p=M[2]||M[3]||""),b=Hc(u),b&&(o.onPartData=_,o.onPartEnd=E)}else s==="content-type"&&(f=u);u="",s=""};for await(let M of t)o.write(M);return o.end(),g}var Ae,Q,Eo,Ke,fn,hn,Uc,fr,zc,Xc,$c,Vc,pt,Si,vo=ar(()=>{wi();un();Ae=0,Q={START_BOUNDARY:Ae++,HEADER_FIELD_START:Ae++,HEADER_FIELD:Ae++,HEADER_VALUE_START:Ae++,HEADER_VALUE:Ae++,HEADER_VALUE_ALMOST_DONE:Ae++,HEADERS_ALMOST_DONE:Ae++,PART_DATA_START:Ae++,PART_DATA:Ae++,END:Ae++},Eo=1,Ke={PART_BOUNDARY:Eo,LAST_BOUNDARY:Eo*=2},fn=10,hn=13,Uc=32,fr=45,zc=58,Xc=97,$c=122,Vc=t=>t|32,pt=()=>{},Si=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=pt,this.onHeaderField=pt,this.onHeadersEnd=pt,this.onHeaderValue=pt,this.onPartBegin=pt,this.onPartData=pt,this.onPartEnd=pt,this.boundaryChars={},e=`\r
--`+e;let n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o),this.boundaryChars[n[o]]=!0;this.boundary=n,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=Q.START_BOUNDARY}write(e){let n=0,o=e.length,s=this.index,{lookbehind:u,boundary:l,boundaryChars:p,index:f,state:b,flags:S}=this,g=this.boundary.length,w=g-1,_=e.length,E,P,I=d=>{this[d+"Mark"]=n},M=d=>{delete this[d+"Mark"]},z=(d,R,c,D)=>{(R===void 0||R!==c)&&this[d](D&&D.subarray(R,c))},y=(d,R)=>{let c=d+"Mark";c in this&&(R?(z(d,this[c],n,e),delete this[c]):(z(d,this[c],e.length,e),this[c]=0))};for(n=0;n<o;n++)switch(E=e[n],b){case Q.START_BOUNDARY:if(f===l.length-2){if(E===fr)S|=Ke.LAST_BOUNDARY;else if(E!==hn)return;f++;break}else if(f-1===l.length-2){if(S&Ke.LAST_BOUNDARY&&E===fr)b=Q.END,S=0;else if(!(S&Ke.LAST_BOUNDARY)&&E===fn)f=0,z("onPartBegin"),b=Q.HEADER_FIELD_START;else return;break}E!==l[f+2]&&(f=-2),E===l[f+2]&&f++;break;case Q.HEADER_FIELD_START:b=Q.HEADER_FIELD,I("onHeaderField"),f=0;case Q.HEADER_FIELD:if(E===hn){M("onHeaderField"),b=Q.HEADERS_ALMOST_DONE;break}if(f++,E===fr)break;if(E===zc){if(f===1)return;y("onHeaderField",!0),b=Q.HEADER_VALUE_START;break}if(P=Vc(E),P<Xc||P>$c)return;break;case Q.HEADER_VALUE_START:if(E===Uc)break;I("onHeaderValue"),b=Q.HEADER_VALUE;case Q.HEADER_VALUE:E===hn&&(y("onHeaderValue",!0),z("onHeaderEnd"),b=Q.HEADER_VALUE_ALMOST_DONE);break;case Q.HEADER_VALUE_ALMOST_DONE:if(E!==fn)return;b=Q.HEADER_FIELD_START;break;case Q.HEADERS_ALMOST_DONE:if(E!==fn)return;z("onHeadersEnd"),b=Q.PART_DATA_START;break;case Q.PART_DATA_START:b=Q.PART_DATA,I("onPartData");case Q.PART_DATA:if(s=f,f===0){for(n+=w;n<_&&!(e[n]in p);)n+=g;n-=w,E=e[n]}if(f<l.length)l[f]===E?(f===0&&y("onPartData",!0),f++):f=0;else if(f===l.length)f++,E===hn?S|=Ke.PART_BOUNDARY:E===fr?S|=Ke.LAST_BOUNDARY:f=0;else if(f-1===l.length)if(S&Ke.PART_BOUNDARY){if(f=0,E===fn){S&=~Ke.PART_BOUNDARY,z("onPartEnd"),z("onPartBegin"),b=Q.HEADER_FIELD_START;break}}else S&Ke.LAST_BOUNDARY&&E===fr?(z("onPartEnd"),b=Q.END,S=0):f=0;if(f>0)u[f-1]=E;else if(s>0){let d=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);z("onPartData",0,s,d),s=0,I("onPartData"),n--}break;case Q.END:break;default:throw new Error(`Unexpected state entered: ${b}`)}y("onHeaderField"),y("onHeaderValue"),y("onPartData"),this.index=f,this.state=b,this.flags=S}end(){if(this.state===Q.HEADER_FIELD_START&&this.index===0||this.state===Q.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==Q.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var zo=W(Uo=>{Uo.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}});var Ko=W(vi=>{var Di=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Xo=new RegExp("[\\-\\.0-9"+Di.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),$o=new RegExp("^"+Di.source+Xo.source+"*(?::"+Di.source+Xo.source+"*)?$"),mr=0,Ze=1,xt=2,yr=3,qt=4,Bt=5,br=6,gn=7;function kt(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,kt)}kt.prototype=new Error;kt.prototype.name=kt.name;function Yo(){}Yo.prototype={parse:function(t,e,n){var o=this.domBuilder;o.startDocument(),Qo(e,e={}),rf(t,e,n,o,this.errorHandler),o.endDocument()}};function rf(t,e,n,o,s){function u(j){if(j>65535){j-=65536;var q=55296+(j>>10),Z=56320+(j&1023);return String.fromCharCode(q,Z)}else return String.fromCharCode(j)}function l(j){var q=j.slice(1,-1);return q in n?n[q]:q.charAt(0)==="#"?u(parseInt(q.substr(1).replace("x","0x"))):(s.error("entity not found:"+j),j)}function p(j){if(j>P){var q=t.substring(P,j).replace(/&#?\w+;/g,l);w&&f(P),o.characters(q,0,j-P),P=j}}function f(j,q){for(;j>=S&&(q=g.exec(t));)b=q.index,S=b+q[0].length,w.lineNumber++;w.columnNumber=j-b+1}for(var b=0,S=0,g=/.*(?:\r\n?|\n)|.*$/g,w=o.locator,_=[{currentNSMap:e}],E={},P=0;;){try{var I=t.indexOf("<",P);if(I<0){if(!t.substr(P).match(/^\s*$/)){var M=o.doc,z=M.createTextNode(t.substr(P));M.appendChild(z),o.currentElement=z}return}switch(I>P&&p(I),t.charAt(I+1)){case"/":var N=t.indexOf(">",I+3),y=t.substring(I+2,N),d=_.pop();N<0?(y=t.substring(I+2).replace(/[\s<].*/,""),s.error("end tag name: "+y+" is not complete:"+d.tagName),N=I+1+y.length):y.match(/\s</)&&(y=y.replace(/[\s<].*/,""),s.error("end tag name: "+y+" maybe not complete"),N=I+1+y.length);var R=d.localNSMap,c=d.tagName==y,D=c||d.tagName&&d.tagName.toLowerCase()==y.toLowerCase();if(D){if(o.endElement(d.uri,d.localName,y),R)for(var C in R)o.endPrefixMapping(C);c||s.fatalError("end tag name: "+y+" is not match the current start tagName:"+d.tagName)}else _.push(d);N++;break;case"?":w&&f(I),N=uf(t,I,o);break;case"!":w&&f(I),N=af(t,I,o,s);break;default:w&&f(I);var h=new Go,v=_[_.length-1].currentNSMap,N=nf(t,I,h,v,l,s),L=h.length;if(!h.closed&&of(t,N,h.tagName,E)&&(h.closed=!0,n.nbsp||s.warning("unclosed xml attribute")),w&&L){for(var B=Vo(w,{}),k=0;k<L;k++){var K=h[k];f(K.offset),K.locator=Vo(w,{})}o.locator=B,Ho(h,o,v)&&_.push(h),o.locator=w}else Ho(h,o,v)&&_.push(h);h.uri==="http://www.w3.org/1999/xhtml"&&!h.closed?N=sf(t,N,h.tagName,l,o):N++}}catch(j){if(j instanceof kt)throw j;s.error("element parse error: "+j),N=-1}N>P?P=N:p(Math.max(I,P)+1)}}function Vo(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function nf(t,e,n,o,s,u){function l(_,E,P){_ in n.attributeNames&&u.fatalError("Attribute "+_+" redefined"),n.addValue(_,E,P)}for(var p,f,b=++e,S=mr;;){var g=t.charAt(b);switch(g){case"=":if(S===Ze)p=t.slice(e,b),S=yr;else if(S===xt)S=yr;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(S===yr||S===Ze)if(S===Ze&&(u.warning('attribute value must after "="'),p=t.slice(e,b)),e=b+1,b=t.indexOf(g,e),b>0)f=t.slice(e,b).replace(/&#?\w+;/g,s),l(p,f,e-1),S=Bt;else throw new Error("attribute value no end '"+g+"' match");else if(S==qt)f=t.slice(e,b).replace(/&#?\w+;/g,s),l(p,f,e),u.warning('attribute "'+p+'" missed start quot('+g+")!!"),e=b+1,S=Bt;else throw new Error('attribute value must after "="');break;case"/":switch(S){case mr:n.setTagName(t.slice(e,b));case Bt:case br:case gn:S=gn,n.closed=!0;case qt:case Ze:case xt:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return u.error("unexpected end of input"),S==mr&&n.setTagName(t.slice(e,b)),b;case">":switch(S){case mr:n.setTagName(t.slice(e,b));case Bt:case br:case gn:break;case qt:case Ze:f=t.slice(e,b),f.slice(-1)==="/"&&(n.closed=!0,f=f.slice(0,-1));case xt:S===xt&&(f=p),S==qt?(u.warning('attribute "'+f+'" missed quot(")!'),l(p,f.replace(/&#?\w+;/g,s),e)):((o[""]!=="http://www.w3.org/1999/xhtml"||!f.match(/^(?:disabled|checked|selected)$/i))&&u.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),l(f,f,e));break;case yr:throw new Error("attribute value missed!!")}return b;case"\x80":g=" ";default:if(g<=" ")switch(S){case mr:n.setTagName(t.slice(e,b)),S=br;break;case Ze:p=t.slice(e,b),S=xt;break;case qt:var f=t.slice(e,b).replace(/&#?\w+;/g,s);u.warning('attribute "'+f+'" missed quot(")!!'),l(p,f,e);case Bt:S=br;break}else switch(S){case xt:var w=n.tagName;(o[""]!=="http://www.w3.org/1999/xhtml"||!p.match(/^(?:disabled|checked|selected)$/i))&&u.warning('attribute "'+p+'" missed value!! "'+p+'" instead2!!'),l(p,p,e),e=b,S=Ze;break;case Bt:u.warning('attribute space is required"'+p+'"!!');case br:S=Ze,e=b;break;case yr:S=qt,e=b;break;case gn:throw new Error("elements closed character '/' and '>' must be connected to")}}b++}}function Ho(t,e,n){for(var o=t.tagName,s=null,g=t.length;g--;){var u=t[g],l=u.qName,p=u.value,w=l.indexOf(":");if(w>0)var f=u.prefix=l.slice(0,w),b=l.slice(w+1),S=f==="xmlns"&&b;else b=l,f=null,S=l==="xmlns"&&"";u.localName=b,S!==!1&&(s==null&&(s={},Qo(n,n={})),n[S]=s[S]=p,u.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(S,p))}for(var g=t.length;g--;){u=t[g];var f=u.prefix;f&&(f==="xml"&&(u.uri="http://www.w3.org/XML/1998/namespace"),f!=="xmlns"&&(u.uri=n[f||""]))}var w=o.indexOf(":");w>0?(f=t.prefix=o.slice(0,w),b=t.localName=o.slice(w+1)):(f=null,b=t.localName=o);var _=t.uri=n[f||""];if(e.startElement(_,b,o,t),t.closed){if(e.endElement(_,b,o),s)for(f in s)e.endPrefixMapping(f)}else return t.currentNSMap=n,t.localNSMap=s,!0}function sf(t,e,n,o,s){if(/^(?:script|textarea)$/i.test(n)){var u=t.indexOf("</"+n+">",e),l=t.substring(e+1,u);if(/[&<]/.test(l))return/^script$/i.test(n)?(s.characters(l,0,l.length),u):(l=l.replace(/&#?\w+;/g,o),s.characters(l,0,l.length),u)}return e+1}function of(t,e,n,o){var s=o[n];return s==null&&(s=t.lastIndexOf("</"+n+">"),s<e&&(s=t.lastIndexOf("</"+n)),o[n]=s),s<e}function Qo(t,e){for(var n in t)e[n]=t[n]}function af(t,e,n,o){var s=t.charAt(e+2);switch(s){case"-":if(t.charAt(e+3)==="-"){var u=t.indexOf("-->",e+4);return u>e?(n.comment(t,e+4,u-e-4),u+3):(o.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var u=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,u-e-9),n.endCDATA(),u+3}var l=lf(t,e),p=l.length;if(p>1&&/!doctype/i.test(l[0][0])){var f=l[1][0],b=!1,S=!1;p>3&&(/^public$/i.test(l[2][0])?(b=l[3][0],S=p>4&&l[4][0]):/^system$/i.test(l[2][0])&&(S=l[3][0]));var g=l[p-1];return n.startDTD(f,b,S),n.endDTD(),g.index+g[0].length}}return-1}function uf(t,e,n){var o=t.indexOf("?>",e);if(o){var s=t.substring(e,o).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(s){var u=s[0].length;return n.processingInstruction(s[1],s[2]),o+2}else return-1}return-1}function Go(){this.attributeNames={}}Go.prototype={setTagName:function(t){if(!$o.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!$o.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function lf(t,e){var n,o=[],s=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(s.lastIndex=e,s.exec(t);n=s.exec(t);)if(o.push(n),n[1])return o}vi.XMLReader=Yo;vi.ParseError=kt});var Fi=W(Tr=>{function wr(t,e){for(var n in t)e[n]=t[n]}function ce(t,e){var n=t.prototype;if(!(n instanceof e)){let s=function(){};var o=s;s.prototype=e.prototype,s=new s,wr(n,s),t.prototype=n=s}n.constructor!=t&&(typeof t!="function"&&console.error("unknow Class:"+t),n.constructor=t)}var cf="http://www.w3.org/1999/xhtml",fe={},Ce=fe.ELEMENT_NODE=1,Wt=fe.ATTRIBUTE_NODE=2,wn=fe.TEXT_NODE=3,na=fe.CDATA_SECTION_NODE=4,ia=fe.ENTITY_REFERENCE_NODE=5,ff=fe.ENTITY_NODE=6,sa=fe.PROCESSING_INSTRUCTION_NODE=7,oa=fe.COMMENT_NODE=8,aa=fe.DOCUMENT_NODE=9,ua=fe.DOCUMENT_TYPE_NODE=10,je=fe.DOCUMENT_FRAGMENT_NODE=11,hf=fe.NOTATION_NODE=12,ie={},ne={},nd=ie.INDEX_SIZE_ERR=(ne[1]="Index size error",1),id=ie.DOMSTRING_SIZE_ERR=(ne[2]="DOMString size error",2),df=ie.HIERARCHY_REQUEST_ERR=(ne[3]="Hierarchy request error",3),sd=ie.WRONG_DOCUMENT_ERR=(ne[4]="Wrong document",4),od=ie.INVALID_CHARACTER_ERR=(ne[5]="Invalid character",5),ad=ie.NO_DATA_ALLOWED_ERR=(ne[6]="No data allowed",6),ud=ie.NO_MODIFICATION_ALLOWED_ERR=(ne[7]="No modification allowed",7),pf=ie.NOT_FOUND_ERR=(ne[8]="Not found",8),ld=ie.NOT_SUPPORTED_ERR=(ne[9]="Not supported",9),Zo=ie.INUSE_ATTRIBUTE_ERR=(ne[10]="Attribute in use",10),cd=ie.INVALID_STATE_ERR=(ne[11]="Invalid state",11),fd=ie.SYNTAX_ERR=(ne[12]="Syntax error",12),hd=ie.INVALID_MODIFICATION_ERR=(ne[13]="Invalid modification",13),dd=ie.NAMESPACE_ERR=(ne[14]="Invalid namespace",14),pd=ie.INVALID_ACCESS_ERR=(ne[15]="Invalid access",15);function bt(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,ne[t]),this.message=ne[t],Error.captureStackTrace&&Error.captureStackTrace(this,bt);return n.code=t,e&&(this.message=this.message+": "+e),n}bt.prototype=Error.prototype;wr(ie,bt);function Je(){}Je.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],o=0;o<this.length;o++)jt(this[o],n,t,e);return n.join("")}};function Ut(t,e){this._node=t,this._refresh=e,Ci(this)}function Ci(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);wa(t,"length",n.length),wr(n,t),t._inc=e}}Ut.prototype.item=function(t){return Ci(this),this[t]};ce(Ut,Je);function Sn(){}function la(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function Jo(t,e,n,o){if(o?e[la(e,o)]=n:e[e.length++]=n,t){n.ownerElement=t;var s=t.ownerDocument;s&&(o&&fa(s,t,o),mf(s,t,n))}}function ea(t,e,n){var o=la(e,n);if(o>=0){for(var s=e.length-1;o<s;)e[o]=e[++o];if(e.length=s,t){var u=t.ownerDocument;u&&(fa(u,t,n),n.ownerElement=null)}}else throw bt(pf,new Error(t.tagName+"@"+n))}Sn.prototype={length:0,item:Je.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new bt(Zo);var n=this.getNamedItem(t.nodeName);return Jo(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new bt(Zo);return n=this.getNamedItemNS(t.namespaceURI,t.localName),Jo(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return ea(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return ea(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var o=this[n];if(o.localName==e&&o.namespaceURI==t)return o}return null}};function ca(t){if(this._features={},t)for(var e in t)this._features=t[e]}ca.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!!(n&&(!e||e in n))},createDocument:function(t,e,n){var o=new Sr;if(o.implementation=this,o.childNodes=new Je,o.doctype=n,n&&o.appendChild(n),e){var s=o.createElementNS(t,e);o.appendChild(s)}return o},createDocumentType:function(t,e,n){var o=new Pi;return o.name=t,o.nodeName=t,o.publicId=e,o.systemId=n,o}};function se(){}se.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return da(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return ha(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return Ri(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==wn&&t.nodeType==wn?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var o in n)if(n[o]==t)return o}e=e.nodeType==Wt?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==Wt?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function ta(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}wr(fe,se);wr(fe,se.prototype);function gr(t,e){if(e(t))return!0;if(t=t.firstChild)do if(gr(t,e))return!0;while(t=t.nextSibling)}function Sr(){}function mf(t,e,n){t&&t._inc++;var o=n.namespaceURI;o=="http://www.w3.org/2000/xmlns/"&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function fa(t,e,n,o){t&&t._inc++;var s=n.namespaceURI;s=="http://www.w3.org/2000/xmlns/"&&delete e._nsMap[n.prefix?n.localName:""]}function Ni(t,e,n){if(t&&t._inc){t._inc++;var o=e.childNodes;if(n)o[o.length++]=n;else{for(var s=e.firstChild,u=0;s;)o[u++]=s,s=s.nextSibling;o.length=u}}}function ha(t,e){var n=e.previousSibling,o=e.nextSibling;return n?n.nextSibling=o:t.firstChild=o,o?o.previousSibling=n:t.lastChild=n,Ni(t.ownerDocument,t),e}function da(t,e,n){var o=e.parentNode;if(o&&o.removeChild(e),e.nodeType===je){var s=e.firstChild;if(s==null)return e;var u=e.lastChild}else s=u=e;var l=n?n.previousSibling:t.lastChild;s.previousSibling=l,u.nextSibling=n,l?l.nextSibling=s:t.firstChild=s,n==null?t.lastChild=u:n.previousSibling=u;do s.parentNode=t;while(s!==u&&(s=s.nextSibling));return Ni(t.ownerDocument||t,t),e.nodeType==je&&(e.firstChild=e.lastChild=null),e}function yf(t,e){var n=e.parentNode;if(n){var o=t.lastChild;n.removeChild(e);var o=t.lastChild}var o=t.lastChild;return e.parentNode=t,e.previousSibling=o,e.nextSibling=null,o?o.nextSibling=e:t.firstChild=e,t.lastChild=e,Ni(t.ownerDocument,t,e),e}Sr.prototype={nodeName:"#document",nodeType:aa,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==je){for(var n=t.firstChild;n;){var o=n.nextSibling;this.insertBefore(n,e),n=o}return t}return this.documentElement==null&&t.nodeType==Ce&&(this.documentElement=t),da(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),ha(this,t)},importNode:function(t,e){return ga(this,t,e)},getElementById:function(t){var e=null;return gr(this.documentElement,function(n){if(n.nodeType==Ce&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=new RegExp("(^|\\s)"+t+"(\\s|$)");return new Ut(this,function(n){var o=[];return gr(n.documentElement,function(s){s!==n&&s.nodeType==Ce&&e.test(s.getAttribute("class"))&&o.push(s)}),o})},createElement:function(t){var e=new zt;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new Je;var n=e.attributes=new Sn;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new Tn;return t.ownerDocument=this,t.childNodes=new Je,t},createTextNode:function(t){var e=new Ai;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new Oi;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new Ii;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new Mi;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new _n;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Li;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new zt,o=e.split(":"),s=n.attributes=new Sn;return n.childNodes=new Je,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,o.length==2?(n.prefix=o[0],n.localName=o[1]):n.localName=e,s._ownerElement=n,n},createAttributeNS:function(t,e){var n=new _n,o=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,o.length==2?(n.prefix=o[0],n.localName=o[1]):n.localName=e,n}};ce(Sr,se);function zt(){this._nsMap={}}zt.prototype={nodeType:Ce,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===je?this.insertBefore(t,null):yf(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var o=this.ownerDocument.createAttributeNS(t,e);o.value=o.nodeValue=""+n,this.setAttributeNode(o)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Ut(this,function(e){var n=[];return gr(e,function(o){o!==e&&o.nodeType==Ce&&(t==="*"||o.tagName==t)&&n.push(o)}),n})},getElementsByTagNameNS:function(t,e){return new Ut(this,function(n){var o=[];return gr(n,function(s){s!==n&&s.nodeType===Ce&&(t==="*"||s.namespaceURI===t)&&(e==="*"||s.localName==e)&&o.push(s)}),o})}};Sr.prototype.getElementsByTagName=zt.prototype.getElementsByTagName;Sr.prototype.getElementsByTagNameNS=zt.prototype.getElementsByTagNameNS;ce(zt,se);function _n(){}_n.prototype.nodeType=Wt;ce(_n,se);function _r(){}_r.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(ne[df])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var o=this.data.substring(0,t),s=this.data.substring(t+e);n=o+n+s,this.nodeValue=this.data=n,this.length=n.length}};ce(_r,se);function Ai(){}Ai.prototype={nodeName:"#text",nodeType:wn,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var o=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(o,this.nextSibling),o}};ce(Ai,_r);function Oi(){}Oi.prototype={nodeName:"#comment",nodeType:oa};ce(Oi,_r);function Ii(){}Ii.prototype={nodeName:"#cdata-section",nodeType:na};ce(Ii,_r);function Pi(){}Pi.prototype.nodeType=ua;ce(Pi,se);function pa(){}pa.prototype.nodeType=hf;ce(pa,se);function ma(){}ma.prototype.nodeType=ff;ce(ma,se);function Li(){}Li.prototype.nodeType=ia;ce(Li,se);function Tn(){}Tn.prototype.nodeName="#document-fragment";Tn.prototype.nodeType=je;ce(Tn,se);function Mi(){}Mi.prototype.nodeType=sa;ce(Mi,se);function ya(){}ya.prototype.serializeToString=function(t,e,n){return ba.call(t,e,n)};se.prototype.toString=ba;function ba(t,e){var n=[],o=this.nodeType==9&&this.documentElement||this,s=o.prefix,u=o.namespaceURI;if(u&&s==null){var s=o.lookupPrefix(u);if(s==null)var l=[{namespace:u,prefix:null}]}return jt(this,n,t,e,l),n.join("")}function ra(t,e,n){var o=t.prefix||"",s=t.namespaceURI;if(!o&&!s||o==="xml"&&s==="http://www.w3.org/XML/1998/namespace"||s=="http://www.w3.org/2000/xmlns/")return!1;for(var u=n.length;u--;){var l=n[u];if(l.prefix==o)return l.namespace!=s}return!0}function jt(t,e,n,o,s){if(o)if(t=o(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Ce:s||(s=[]);var u=s.length,l=t.attributes,p=l.length,E=t.firstChild,f=t.tagName;n=cf===t.namespaceURI||n,e.push("<",f);for(var b=0;b<p;b++){var S=l.item(b);S.prefix=="xmlns"?s.push({prefix:S.localName,namespace:S.value}):S.nodeName=="xmlns"&&s.push({prefix:"",namespace:S.value})}for(var b=0;b<p;b++){var S=l.item(b);if(ra(S,n,s)){var g=S.prefix||"",w=S.namespaceURI,_=g?" xmlns:"+g:" xmlns";e.push(_,'="',w,'"'),s.push({prefix:g,namespace:w})}jt(S,e,n,o,s)}if(ra(t,n,s)){var g=t.prefix||"",w=t.namespaceURI;if(w){var _=g?" xmlns:"+g:" xmlns";e.push(_,'="',w,'"'),s.push({prefix:g,namespace:w})}}if(E||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(f)){if(e.push(">"),n&&/^script$/i.test(f))for(;E;)E.data?e.push(E.data):jt(E,e,n,o,s),E=E.nextSibling;else for(;E;)jt(E,e,n,o,s),E=E.nextSibling;e.push("</",f,">")}else e.push("/>");return;case aa:case je:for(var E=t.firstChild;E;)jt(E,e,n,o,s),E=E.nextSibling;return;case Wt:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,ta),'"');case wn:return e.push(t.data.replace(/[<&]/g,ta).replace(/]]>/g,"]]&gt;"));case na:return e.push("<![CDATA[",t.data,"]]>");case oa:return e.push("<!--",t.data,"-->");case ua:var P=t.publicId,I=t.systemId;if(e.push("<!DOCTYPE ",t.name),P)e.push(" PUBLIC ",P),I&&I!="."&&e.push(" ",I),e.push(">");else if(I&&I!=".")e.push(" SYSTEM ",I,">");else{var M=t.internalSubset;M&&e.push(" [",M,"]"),e.push(">")}return;case sa:return e.push("<?",t.target," ",t.data,"?>");case ia:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function ga(t,e,n){var o;switch(e.nodeType){case Ce:o=e.cloneNode(!1),o.ownerDocument=t;case je:break;case Wt:n=!0;break}if(o||(o=e.cloneNode(!1)),o.ownerDocument=t,o.parentNode=null,n)for(var s=e.firstChild;s;)o.appendChild(ga(t,s,n)),s=s.nextSibling;return o}function Ri(t,e,n){var o=new e.constructor;for(var s in e){var u=e[s];typeof u!="object"&&u!=o[s]&&(o[s]=u)}switch(e.childNodes&&(o.childNodes=new Je),o.ownerDocument=t,o.nodeType){case Ce:var l=e.attributes,p=o.attributes=new Sn,f=l.length;p._ownerElement=o;for(var b=0;b<f;b++)o.setAttributeNode(Ri(t,l.item(b),!0));break;case Wt:n=!0}if(n)for(var S=e.firstChild;S;)o.appendChild(Ri(t,S,n)),S=S.nextSibling;return o}function wa(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Ce:case je:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};bf=t,Object.defineProperty(Ut.prototype,"length",{get:function(){return Ci(this),this.$$length}}),Object.defineProperty(se.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Ce:case je:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),wa=function(e,n,o){e["$$"+n]=o}}}catch{}var bf;Tr.Node=se;Tr.DOMException=bt;Tr.DOMImplementation=ca;Tr.XMLSerializer=ya});var Ea=W(Dr=>{function _a(t){this.options=t||{locator:{}}}_a.prototype.parseFromString=function(t,e){var n=this.options,o=new Sf,s=n.domBuilder||new Er,u=n.errorHandler,l=n.locator,p=n.xmlns||{},f=/\/x?html?$/.test(e),b=f?wf.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&s.setDocumentLocator(l),o.errorHandler=gf(u,s,l),o.domBuilder=n.domBuilder||s,f&&(p[""]="http://www.w3.org/1999/xhtml"),p.xml=p.xml||"http://www.w3.org/XML/1998/namespace",t&&typeof t=="string"?o.parse(t,p,b):o.errorHandler.error("invalid doc source"),s.doc};function gf(t,e,n){if(!t){if(e instanceof Er)return e;t=e}var o={},s=t instanceof Function;n=n||{};function u(l){var p=t[l];!p&&s&&(p=t.length==2?function(f){t(l,f)}:t),o[l]=p&&function(f){p("[xmldom "+l+"]	"+f+xi(n))}||function(){}}return u("warning"),u("error"),u("fatalError"),o}function Er(){this.cdata=!1}function Xt(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Er.prototype={startDocument:function(){this.doc=new Tf().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,o){var s=this.doc,u=s.createElementNS(t,n||e),l=o.length;En(this,u),this.currentElement=u,this.locator&&Xt(this.locator,u);for(var p=0;p<l;p++){var t=o.getURI(p),f=o.getValue(p),n=o.getQName(p),b=s.createAttributeNS(t,n);this.locator&&Xt(o.getLocator(p),b),b.value=b.nodeValue=f,u.setAttributeNode(b)}},endElement:function(t,e,n){var o=this.currentElement,s=o.tagName;this.currentElement=o.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&Xt(this.locator,n),En(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=Sa.apply(this,arguments),t){if(this.cdata)var o=this.doc.createCDATASection(t);else var o=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(o):/^\s*$/.test(t)&&this.doc.appendChild(o),this.locator&&Xt(this.locator,o)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=Sa.apply(this,arguments);var o=this.doc.createComment(t);this.locator&&Xt(this.locator,o),En(this,o)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var o=this.doc.implementation;if(o&&o.createDocumentType){var s=o.createDocumentType(t,e,n);this.locator&&Xt(this.locator,s),En(this,s)}},warning:function(t){console.warn("[xmldom warning]	"+t,xi(this.locator))},error:function(t){console.error("[xmldom error]	"+t,xi(this.locator))},fatalError:function(t){throw new _f(t,this.locator)}};function xi(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function Sa(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Er.prototype[t]=function(){return null}});function En(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}var wf=zo(),Ta=Ko(),Sf=Ta.XMLReader,_f=Ta.ParseError,Tf=Dr.DOMImplementation=Fi().DOMImplementation;Dr.XMLSerializer=Fi().XMLSerializer;Dr.DOMParser=_a;Dr.__DOMHandler=Er});var Ra=W(va=>{var Ef=Ea().DOMParser;va.parse=vf;var Dn=3,Da=4,Df=8;function qi(t){return t.nodeType===Dn||t.nodeType===Df||t.nodeType===Da}function We(t){return!t.childNodes||t.childNodes.length===0}function gt(t,e){if(!t)throw new Error(e)}function vf(t){var e=new Ef().parseFromString(t);gt(e.documentElement.nodeName==="plist","malformed document. First element should be <plist>");var n=$t(e.documentElement);return n.length==1&&(n=n[0]),n}function $t(t){var e,n,o,s,u,l,p,f;if(!t)return null;if(t.nodeName==="plist"){if(u=[],We(t))return u;for(e=0;e<t.childNodes.length;e++)qi(t.childNodes[e])||u.push($t(t.childNodes[e]));return u}else if(t.nodeName==="dict"){if(n={},o=null,p=0,We(t))return n;for(e=0;e<t.childNodes.length;e++)qi(t.childNodes[e])||(p%2===0?(gt(t.childNodes[e].nodeName==="key","Missing key while parsing <dict/>."),o=$t(t.childNodes[e])):(gt(t.childNodes[e].nodeName!=="key",'Unexpected key "'+$t(t.childNodes[e])+'" while parsing <dict/>.'),n[o]=$t(t.childNodes[e])),p+=1);return p%2===1&&(n[o]=""),n}else if(t.nodeName==="array"){if(u=[],We(t))return u;for(e=0;e<t.childNodes.length;e++)qi(t.childNodes[e])||(l=$t(t.childNodes[e]),l!=null&&u.push(l));return u}else if(t.nodeName!=="#text"){if(t.nodeName==="key")return We(t)?"":(gt(t.childNodes[0].nodeValue!=="__proto__","__proto__ keys can lead to prototype pollution. More details on CVE-2022-22912"),t.childNodes[0].nodeValue);if(t.nodeName==="string"){if(l="",We(t))return l;for(e=0;e<t.childNodes.length;e++){var f=t.childNodes[e].nodeType;(f===Dn||f===Da)&&(l+=t.childNodes[e].nodeValue)}return l}else{if(t.nodeName==="integer")return gt(!We(t),'Cannot parse "" as integer.'),parseInt(t.childNodes[0].nodeValue,10);if(t.nodeName==="real"){for(gt(!We(t),'Cannot parse "" as real.'),l="",e=0;e<t.childNodes.length;e++)t.childNodes[e].nodeType===Dn&&(l+=t.childNodes[e].nodeValue);return parseFloat(l)}else if(t.nodeName==="data"){if(l="",We(t))return Buffer.from(l,"base64");for(e=0;e<t.childNodes.length;e++)t.childNodes[e].nodeType===Dn&&(l+=t.childNodes[e].nodeValue.replace(/\s+/g,""));return Buffer.from(l,"base64")}else{if(t.nodeName==="date")return gt(!We(t),'Cannot parse "" as Date.'),new Date(t.childNodes[0].nodeValue);if(t.nodeName==="null")return null;if(t.nodeName==="true")return!0;if(t.nodeName==="false")return!1;throw new Error("Invalid PLIST tag "+t.nodeName)}}}}});var Aa=W(vn=>{"use strict";vn.byteLength=Cf;vn.toByteArray=Af;vn.fromByteArray=Pf;var Ie=[],Se=[],Rf=typeof Uint8Array<"u"?Uint8Array:Array,Bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(wt=0,Ca=Bi.length;wt<Ca;++wt)Ie[wt]=Bi[wt],Se[Bi.charCodeAt(wt)]=wt;var wt,Ca;Se[45]=62;Se[95]=63;function Na(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var o=n===e?0:4-n%4;return[n,o]}function Cf(t){var e=Na(t),n=e[0],o=e[1];return(n+o)*3/4-o}function Nf(t,e,n){return(e+n)*3/4-n}function Af(t){var e,n=Na(t),o=n[0],s=n[1],u=new Rf(Nf(t,o,s)),l=0,p=s>0?o-4:o,f;for(f=0;f<p;f+=4)e=Se[t.charCodeAt(f)]<<18|Se[t.charCodeAt(f+1)]<<12|Se[t.charCodeAt(f+2)]<<6|Se[t.charCodeAt(f+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=e&255;return s===2&&(e=Se[t.charCodeAt(f)]<<2|Se[t.charCodeAt(f+1)]>>4,u[l++]=e&255),s===1&&(e=Se[t.charCodeAt(f)]<<10|Se[t.charCodeAt(f+1)]<<4|Se[t.charCodeAt(f+2)]>>2,u[l++]=e>>8&255,u[l++]=e&255),u}function Of(t){return Ie[t>>18&63]+Ie[t>>12&63]+Ie[t>>6&63]+Ie[t&63]}function If(t,e,n){for(var o,s=[],u=e;u<n;u+=3)o=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(t[u+2]&255),s.push(Of(o));return s.join("")}function Pf(t){for(var e,n=t.length,o=n%3,s=[],u=16383,l=0,p=n-o;l<p;l+=u)s.push(If(t,l,l+u>p?p:l+u));return o===1?(e=t[n-1],s.push(Ie[e>>2]+Ie[e<<4&63]+"==")):o===2&&(e=(t[n-2]<<8)+t[n-1],s.push(Ie[e>>10]+Ie[e>>4&63]+Ie[e<<2&63]+"=")),s.join("")}});var Pe=W((Oa,et)=>{(function(){var t,e,n,o,s,u,l,p={}.hasOwnProperty;t=function(f,...b){var S,g,w,_;if(s(Object.assign))Object.assign.apply(null,arguments);else for(S=0,w=b.length;S<w;S++)if(_=b[S],_!=null)for(g in _)p.call(_,g)&&(f[g]=_[g]);return f},s=function(f){return!!f&&Object.prototype.toString.call(f)==="[object Function]"},u=function(f){var b;return!!f&&((b=typeof f)=="function"||b==="object")},n=function(f){return s(Array.isArray)?Array.isArray(f):Object.prototype.toString.call(f)==="[object Array]"},o=function(f){var b;if(n(f))return!f.length;for(b in f)if(p.call(f,b))return!1;return!0},l=function(f){var b,S;return u(f)&&(S=Object.getPrototypeOf(f))&&(b=S.constructor)&&typeof b=="function"&&b instanceof b&&Function.prototype.toString.call(b)===Function.prototype.toString.call(Object)},e=function(f){return s(f.valueOf)?f.valueOf():f},et.exports.assign=t,et.exports.isFunction=s,et.exports.isObject=u,et.exports.isArray=n,et.exports.isEmpty=o,et.exports.isPlainObject=l,et.exports.getValue=e}).call(Oa)});var ki=W((Ia,Pa)=>{(function(){var t;Pa.exports=t=class{hasFeature(n,o){return!0}createDocumentType(n,o,s){throw new Error("This DOM method is not implemented.")}createDocument(n,o,s){throw new Error("This DOM method is not implemented.")}createHTMLDocument(n){throw new Error("This DOM method is not implemented.")}getFeature(n,o){throw new Error("This DOM method is not implemented.")}}}).call(Ia)});var Fa=W((La,Ma)=>{(function(){var t;Ma.exports=t=class{constructor(){}handleError(n){throw new Error(n)}}}).call(La)});var Ba=W((xa,qa)=>{(function(){var t;qa.exports=t=function(){class e{constructor(o){this.arr=o||[]}item(o){return this.arr[o]||null}contains(o){return this.arr.indexOf(o)!==-1}}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e}.call(this)}).call(xa)});var Wa=W((ka,ja)=>{(function(){var t,e,n;e=Fa(),n=Ba(),ja.exports=t=function(){class o{constructor(){var u;this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new e,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=u=Object.create(this.defaultParams)}getParameter(u){return this.params.hasOwnProperty(u)?this.params[u]:null}canSetParameter(u,l){return!0}setParameter(u,l){return l!=null?this.params[u]=l:delete this.params[u]}}return Object.defineProperty(o.prototype,"parameterNames",{get:function(){return new n(Object.keys(this.defaultParams))}}),o}.call(this)}).call(ka)});var J=W((Ua,za)=>{(function(){za.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(Ua)});var ji=W((Xa,$a)=>{(function(){var t,e,n;t=J(),n=ye(),$a.exports=e=function(){class o{constructor(u,l,p){if(this.parent=u,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),l==null)throw new Error("Missing attribute name. "+this.debugInfo(l));this.name=this.stringify.name(l),this.value=this.stringify.attValue(p),this.type=t.Attribute,this.isId=!1,this.schemaTypeInfo=null}clone(){return Object.create(this)}toString(u){return this.options.writer.attribute(this,this.options.writer.filterOptions(u))}debugInfo(u){return u=u||this.name,u==null?"parent: <"+this.parent.name+">":"attribute: {"+u+"}, parent: <"+this.parent.name+">"}isEqualNode(u){return!(u.namespaceURI!==this.namespaceURI||u.prefix!==this.prefix||u.localName!==this.localName||u.value!==this.value)}}return Object.defineProperty(o.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(o.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(o.prototype,"textContent",{get:function(){return this.value},set:function(s){return this.value=s||""}}),Object.defineProperty(o.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(o.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(o.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(o.prototype,"specified",{get:function(){return!0}}),o}.call(this)}).call(Xa)});var Rn=W((Va,Ha)=>{(function(){var t;Ha.exports=t=function(){class e{constructor(o){this.nodes=o}clone(){return this.nodes=null}getNamedItem(o){return this.nodes[o]}setNamedItem(o){var s;return s=this.nodes[o.nodeName],this.nodes[o.nodeName]=o,s||null}removeNamedItem(o){var s;return s=this.nodes[o],delete this.nodes[o],s||null}item(o){return this.nodes[Object.keys(this.nodes)[o]]||null}getNamedItemNS(o,s){throw new Error("This DOM method is not implemented.")}setNamedItemNS(o){throw new Error("This DOM method is not implemented.")}removeNamedItemNS(o,s){throw new Error("This DOM method is not implemented.")}}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e}.call(this)}).call(Va)});var Cn=W((Ya,Qa)=>{(function(){var t,e,n,o,s,u,l,p,f={}.hasOwnProperty;({isObject:p,isFunction:l,getValue:u}=Pe()),s=ye(),t=J(),e=ji(),o=Rn(),Qa.exports=n=function(){class b extends s{constructor(g,w,_){var E,P,I,M;if(super(g),w==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(w),this.type=t.Element,this.attribs={},this.schemaTypeInfo=null,_!=null&&this.attribute(_),g.type===t.Document&&(this.isRoot=!0,this.documentObject=g,g.rootObject=this,g.children)){for(M=g.children,P=0,I=M.length;P<I;P++)if(E=M[P],E.type===t.DocType){E.name=this.name;break}}}clone(){var g,w,_,E;_=Object.create(this),_.isRoot&&(_.documentObject=null),_.attribs={},E=this.attribs;for(w in E)f.call(E,w)&&(g=E[w],_.attribs[w]=g.clone());return _.children=[],this.children.forEach(function(P){var I;return I=P.clone(),I.parent=_,_.children.push(I)}),_}attribute(g,w){var _,E;if(g!=null&&(g=u(g)),p(g))for(_ in g)f.call(g,_)&&(E=g[_],this.attribute(_,E));else l(w)&&(w=w.apply()),this.options.keepNullAttributes&&w==null?this.attribs[g]=new e(this,g,""):w!=null&&(this.attribs[g]=new e(this,g,w));return this}removeAttribute(g){var w,_,E;if(g==null)throw new Error("Missing attribute name. "+this.debugInfo());if(g=u(g),Array.isArray(g))for(_=0,E=g.length;_<E;_++)w=g[_],delete this.attribs[w];else delete this.attribs[g];return this}toString(g){return this.options.writer.element(this,this.options.writer.filterOptions(g))}att(g,w){return this.attribute(g,w)}a(g,w){return this.attribute(g,w)}getAttribute(g){return this.attribs.hasOwnProperty(g)?this.attribs[g].value:null}setAttribute(g,w){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNode(g){return this.attribs.hasOwnProperty(g)?this.attribs[g]:null}setAttributeNode(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeAttributeNode(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNS(g,w){throw new Error("This DOM method is not implemented."+this.debugInfo())}setAttributeNS(g,w,_){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeAttributeNS(g,w){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNodeNS(g,w){throw new Error("This DOM method is not implemented."+this.debugInfo())}setAttributeNodeNS(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(g,w){throw new Error("This DOM method is not implemented."+this.debugInfo())}hasAttribute(g){return this.attribs.hasOwnProperty(g)}hasAttributeNS(g,w){throw new Error("This DOM method is not implemented."+this.debugInfo())}setIdAttribute(g,w){return this.attribs.hasOwnProperty(g)?this.attribs[g].isId:w}setIdAttributeNS(g,w,_){throw new Error("This DOM method is not implemented."+this.debugInfo())}setIdAttributeNode(g,w){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(g,w){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByClassName(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(g){var w,_,E;if(!super.isEqualNode(g)||g.namespaceURI!==this.namespaceURI||g.prefix!==this.prefix||g.localName!==this.localName||g.attribs.length!==this.attribs.length)return!1;for(w=_=0,E=this.attribs.length-1;0<=E?_<=E:_>=E;w=0<=E?++_:--_)if(!this.attribs[w].isEqualNode(g.attribs[w]))return!1;return!0}}return Object.defineProperty(b.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(b.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(b.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(b.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(b.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(b.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(b.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(b.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new o(this.attribs)),this.attributeMap}}),b}.call(this)}).call(Ya)});var vr=W((Ga,Ka)=>{(function(){var t,e;e=ye(),Ka.exports=t=function(){class n extends e{constructor(s){super(s),this.value=""}clone(){return Object.create(this)}substringData(s,u){throw new Error("This DOM method is not implemented."+this.debugInfo())}appendData(s){throw new Error("This DOM method is not implemented."+this.debugInfo())}insertData(s,u){throw new Error("This DOM method is not implemented."+this.debugInfo())}deleteData(s,u){throw new Error("This DOM method is not implemented."+this.debugInfo())}replaceData(s,u,l){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(s){return!(!super.isEqualNode(s)||s.data!==this.data)}}return Object.defineProperty(n.prototype,"data",{get:function(){return this.value},set:function(o){return this.value=o||""}}),Object.defineProperty(n.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(n.prototype,"textContent",{get:function(){return this.value},set:function(o){return this.value=o||""}}),n}.call(this)}).call(Ga)});var Nn=W((Za,Ja)=>{(function(){var t,e,n;t=J(),n=vr(),Ja.exports=e=class extends n{constructor(s,u){if(super(s),u==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=t.CData,this.value=this.stringify.cdata(u)}clone(){return Object.create(this)}toString(s){return this.options.writer.cdata(this,this.options.writer.filterOptions(s))}}}).call(Za)});var An=W((eu,tu)=>{(function(){var t,e,n;t=J(),e=vr(),tu.exports=n=class extends e{constructor(s,u){if(super(s),u==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=t.Comment,this.value=this.stringify.comment(u)}clone(){return Object.create(this)}toString(s){return this.options.writer.comment(this,this.options.writer.filterOptions(s))}}}).call(eu)});var On=W((ru,nu)=>{(function(){var t,e,n,o;({isObject:o}=Pe()),n=ye(),t=J(),nu.exports=e=class extends n{constructor(u,l,p,f){super(u),o(l)&&({version:l,encoding:p,standalone:f}=l),l||(l="1.0"),this.type=t.Declaration,this.version=this.stringify.xmlVersion(l),p!=null&&(this.encoding=this.stringify.xmlEncoding(p)),f!=null&&(this.standalone=this.stringify.xmlStandalone(f))}toString(u){return this.options.writer.declaration(this,this.options.writer.filterOptions(u))}}}).call(ru)});var In=W((iu,su)=>{(function(){var t,e,n;n=ye(),t=J(),su.exports=e=class extends n{constructor(s,u,l,p,f,b){if(super(s),u==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(l==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(u));if(!p)throw new Error("Missing DTD attribute type. "+this.debugInfo(u));if(!f)throw new Error("Missing DTD attribute default. "+this.debugInfo(u));if(f.indexOf("#")!==0&&(f="#"+f),!f.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(u));if(b&&!f.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(u));this.elementName=this.stringify.name(u),this.type=t.AttributeDeclaration,this.attributeName=this.stringify.name(l),this.attributeType=this.stringify.dtdAttType(p),b&&(this.defaultValue=this.stringify.dtdAttDefault(b)),this.defaultValueType=f}toString(s){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(s))}}}).call(iu)});var Pn=W((ou,au)=>{(function(){var t,e,n,o;({isObject:o}=Pe()),n=ye(),t=J(),au.exports=e=function(){class s extends n{constructor(l,p,f,b){if(super(l),f==null)throw new Error("Missing DTD entity name. "+this.debugInfo(f));if(b==null)throw new Error("Missing DTD entity value. "+this.debugInfo(f));if(this.pe=!!p,this.name=this.stringify.name(f),this.type=t.EntityDeclaration,!o(b))this.value=this.stringify.dtdEntityValue(b),this.internal=!0;else{if(!b.pubID&&!b.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(f));if(b.pubID&&!b.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(f));if(this.internal=!1,b.pubID!=null&&(this.pubID=this.stringify.dtdPubID(b.pubID)),b.sysID!=null&&(this.sysID=this.stringify.dtdSysID(b.sysID)),b.nData!=null&&(this.nData=this.stringify.dtdNData(b.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(f))}}toString(l){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(l))}}return Object.defineProperty(s.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(s.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(s.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(s.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(s.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(s.prototype,"xmlVersion",{get:function(){return null}}),s}.call(this)}).call(ou)});var Ln=W((uu,lu)=>{(function(){var t,e,n;n=ye(),t=J(),lu.exports=e=class extends n{constructor(s,u,l){if(super(s),u==null)throw new Error("Missing DTD element name. "+this.debugInfo());l||(l="(#PCDATA)"),Array.isArray(l)&&(l="("+l.join(",")+")"),this.name=this.stringify.name(u),this.type=t.ElementDeclaration,this.value=this.stringify.dtdElementValue(l)}toString(s){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(s))}}}).call(uu)});var Mn=W((cu,fu)=>{(function(){var t,e,n;n=ye(),t=J(),fu.exports=e=function(){class o extends n{constructor(u,l,p){if(super(u),l==null)throw new Error("Missing DTD notation name. "+this.debugInfo(l));if(!p.pubID&&!p.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(l));this.name=this.stringify.name(l),this.type=t.NotationDeclaration,p.pubID!=null&&(this.pubID=this.stringify.dtdPubID(p.pubID)),p.sysID!=null&&(this.sysID=this.stringify.dtdSysID(p.sysID))}toString(u){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(u))}}return Object.defineProperty(o.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(o.prototype,"systemId",{get:function(){return this.sysID}}),o}.call(this)}).call(cu)});var Fn=W((hu,du)=>{(function(){var t,e,n,o,s,u,l,p,f;({isObject:f}=Pe()),p=ye(),t=J(),e=In(),o=Pn(),n=Ln(),s=Mn(),l=Rn(),du.exports=u=function(){class b extends p{constructor(g,w,_){var E,P,I,M;if(super(g),this.type=t.DocType,g.children){for(M=g.children,P=0,I=M.length;P<I;P++)if(E=M[P],E.type===t.Element){this.name=E.name;break}}this.documentObject=g,f(w)&&({pubID:w,sysID:_}=w),_==null&&([_,w]=[w,_]),w!=null&&(this.pubID=this.stringify.dtdPubID(w)),_!=null&&(this.sysID=this.stringify.dtdSysID(_))}element(g,w){var _;return _=new n(this,g,w),this.children.push(_),this}attList(g,w,_,E,P){var I;return I=new e(this,g,w,_,E,P),this.children.push(I),this}entity(g,w){var _;return _=new o(this,!1,g,w),this.children.push(_),this}pEntity(g,w){var _;return _=new o(this,!0,g,w),this.children.push(_),this}notation(g,w){var _;return _=new s(this,g,w),this.children.push(_),this}toString(g){return this.options.writer.docType(this,this.options.writer.filterOptions(g))}ele(g,w){return this.element(g,w)}att(g,w,_,E,P){return this.attList(g,w,_,E,P)}ent(g,w){return this.entity(g,w)}pent(g,w){return this.pEntity(g,w)}not(g,w){return this.notation(g,w)}up(){return this.root()||this.documentObject}isEqualNode(g){return!(!super.isEqualNode(g)||g.name!==this.name||g.publicId!==this.publicId||g.systemId!==this.systemId)}}return Object.defineProperty(b.prototype,"entities",{get:function(){var S,g,w,_,E;for(_={},E=this.children,g=0,w=E.length;g<w;g++)S=E[g],S.type===t.EntityDeclaration&&!S.pe&&(_[S.name]=S);return new l(_)}}),Object.defineProperty(b.prototype,"notations",{get:function(){var S,g,w,_,E;for(_={},E=this.children,g=0,w=E.length;g<w;g++)S=E[g],S.type===t.NotationDeclaration&&(_[S.name]=S);return new l(_)}}),Object.defineProperty(b.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(b.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(b.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),b}.call(this)}).call(hu)});var xn=W((pu,mu)=>{(function(){var t,e,n;t=J(),e=ye(),mu.exports=n=class extends e{constructor(s,u){if(super(s),u==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=t.Raw,this.value=this.stringify.raw(u)}clone(){return Object.create(this)}toString(s){return this.options.writer.raw(this,this.options.writer.filterOptions(s))}}}).call(pu)});var qn=W((yu,bu)=>{(function(){var t,e,n;t=J(),e=vr(),bu.exports=n=function(){class o extends e{constructor(u,l){if(super(u),l==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=t.Text,this.value=this.stringify.text(l)}clone(){return Object.create(this)}toString(u){return this.options.writer.text(this,this.options.writer.filterOptions(u))}splitText(u){throw new Error("This DOM method is not implemented."+this.debugInfo())}replaceWholeText(u){throw new Error("This DOM method is not implemented."+this.debugInfo())}}return Object.defineProperty(o.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(o.prototype,"wholeText",{get:function(){var s,u,l;for(l="",u=this.previousSibling;u;)l=u.data+l,u=u.previousSibling;for(l+=this.data,s=this.nextSibling;s;)l=l+s.data,s=s.nextSibling;return l}}),o}.call(this)}).call(yu)});var Bn=W((gu,wu)=>{(function(){var t,e,n;t=J(),e=vr(),wu.exports=n=class extends e{constructor(s,u,l){if(super(s),u==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=t.ProcessingInstruction,this.target=this.stringify.insTarget(u),this.name=this.target,l&&(this.value=this.stringify.insValue(l))}clone(){return Object.create(this)}toString(s){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(s))}isEqualNode(s){return!(!super.isEqualNode(s)||s.target!==this.target)}}}).call(gu)});var Wi=W((Su,_u)=>{(function(){var t,e,n;n=ye(),t=J(),_u.exports=e=class extends n{constructor(s){super(s),this.type=t.Dummy}clone(){return Object.create(this)}toString(s){return""}}}).call(Su)});var Du=W((Tu,Eu)=>{(function(){var t;Eu.exports=t=function(){class e{constructor(o){this.nodes=o}clone(){return this.nodes=null}item(o){return this.nodes[o]||null}}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e}.call(this)}).call(Tu)});var Cu=W((vu,Ru)=>{(function(){Ru.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(vu)});var ye=W((Nu,Au)=>{(function(){var t,e,n,o,s,u,l,p,f,b,S,g,w,_,E,P,I,M,z={}.hasOwnProperty,y=[].splice;({isObject:M,isFunction:I,isEmpty:P,getValue:E}=Pe()),p=null,n=null,o=null,s=null,u=null,w=null,_=null,g=null,l=null,e=null,S=null,f=null,t=null,Au.exports=b=function(){class d{constructor(c){this.parent=c,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,p||(p=Cn(),n=Nn(),o=An(),s=On(),u=Fn(),w=xn(),_=qn(),g=Bn(),l=Wi(),e=J(),S=Du(),f=Rn(),t=Cu())}setParent(c){var D,C,h,v,N;for(this.parent=c,c&&(this.options=c.options,this.stringify=c.stringify),v=this.children,N=[],C=0,h=v.length;C<h;C++)D=v[C],N.push(D.setParent(this));return N}element(c,D,C){var h,v,N,L,B,k,K,j,q;if(k=null,D===null&&C==null&&([D,C]=[{},null]),D==null&&(D={}),D=E(D),M(D)||([C,D]=[D,C]),c!=null&&(c=E(c)),Array.isArray(c))for(N=0,K=c.length;N<K;N++)v=c[N],k=this.element(v);else if(I(c))k=this.element(c.apply());else if(M(c)){for(B in c)if(z.call(c,B))if(q=c[B],I(q)&&(q=q.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&B.indexOf(this.stringify.convertAttKey)===0)k=this.attribute(B.substr(this.stringify.convertAttKey.length),q);else if(!this.options.separateArrayItems&&Array.isArray(q)&&P(q))k=this.dummy();else if(M(q)&&P(q))k=this.element(B);else if(!this.options.keepNullNodes&&q==null)k=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(q))for(L=0,j=q.length;L<j;L++)v=q[L],h={},h[B]=v,k=this.element(h);else M(q)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&B.indexOf(this.stringify.convertTextKey)===0?k=this.element(q):(k=this.element(B),k.element(q)):k=this.element(B,q)}else!this.options.keepNullNodes&&C===null?k=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&c.indexOf(this.stringify.convertTextKey)===0?k=this.text(C):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&c.indexOf(this.stringify.convertCDataKey)===0?k=this.cdata(C):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&c.indexOf(this.stringify.convertCommentKey)===0?k=this.comment(C):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&c.indexOf(this.stringify.convertRawKey)===0?k=this.raw(C):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&c.indexOf(this.stringify.convertPIKey)===0?k=this.instruction(c.substr(this.stringify.convertPIKey.length),C):k=this.node(c,D,C);if(k==null)throw new Error("Could not create any elements with: "+c+". "+this.debugInfo());return k}insertBefore(c,D,C){var h,v,N,L,B;if(c?.type)return N=c,L=D,N.setParent(this),L?(v=children.indexOf(L),B=children.splice(v),children.push(N),Array.prototype.push.apply(children,B)):children.push(N),N;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(c));return v=this.parent.children.indexOf(this),B=this.parent.children.splice(v),h=this.parent.element(c,D,C),Array.prototype.push.apply(this.parent.children,B),h}insertAfter(c,D,C){var h,v,N;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(c));return v=this.parent.children.indexOf(this),N=this.parent.children.splice(v+1),h=this.parent.element(c,D,C),Array.prototype.push.apply(this.parent.children,N),h}remove(){var c,D;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return c=this.parent.children.indexOf(this),y.apply(this.parent.children,[c,c-c+1].concat(D=[])),this.parent}node(c,D,C){var h;return c!=null&&(c=E(c)),D||(D={}),D=E(D),M(D)||([C,D]=[D,C]),h=new p(this,c,D),C!=null&&h.text(C),this.children.push(h),h}text(c){var D;return M(c)&&this.element(c),D=new _(this,c),this.children.push(D),this}cdata(c){var D;return D=new n(this,c),this.children.push(D),this}comment(c){var D;return D=new o(this,c),this.children.push(D),this}commentBefore(c){var D,C,h;return C=this.parent.children.indexOf(this),h=this.parent.children.splice(C),D=this.parent.comment(c),Array.prototype.push.apply(this.parent.children,h),this}commentAfter(c){var D,C,h;return C=this.parent.children.indexOf(this),h=this.parent.children.splice(C+1),D=this.parent.comment(c),Array.prototype.push.apply(this.parent.children,h),this}raw(c){var D;return D=new w(this,c),this.children.push(D),this}dummy(){var c;return c=new l(this),c}instruction(c,D){var C,h,v,N,L;if(c!=null&&(c=E(c)),D!=null&&(D=E(D)),Array.isArray(c))for(N=0,L=c.length;N<L;N++)C=c[N],this.instruction(C);else if(M(c))for(C in c)z.call(c,C)&&(h=c[C],this.instruction(C,h));else I(D)&&(D=D.apply()),v=new g(this,c,D),this.children.push(v);return this}instructionBefore(c,D){var C,h,v;return h=this.parent.children.indexOf(this),v=this.parent.children.splice(h),C=this.parent.instruction(c,D),Array.prototype.push.apply(this.parent.children,v),this}instructionAfter(c,D){var C,h,v;return h=this.parent.children.indexOf(this),v=this.parent.children.splice(h+1),C=this.parent.instruction(c,D),Array.prototype.push.apply(this.parent.children,v),this}declaration(c,D,C){var h,v;return h=this.document(),v=new s(h,c,D,C),h.children.length===0?h.children.unshift(v):h.children[0].type===e.Declaration?h.children[0]=v:h.children.unshift(v),h.root()||h}dtd(c,D){var C,h,v,N,L,B,k,K,j,q;for(h=this.document(),v=new u(h,c,D),j=h.children,N=L=0,k=j.length;L<k;N=++L)if(C=j[N],C.type===e.DocType)return h.children[N]=v,v;for(q=h.children,N=B=0,K=q.length;B<K;N=++B)if(C=q[N],C.isRoot)return h.children.splice(N,0,v),v;return h.children.push(v),v}up(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent}root(){var c;for(c=this;c;){if(c.type===e.Document)return c.rootObject;if(c.isRoot)return c;c=c.parent}}document(){var c;for(c=this;c;){if(c.type===e.Document)return c;c=c.parent}}end(c){return this.document().end(c)}prev(){var c;if(c=this.parent.children.indexOf(this),c<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[c-1]}next(){var c;if(c=this.parent.children.indexOf(this),c===-1||c===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[c+1]}importDocument(c){var D,C,h,v,N;if(C=c.root().clone(),C.parent=this,C.isRoot=!1,this.children.push(C),this.type===e.Document&&(C.isRoot=!0,C.documentObject=this,this.rootObject=C,this.children)){for(N=this.children,h=0,v=N.length;h<v;h++)if(D=N[h],D.type===e.DocType){D.name=C.name;break}}return this}debugInfo(c){var D,C;return c=c||this.name,c==null&&!((D=this.parent)!=null&&D.name)?"":c==null?"parent: <"+this.parent.name+">":(C=this.parent)!=null&&C.name?"node: <"+c+">, parent: <"+this.parent.name+">":"node: <"+c+">"}ele(c,D,C){return this.element(c,D,C)}nod(c,D,C){return this.node(c,D,C)}txt(c){return this.text(c)}dat(c){return this.cdata(c)}com(c){return this.comment(c)}ins(c,D){return this.instruction(c,D)}doc(){return this.document()}dec(c,D,C){return this.declaration(c,D,C)}e(c,D,C){return this.element(c,D,C)}n(c,D,C){return this.node(c,D,C)}t(c){return this.text(c)}d(c){return this.cdata(c)}c(c){return this.comment(c)}r(c){return this.raw(c)}i(c,D){return this.instruction(c,D)}u(){return this.up()}importXMLBuilder(c){return this.importDocument(c)}attribute(c,D){throw new Error("attribute() applies to element nodes only.")}att(c,D){return this.attribute(c,D)}a(c,D){return this.attribute(c,D)}removeAttribute(c){throw new Error("attribute() applies to element nodes only.")}replaceChild(c,D){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeChild(c){throw new Error("This DOM method is not implemented."+this.debugInfo())}appendChild(c){throw new Error("This DOM method is not implemented."+this.debugInfo())}hasChildNodes(){return this.children.length!==0}cloneNode(c){throw new Error("This DOM method is not implemented."+this.debugInfo())}normalize(){throw new Error("This DOM method is not implemented."+this.debugInfo())}isSupported(c,D){return!0}hasAttributes(){return this.attribs.length!==0}compareDocumentPosition(c){var D,C;return D=this,D===c?0:this.document()!==c.document()?(C=t.Disconnected|t.ImplementationSpecific,Math.random()<.5?C|=t.Preceding:C|=t.Following,C):D.isAncestor(c)?t.Contains|t.Preceding:D.isDescendant(c)?t.Contains|t.Following:D.isPreceding(c)?t.Preceding:t.Following}isSameNode(c){throw new Error("This DOM method is not implemented."+this.debugInfo())}lookupPrefix(c){throw new Error("This DOM method is not implemented."+this.debugInfo())}isDefaultNamespace(c){throw new Error("This DOM method is not implemented."+this.debugInfo())}lookupNamespaceURI(c){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(c){var D,C,h;if(c.nodeType!==this.nodeType||c.children.length!==this.children.length)return!1;for(D=C=0,h=this.children.length-1;0<=h?C<=h:C>=h;D=0<=h?++C:--C)if(!this.children[D].isEqualNode(c.children[D]))return!1;return!0}getFeature(c,D){throw new Error("This DOM method is not implemented."+this.debugInfo())}setUserData(c,D,C){throw new Error("This DOM method is not implemented."+this.debugInfo())}getUserData(c){throw new Error("This DOM method is not implemented."+this.debugInfo())}contains(c){return c?c===this||this.isDescendant(c):!1}isDescendant(c){var D,C,h,v,N;for(N=this.children,h=0,v=N.length;h<v;h++)if(D=N[h],c===D||(C=D.isDescendant(c),C))return!0;return!1}isAncestor(c){return c.isDescendant(this)}isPreceding(c){var D,C;return D=this.treePosition(c),C=this.treePosition(this),D===-1||C===-1?!1:D<C}isFollowing(c){var D,C;return D=this.treePosition(c),C=this.treePosition(this),D===-1||C===-1?!1:D>C}treePosition(c){var D,C;return C=0,D=!1,this.foreachTreeNode(this.document(),function(h){if(C++,!D&&h===c)return D=!0}),D?C:-1}foreachTreeNode(c,D){var C,h,v,N,L;for(c||(c=this.document()),N=c.children,h=0,v=N.length;h<v;h++){if(C=N[h],L=D(C))return L;if(L=this.foreachTreeNode(C,D),L)return L}}}return Object.defineProperty(d.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(d.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(d.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(d.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(d.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new S(this.children)),this.childNodeList}}),Object.defineProperty(d.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(d.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(d.prototype,"previousSibling",{get:function(){var R;return R=this.parent.children.indexOf(this),this.parent.children[R-1]||null}}),Object.defineProperty(d.prototype,"nextSibling",{get:function(){var R;return R=this.parent.children.indexOf(this),this.parent.children[R+1]||null}}),Object.defineProperty(d.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(d.prototype,"textContent",{get:function(){var R,c,D,C,h;if(this.nodeType===e.Element||this.nodeType===e.DocumentFragment){for(h="",C=this.children,c=0,D=C.length;c<D;c++)R=C[c],R.textContent&&(h+=R.textContent);return h}else return null},set:function(R){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),d}.call(this)}).call(Nu)});var Ui=W((Ou,Iu)=>{(function(){var t,e={}.hasOwnProperty;Iu.exports=t=function(){class n{constructor(s){var u,l,p;this.assertLegalChar=this.assertLegalChar.bind(this),this.assertLegalName=this.assertLegalName.bind(this),s||(s={}),this.options=s,this.options.version||(this.options.version="1.0"),l=s.stringify||{};for(u in l)e.call(l,u)&&(p=l[u],this[u]=p)}name(s){return this.options.noValidation?s:this.assertLegalName(""+s||"")}text(s){return this.options.noValidation?s:this.assertLegalChar(this.textEscape(""+s||""))}cdata(s){return this.options.noValidation?s:(s=""+s||"",s=s.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(s))}comment(s){if(this.options.noValidation)return s;if(s=""+s||"",s.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+s);return this.assertLegalChar(s)}raw(s){return this.options.noValidation?s:""+s||""}attValue(s){return this.options.noValidation?s:this.assertLegalChar(this.attEscape(s=""+s||""))}insTarget(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")}insValue(s){if(this.options.noValidation)return s;if(s=""+s||"",s.match(/\?>/))throw new Error("Invalid processing instruction value: "+s);return this.assertLegalChar(s)}xmlVersion(s){if(this.options.noValidation)return s;if(s=""+s||"",!s.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+s);return s}xmlEncoding(s){if(this.options.noValidation)return s;if(s=""+s||"",!s.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+s);return this.assertLegalChar(s)}xmlStandalone(s){return this.options.noValidation?s:s?"yes":"no"}dtdPubID(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")}dtdSysID(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")}dtdElementValue(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")}dtdAttType(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")}dtdAttDefault(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")}dtdEntityValue(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")}dtdNData(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")}assertLegalChar(s){var u,l;if(this.options.noValidation)return s;if(this.options.version==="1.0"){if(u=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,this.options.invalidCharReplacement!==void 0)s=s.replace(u,this.options.invalidCharReplacement);else if(l=s.match(u))throw new Error(`Invalid character in string: ${s} at index ${l.index}`)}else if(this.options.version==="1.1"){if(u=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,this.options.invalidCharReplacement!==void 0)s=s.replace(u,this.options.invalidCharReplacement);else if(l=s.match(u))throw new Error(`Invalid character in string: ${s} at index ${l.index}`)}return s}assertLegalName(s){var u;if(this.options.noValidation)return s;if(s=this.assertLegalChar(s),u=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!s.match(u))throw new Error(`Invalid character in name: ${s}`);return s}textEscape(s){var u;return this.options.noValidation?s:(u=this.options.noDoubleEncoding?/(?!&(lt|gt|amp|apos|quot);)&/g:/&/g,s.replace(u,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))}attEscape(s){var u;return this.options.noValidation?s:(u=this.options.noDoubleEncoding?/(?!&(lt|gt|amp|apos|quot);)&/g:/&/g,s.replace(u,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))}}return n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n}.call(this)}).call(Ou)});var Rr=W((Pu,Lu)=>{(function(){Lu.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(Pu)});var zi=W((Mu,Fu)=>{(function(){var t,e,n,o,s,u,l,p,f,b,S,g,w,_,E,P,I,M={}.hasOwnProperty;({assign:I}=Pe()),t=J(),f=On(),b=Fn(),n=Nn(),o=An(),g=Cn(),_=xn(),E=qn(),w=Bn(),S=Wi(),s=In(),u=Ln(),l=Pn(),p=Mn(),e=Rr(),Fu.exports=P=class{constructor(y){var d,R,c;y||(y={}),this.options=y,R=y.writer||{};for(d in R)M.call(R,d)&&(c=R[d],this["_"+d]=this[d],this[d]=c)}filterOptions(y){var d,R,c,D,C,h,v,N,L;return y||(y={}),y=I({},this.options,y),d={writer:this},d.pretty=y.pretty||!1,d.allowEmpty=y.allowEmpty||!1,d.indent=(R=y.indent)!=null?R:"  ",d.newline=(c=y.newline)!=null?c:`
`,d.offset=(D=y.offset)!=null?D:0,d.width=(C=y.width)!=null?C:0,d.dontPrettyTextNodes=(h=(v=y.dontPrettyTextNodes)!=null?v:y.dontprettytextnodes)!=null?h:0,d.spaceBeforeSlash=(N=(L=y.spaceBeforeSlash)!=null?L:y.spacebeforeslash)!=null?N:"",d.spaceBeforeSlash===!0&&(d.spaceBeforeSlash=" "),d.suppressPrettyCount=0,d.user={},d.state=e.None,d}indent(y,d,R){var c;return!d.pretty||d.suppressPrettyCount?"":d.pretty&&(c=(R||0)+d.offset+1,c>0)?new Array(c).join(d.indent):""}endline(y,d,R){return!d.pretty||d.suppressPrettyCount?"":d.newline}attribute(y,d,R){var c;return this.openAttribute(y,d,R),d.pretty&&d.width>0?c=y.name+'="'+y.value+'"':c=" "+y.name+'="'+y.value+'"',this.closeAttribute(y,d,R),c}cdata(y,d,R){var c;return this.openNode(y,d,R),d.state=e.OpenTag,c=this.indent(y,d,R)+"<![CDATA[",d.state=e.InsideTag,c+=y.value,d.state=e.CloseTag,c+="]]>"+this.endline(y,d,R),d.state=e.None,this.closeNode(y,d,R),c}comment(y,d,R){var c;return this.openNode(y,d,R),d.state=e.OpenTag,c=this.indent(y,d,R)+"<!-- ",d.state=e.InsideTag,c+=y.value,d.state=e.CloseTag,c+=" -->"+this.endline(y,d,R),d.state=e.None,this.closeNode(y,d,R),c}declaration(y,d,R){var c;return this.openNode(y,d,R),d.state=e.OpenTag,c=this.indent(y,d,R)+"<?xml",d.state=e.InsideTag,c+=' version="'+y.version+'"',y.encoding!=null&&(c+=' encoding="'+y.encoding+'"'),y.standalone!=null&&(c+=' standalone="'+y.standalone+'"'),d.state=e.CloseTag,c+=d.spaceBeforeSlash+"?>",c+=this.endline(y,d,R),d.state=e.None,this.closeNode(y,d,R),c}docType(y,d,R){var c,D,C,h,v;if(R||(R=0),this.openNode(y,d,R),d.state=e.OpenTag,h=this.indent(y,d,R),h+="<!DOCTYPE "+y.root().name,y.pubID&&y.sysID?h+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.sysID&&(h+=' SYSTEM "'+y.sysID+'"'),y.children.length>0){for(h+=" [",h+=this.endline(y,d,R),d.state=e.InsideTag,v=y.children,D=0,C=v.length;D<C;D++)c=v[D],h+=this.writeChildNode(c,d,R+1);d.state=e.CloseTag,h+="]"}return d.state=e.CloseTag,h+=d.spaceBeforeSlash+">",h+=this.endline(y,d,R),d.state=e.None,this.closeNode(y,d,R),h}element(y,d,R){var c,D,C,h,v,N,L,B,k,K,j,q,Z,nt,it,Ue,st,St,ze;if(R||(R=0),q=!1,this.openNode(y,d,R),d.state=e.OpenTag,Z=this.indent(y,d,R)+"<"+y.name,d.pretty&&d.width>0){B=Z.length,it=y.attribs;for(j in it)M.call(it,j)&&(c=it[j],nt=this.attribute(c,d,R),D=nt.length,B+D>d.width?(ze=this.indent(y,d,R+1)+nt,Z+=this.endline(y,d,R)+ze,B=ze.length):(ze=" "+nt,Z+=ze,B+=ze.length))}else{Ue=y.attribs;for(j in Ue)M.call(Ue,j)&&(c=Ue[j],Z+=this.attribute(c,d,R))}if(h=y.children.length,v=h===0?null:y.children[0],h===0||y.children.every(function(_t){return(_t.type===t.Text||_t.type===t.Raw||_t.type===t.CData)&&_t.value===""}))d.allowEmpty?(Z+=">",d.state=e.CloseTag,Z+="</"+y.name+">"+this.endline(y,d,R)):(d.state=e.CloseTag,Z+=d.spaceBeforeSlash+"/>"+this.endline(y,d,R));else if(d.pretty&&h===1&&(v.type===t.Text||v.type===t.Raw||v.type===t.CData)&&v.value!=null)Z+=">",d.state=e.InsideTag,d.suppressPrettyCount++,q=!0,Z+=this.writeChildNode(v,d,R+1),d.suppressPrettyCount--,q=!1,d.state=e.CloseTag,Z+="</"+y.name+">"+this.endline(y,d,R);else{if(d.dontPrettyTextNodes){for(st=y.children,N=0,k=st.length;N<k;N++)if(C=st[N],(C.type===t.Text||C.type===t.Raw||C.type===t.CData)&&C.value!=null){d.suppressPrettyCount++,q=!0;break}}for(Z+=">"+this.endline(y,d,R),d.state=e.InsideTag,St=y.children,L=0,K=St.length;L<K;L++)C=St[L],Z+=this.writeChildNode(C,d,R+1);d.state=e.CloseTag,Z+=this.indent(y,d,R)+"</"+y.name+">",q&&d.suppressPrettyCount--,Z+=this.endline(y,d,R),d.state=e.None}return this.closeNode(y,d,R),Z}writeChildNode(y,d,R){switch(y.type){case t.CData:return this.cdata(y,d,R);case t.Comment:return this.comment(y,d,R);case t.Element:return this.element(y,d,R);case t.Raw:return this.raw(y,d,R);case t.Text:return this.text(y,d,R);case t.ProcessingInstruction:return this.processingInstruction(y,d,R);case t.Dummy:return"";case t.Declaration:return this.declaration(y,d,R);case t.DocType:return this.docType(y,d,R);case t.AttributeDeclaration:return this.dtdAttList(y,d,R);case t.ElementDeclaration:return this.dtdElement(y,d,R);case t.EntityDeclaration:return this.dtdEntity(y,d,R);case t.NotationDeclaration:return this.dtdNotation(y,d,R);default:throw new Error("Unknown XML node type: "+y.constructor.name)}}processingInstruction(y,d,R){var c;return this.openNode(y,d,R),d.state=e.OpenTag,c=this.indent(y,d,R)+"<?",d.state=e.InsideTag,c+=y.target,y.value&&(c+=" "+y.value),d.state=e.CloseTag,c+=d.spaceBeforeSlash+"?>",c+=this.endline(y,d,R),d.state=e.None,this.closeNode(y,d,R),c}raw(y,d,R){var c;return this.openNode(y,d,R),d.state=e.OpenTag,c=this.indent(y,d,R),d.state=e.InsideTag,c+=y.value,d.state=e.CloseTag,c+=this.endline(y,d,R),d.state=e.None,this.closeNode(y,d,R),c}text(y,d,R){var c;return this.openNode(y,d,R),d.state=e.OpenTag,c=this.indent(y,d,R),d.state=e.InsideTag,c+=y.value,d.state=e.CloseTag,c+=this.endline(y,d,R),d.state=e.None,this.closeNode(y,d,R),c}dtdAttList(y,d,R){var c;return this.openNode(y,d,R),d.state=e.OpenTag,c=this.indent(y,d,R)+"<!ATTLIST",d.state=e.InsideTag,c+=" "+y.elementName+" "+y.attributeName+" "+y.attributeType,y.defaultValueType!=="#DEFAULT"&&(c+=" "+y.defaultValueType),y.defaultValue&&(c+=' "'+y.defaultValue+'"'),d.state=e.CloseTag,c+=d.spaceBeforeSlash+">"+this.endline(y,d,R),d.state=e.None,this.closeNode(y,d,R),c}dtdElement(y,d,R){var c;return this.openNode(y,d,R),d.state=e.OpenTag,c=this.indent(y,d,R)+"<!ELEMENT",d.state=e.InsideTag,c+=" "+y.name+" "+y.value,d.state=e.CloseTag,c+=d.spaceBeforeSlash+">"+this.endline(y,d,R),d.state=e.None,this.closeNode(y,d,R),c}dtdEntity(y,d,R){var c;return this.openNode(y,d,R),d.state=e.OpenTag,c=this.indent(y,d,R)+"<!ENTITY",d.state=e.InsideTag,y.pe&&(c+=" %"),c+=" "+y.name,y.value?c+=' "'+y.value+'"':(y.pubID&&y.sysID?c+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.sysID&&(c+=' SYSTEM "'+y.sysID+'"'),y.nData&&(c+=" NDATA "+y.nData)),d.state=e.CloseTag,c+=d.spaceBeforeSlash+">"+this.endline(y,d,R),d.state=e.None,this.closeNode(y,d,R),c}dtdNotation(y,d,R){var c;return this.openNode(y,d,R),d.state=e.OpenTag,c=this.indent(y,d,R)+"<!NOTATION",d.state=e.InsideTag,c+=" "+y.name,y.pubID&&y.sysID?c+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.pubID?c+=' PUBLIC "'+y.pubID+'"':y.sysID&&(c+=' SYSTEM "'+y.sysID+'"'),d.state=e.CloseTag,c+=d.spaceBeforeSlash+">"+this.endline(y,d,R),d.state=e.None,this.closeNode(y,d,R),c}openNode(y,d,R){}closeNode(y,d,R){}openAttribute(y,d,R){}closeAttribute(y,d,R){}}}).call(Mu)});var kn=W((xu,qu)=>{(function(){var t,e;e=zi(),qu.exports=t=class extends e{constructor(o){super(o)}document(o,s){var u,l,p,f,b;for(s=this.filterOptions(s),f="",b=o.children,l=0,p=b.length;l<p;l++)u=b[l],f+=this.writeChildNode(u,s,0);return s.pretty&&f.slice(-s.newline.length)===s.newline&&(f=f.slice(0,-s.newline.length)),f}}}).call(xu)});var Xi=W((Bu,ku)=>{(function(){var t,e,n,o,s,u,l,p;({isPlainObject:p}=Pe()),n=ki(),e=Wa(),s=ye(),t=J(),l=Ui(),u=kn(),ku.exports=o=function(){class f extends s{constructor(S){super(null),this.name="#document",this.type=t.Document,this.documentURI=null,this.domConfig=new e,S||(S={}),S.writer||(S.writer=new u),this.options=S,this.stringify=new l(S)}end(S){var g;return g={},S?p(S)&&(g=S,S=this.options.writer):S=this.options.writer,S.document(this,S.filterOptions(g))}toString(S){return this.options.writer.document(this,this.options.writer.filterOptions(S))}createElement(S){throw new Error("This DOM method is not implemented."+this.debugInfo())}createDocumentFragment(){throw new Error("This DOM method is not implemented."+this.debugInfo())}createTextNode(S){throw new Error("This DOM method is not implemented."+this.debugInfo())}createComment(S){throw new Error("This DOM method is not implemented."+this.debugInfo())}createCDATASection(S){throw new Error("This DOM method is not implemented."+this.debugInfo())}createProcessingInstruction(S,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}createAttribute(S){throw new Error("This DOM method is not implemented."+this.debugInfo())}createEntityReference(S){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(S){throw new Error("This DOM method is not implemented."+this.debugInfo())}importNode(S,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}createElementNS(S,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}createAttributeNS(S,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(S,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementById(S){throw new Error("This DOM method is not implemented."+this.debugInfo())}adoptNode(S){throw new Error("This DOM method is not implemented."+this.debugInfo())}normalizeDocument(){throw new Error("This DOM method is not implemented."+this.debugInfo())}renameNode(S,g,w){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByClassName(S){throw new Error("This DOM method is not implemented."+this.debugInfo())}createEvent(S){throw new Error("This DOM method is not implemented."+this.debugInfo())}createRange(){throw new Error("This DOM method is not implemented."+this.debugInfo())}createNodeIterator(S,g,w){throw new Error("This DOM method is not implemented."+this.debugInfo())}createTreeWalker(S,g,w){throw new Error("This DOM method is not implemented."+this.debugInfo())}}return Object.defineProperty(f.prototype,"implementation",{value:new n}),Object.defineProperty(f.prototype,"doctype",{get:function(){var b,S,g,w;for(w=this.children,S=0,g=w.length;S<g;S++)if(b=w[S],b.type===t.DocType)return b;return null}}),Object.defineProperty(f.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(f.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(f.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(f.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].encoding:null}}),Object.defineProperty(f.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(f.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(f.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(f.prototype,"origin",{get:function(){return null}}),Object.defineProperty(f.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(f.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(f.prototype,"contentType",{get:function(){return null}}),f}.call(this)}).call(Bu)});var Uu=W((ju,Wu)=>{(function(){var t,e,n,o,s,u,l,p,f,b,S,g,w,_,E,P,I,M,z,y,d,R,c,D={}.hasOwnProperty;({isObject:R,isFunction:d,isPlainObject:c,getValue:y}=Pe()),t=J(),g=Xi(),_=Cn(),o=Nn(),s=An(),P=xn(),z=qn(),E=Bn(),b=On(),S=Fn(),u=In(),p=Pn(),l=Ln(),f=Mn(),n=ji(),M=Ui(),I=kn(),e=Rr(),Wu.exports=w=class{constructor(h,v,N){var L;this.name="?xml",this.type=t.Document,h||(h={}),L={},h.writer?c(h.writer)&&(L=h.writer,h.writer=new I):h.writer=new I,this.options=h,this.writer=h.writer,this.writerOptions=this.writer.filterOptions(L),this.stringify=new M(h),this.onDataCallback=v||function(){},this.onEndCallback=N||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}createChildNode(h){var v,N,L,B,k,K,j,q;switch(h.type){case t.CData:this.cdata(h.value);break;case t.Comment:this.comment(h.value);break;case t.Element:L={},j=h.attribs;for(N in j)D.call(j,N)&&(v=j[N],L[N]=v.value);this.node(h.name,L);break;case t.Dummy:this.dummy();break;case t.Raw:this.raw(h.value);break;case t.Text:this.text(h.value);break;case t.ProcessingInstruction:this.instruction(h.target,h.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+h.constructor.name)}for(q=h.children,k=0,K=q.length;k<K;k++)B=q[k],this.createChildNode(B),B.type===t.Element&&this.up();return this}dummy(){return this}node(h,v,N){if(h==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(h));return this.openCurrent(),h=y(h),v==null&&(v={}),v=y(v),R(v)||([N,v]=[v,N]),this.currentNode=new _(this,h,v),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,N!=null&&this.text(N),this}element(h,v,N){var L,B,k,K,j,q;if(this.currentNode&&this.currentNode.type===t.DocType)this.dtdElement(...arguments);else if(Array.isArray(h)||R(h)||d(h))for(K=this.options.noValidation,this.options.noValidation=!0,q=new g(this.options).element("TEMP_ROOT"),q.element(h),this.options.noValidation=K,j=q.children,B=0,k=j.length;B<k;B++)L=j[B],this.createChildNode(L),L.type===t.Element&&this.up();else this.node(h,v,N);return this}attribute(h,v){var N,L;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(h));if(h!=null&&(h=y(h)),R(h))for(N in h)D.call(h,N)&&(L=h[N],this.attribute(N,L));else d(v)&&(v=v.apply()),this.options.keepNullAttributes&&v==null?this.currentNode.attribs[h]=new n(this,h,""):v!=null&&(this.currentNode.attribs[h]=new n(this,h,v));return this}text(h){var v;return this.openCurrent(),v=new z(this,h),this.onData(this.writer.text(v,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}cdata(h){var v;return this.openCurrent(),v=new o(this,h),this.onData(this.writer.cdata(v,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}comment(h){var v;return this.openCurrent(),v=new s(this,h),this.onData(this.writer.comment(v,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}raw(h){var v;return this.openCurrent(),v=new P(this,h),this.onData(this.writer.raw(v,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}instruction(h,v){var N,L,B,k,K;if(this.openCurrent(),h!=null&&(h=y(h)),v!=null&&(v=y(v)),Array.isArray(h))for(N=0,k=h.length;N<k;N++)L=h[N],this.instruction(L);else if(R(h))for(L in h)D.call(h,L)&&(B=h[L],this.instruction(L,B));else d(v)&&(v=v.apply()),K=new E(this,h,v),this.onData(this.writer.processingInstruction(K,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this}declaration(h,v,N){var L;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return L=new b(this,h,v,N),this.onData(this.writer.declaration(L,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}doctype(h,v,N){if(this.openCurrent(),h==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new S(this,v,N),this.currentNode.rootNodeName=h,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this}dtdElement(h,v){var N;return this.openCurrent(),N=new l(this,h,v),this.onData(this.writer.dtdElement(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}attList(h,v,N,L,B){var k;return this.openCurrent(),k=new u(this,h,v,N,L,B),this.onData(this.writer.dtdAttList(k,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}entity(h,v){var N;return this.openCurrent(),N=new p(this,!1,h,v),this.onData(this.writer.dtdEntity(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}pEntity(h,v){var N;return this.openCurrent(),N=new p(this,!0,h,v),this.onData(this.writer.dtdEntity(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}notation(h,v){var N;return this.openCurrent(),N=new f(this,h,v),this.onData(this.writer.dtdNotation(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}up(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this}end(){for(;this.currentLevel>=0;)this.up();return this.onEnd()}openCurrent(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)}openNode(h){var v,N,L,B;if(!h.isOpen){if(!this.root&&this.currentLevel===0&&h.type===t.Element&&(this.root=h),N="",h.type===t.Element){this.writerOptions.state=e.OpenTag,N=this.writer.indent(h,this.writerOptions,this.currentLevel)+"<"+h.name,B=h.attribs;for(L in B)D.call(B,L)&&(v=B[L],N+=this.writer.attribute(v,this.writerOptions,this.currentLevel));N+=(h.children?">":"/>")+this.writer.endline(h,this.writerOptions,this.currentLevel),this.writerOptions.state=e.InsideTag}else this.writerOptions.state=e.OpenTag,N=this.writer.indent(h,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+h.rootNodeName,h.pubID&&h.sysID?N+=' PUBLIC "'+h.pubID+'" "'+h.sysID+'"':h.sysID&&(N+=' SYSTEM "'+h.sysID+'"'),h.children?(N+=" [",this.writerOptions.state=e.InsideTag):(this.writerOptions.state=e.CloseTag,N+=">"),N+=this.writer.endline(h,this.writerOptions,this.currentLevel);return this.onData(N,this.currentLevel),h.isOpen=!0}}closeNode(h){var v;if(!h.isClosed)return v="",this.writerOptions.state=e.CloseTag,h.type===t.Element?v=this.writer.indent(h,this.writerOptions,this.currentLevel)+"</"+h.name+">"+this.writer.endline(h,this.writerOptions,this.currentLevel):v=this.writer.indent(h,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(h,this.writerOptions,this.currentLevel),this.writerOptions.state=e.None,this.onData(v,this.currentLevel),h.isClosed=!0}onData(h,v){return this.documentStarted=!0,this.onDataCallback(h,v+1)}onEnd(){return this.documentCompleted=!0,this.onEndCallback()}debugInfo(h){return h==null?"":"node: <"+h+">"}ele(){return this.element(...arguments)}nod(h,v,N){return this.node(h,v,N)}txt(h){return this.text(h)}dat(h){return this.cdata(h)}com(h){return this.comment(h)}ins(h,v){return this.instruction(h,v)}dec(h,v,N){return this.declaration(h,v,N)}dtd(h,v,N){return this.doctype(h,v,N)}e(h,v,N){return this.element(h,v,N)}n(h,v,N){return this.node(h,v,N)}t(h){return this.text(h)}d(h){return this.cdata(h)}c(h){return this.comment(h)}r(h){return this.raw(h)}i(h,v){return this.instruction(h,v)}att(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList(...arguments):this.attribute(...arguments)}a(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList(...arguments):this.attribute(...arguments)}ent(h,v){return this.entity(h,v)}pent(h,v){return this.pEntity(h,v)}not(h,v){return this.notation(h,v)}}}).call(ju)});var $u=W((zu,Xu)=>{(function(){var t,e,n,o,s={}.hasOwnProperty;t=J(),o=zi(),e=Rr(),Xu.exports=n=class extends o{constructor(l,p){super(p),this.stream=l}endline(l,p,f){return l.isLastRootNode&&p.state===e.CloseTag?"":super.endline(l,p,f)}document(l,p){var f,b,S,g,w,_,E,P,I;for(E=l.children,b=S=0,w=E.length;S<w;b=++S)f=E[b],f.isLastRootNode=b===l.children.length-1;for(p=this.filterOptions(p),P=l.children,I=[],g=0,_=P.length;g<_;g++)f=P[g],I.push(this.writeChildNode(f,p,0));return I}cdata(l,p,f){return this.stream.write(super.cdata(l,p,f))}comment(l,p,f){return this.stream.write(super.comment(l,p,f))}declaration(l,p,f){return this.stream.write(super.declaration(l,p,f))}docType(l,p,f){var b,S,g,w;if(f||(f=0),this.openNode(l,p,f),p.state=e.OpenTag,this.stream.write(this.indent(l,p,f)),this.stream.write("<!DOCTYPE "+l.root().name),l.pubID&&l.sysID?this.stream.write(' PUBLIC "'+l.pubID+'" "'+l.sysID+'"'):l.sysID&&this.stream.write(' SYSTEM "'+l.sysID+'"'),l.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(l,p,f)),p.state=e.InsideTag,w=l.children,S=0,g=w.length;S<g;S++)b=w[S],this.writeChildNode(b,p,f+1);p.state=e.CloseTag,this.stream.write("]")}return p.state=e.CloseTag,this.stream.write(p.spaceBeforeSlash+">"),this.stream.write(this.endline(l,p,f)),p.state=e.None,this.closeNode(l,p,f)}element(l,p,f){var b,S,g,w,_,E,P,I,M,z,y,d,R,c,D,C;if(f||(f=0),this.openNode(l,p,f),p.state=e.OpenTag,y=this.indent(l,p,f)+"<"+l.name,p.pretty&&p.width>0){P=y.length,R=l.attribs;for(M in R)s.call(R,M)&&(b=R[M],d=this.attribute(b,p,f),S=d.length,P+S>p.width?(C=this.indent(l,p,f+1)+d,y+=this.endline(l,p,f)+C,P=C.length):(C=" "+d,y+=C,P+=C.length))}else{c=l.attribs;for(M in c)s.call(c,M)&&(b=c[M],y+=this.attribute(b,p,f))}if(this.stream.write(y),w=l.children.length,_=w===0?null:l.children[0],w===0||l.children.every(function(h){return(h.type===t.Text||h.type===t.Raw||h.type===t.CData)&&h.value===""}))p.allowEmpty?(this.stream.write(">"),p.state=e.CloseTag,this.stream.write("</"+l.name+">")):(p.state=e.CloseTag,this.stream.write(p.spaceBeforeSlash+"/>"));else if(p.pretty&&w===1&&(_.type===t.Text||_.type===t.Raw||_.type===t.CData)&&_.value!=null)this.stream.write(">"),p.state=e.InsideTag,p.suppressPrettyCount++,z=!0,this.writeChildNode(_,p,f+1),p.suppressPrettyCount--,z=!1,p.state=e.CloseTag,this.stream.write("</"+l.name+">");else{for(this.stream.write(">"+this.endline(l,p,f)),p.state=e.InsideTag,D=l.children,E=0,I=D.length;E<I;E++)g=D[E],this.writeChildNode(g,p,f+1);p.state=e.CloseTag,this.stream.write(this.indent(l,p,f)+"</"+l.name+">")}return this.stream.write(this.endline(l,p,f)),p.state=e.None,this.closeNode(l,p,f)}processingInstruction(l,p,f){return this.stream.write(super.processingInstruction(l,p,f))}raw(l,p,f){return this.stream.write(super.raw(l,p,f))}text(l,p,f){return this.stream.write(super.text(l,p,f))}dtdAttList(l,p,f){return this.stream.write(super.dtdAttList(l,p,f))}dtdElement(l,p,f){return this.stream.write(super.dtdElement(l,p,f))}dtdEntity(l,p,f){return this.stream.write(super.dtdEntity(l,p,f))}dtdNotation(l,p,f){return this.stream.write(super.dtdNotation(l,p,f))}}}).call(zu)});var Hu=W((Vu,tt)=>{(function(){var t,e,n,o,s,u,l,p,f;({assign:p,isFunction:f}=Pe()),n=ki(),o=Xi(),s=Uu(),l=kn(),u=$u(),t=J(),e=Rr(),tt.exports.create=function(b,S,g,w){var _,E;if(b==null)throw new Error("Root element needs a name.");return w=p({},S,g,w),_=new o(w),E=_.element(b),w.headless||(_.declaration(w),(w.pubID!=null||w.sysID!=null)&&_.dtd(w)),E},tt.exports.begin=function(b,S,g){return f(b)&&([S,g]=[b,S],b={}),S?new s(b,S,g):new o(b)},tt.exports.stringWriter=function(b){return new l(b)},tt.exports.streamWriter=function(b,S){return new u(b,S)},tt.exports.implementation=new n,tt.exports.nodeType=t,tt.exports.writerState=e}).call(Vu)});var Ku=W(Gu=>{var Yu=Aa(),Lf=Hu();Gu.build=xf;function Mf(t){function e(n){return n<10?"0"+n:n}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"Z"}var Ff=Object.prototype.toString;function Qu(t){var e=Ff.call(t).match(/\[object (.*)\]/);return e&&e[1]}function xf(t,e){var n={version:"1.0",encoding:"UTF-8"},o={pubid:"-//Apple//DTD PLIST 1.0//EN",sysid:"http://www.apple.com/DTDs/PropertyList-1.0.dtd"},s=Lf.create("plist");return s.dec(n.version,n.encoding,n.standalone),s.dtd(o.pubid,o.sysid),s.att("version","1.0"),$i(t,s),e||(e={}),e.pretty=e.pretty!==!1,s.end(e)}function $i(t,e){var n,o,s,u=Qu(t);if(u!="Undefined")if(Array.isArray(t))for(e=e.ele("array"),o=0;o<t.length;o++)$i(t[o],e);else if(Buffer.isBuffer(t))e.ele("data").raw(t.toString("base64"));else if(u=="Object"){e=e.ele("dict");for(s in t)t.hasOwnProperty(s)&&(e.ele("key").txt(s),$i(t[s],e))}else u=="Number"?(n=t%1===0?"integer":"real",e.ele(n).txt(t.toString())):u=="Date"?e.ele("date").txt(Mf(new Date(t))):u=="Boolean"?e.ele(t?"true":"false"):u=="String"?e.ele("string").txt(t):u=="ArrayBuffer"?e.ele("data").raw(Yu.fromByteArray(t)):t&&t.buffer&&Qu(t.buffer)=="ArrayBuffer"?e.ele("data").raw(Yu.fromByteArray(new Uint8Array(t.buffer),e)):u==="Null"&&e.ele("null").txt("")}});var el=W(Vi=>{var Zu=Ra();Object.keys(Zu).forEach(function(t){Vi[t]=Zu[t]});var Ju=Ku();Object.keys(Ju).forEach(function(t){Vi[t]=Ju[t]})});var Xf={};oo(Xf,{default:()=>ol});module.exports=Lc(Xf);var G=require("@raycast/api"),Gi=require("react");var il=require("@raycast/api"),rt=require("react");var tl=require("@raycast/api");var jo=ve(require("node:http"),1),Wo=ve(require("node:https"),1),yt=ve(require("node:zlib"),1),me=ve(require("node:stream"),1),pr=require("node:buffer");function Mc(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let e=t.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let n=t.substring(5,e).split(";"),o="",s=!1,u=n[0]||"text/plain",l=u;for(let S=1;S<n.length;S++)n[S]==="base64"?s=!0:n[S]&&(l+=`;${n[S]}`,n[S].indexOf("charset=")===0&&(o=n[S].substring(8)));!n[0]&&!o.length&&(l+=";charset=US-ASCII",o="US-ASCII");let p=s?"base64":"ascii",f=unescape(t.substring(e+1)),b=Buffer.from(f,p);return b.type=u,b.typeFull=l,b.charset=o,b}var uo=Mc;var ge=ve(require("node:stream"),1),ke=require("node:util"),de=require("node:buffer");ur();un();var Be=class extends Error{constructor(e,n){super(e),Error.captureStackTrace(this,this.constructor),this.type=n}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var ue=class extends Be{constructor(e,n,o){super(e,n),o&&(this.code=this.errno=o.code,this.erroredSysCall=o.syscall)}};var ln=Symbol.toStringTag,gi=t=>typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&typeof t.sort=="function"&&t[ln]==="URLSearchParams",cr=t=>t&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[ln]),go=t=>typeof t=="object"&&(t[ln]==="AbortSignal"||t[ln]==="EventTarget"),wo=(t,e)=>{let n=new URL(e).hostname,o=new URL(t).hostname;return n===o||n.endsWith(`.${o}`)},So=(t,e)=>{let n=new URL(e).protocol,o=new URL(t).protocol;return n===o};var Qc=(0,ke.promisify)(ge.default.pipeline),le=Symbol("Body internals"),Oe=class{constructor(e,{size:n=0}={}){let o=null;e===null?e=null:gi(e)?e=de.Buffer.from(e.toString()):cr(e)||de.Buffer.isBuffer(e)||(ke.types.isAnyArrayBuffer(e)?e=de.Buffer.from(e):ArrayBuffer.isView(e)?e=de.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof ge.default||(e instanceof dt?(e=bo(e),o=e.type.split("=")[1]):e=de.Buffer.from(String(e))));let s=e;de.Buffer.isBuffer(e)?s=ge.default.Readable.from(e):cr(e)&&(s=ge.default.Readable.from(e.stream())),this[le]={body:e,stream:s,boundary:o,disturbed:!1,error:null},this.size=n,e instanceof ge.default&&e.on("error",u=>{let l=u instanceof Be?u:new ue(`Invalid response body while trying to fetch ${this.url}: ${u.message}`,"system",u);this[le].error=l})}get body(){return this[le].stream}get bodyUsed(){return this[le].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:n,byteLength:o}=await _i(this);return e.slice(n,n+o)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let o=new dt,s=new URLSearchParams(await this.text());for(let[u,l]of s)o.append(u,l);return o}let{toFormData:n}=await Promise.resolve().then(()=>(vo(),Do));return n(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[le].body&&this[le].body.type||"",n=await this.arrayBuffer();return new qe([n],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await _i(this);return new TextDecoder().decode(e)}buffer(){return _i(this)}};Oe.prototype.buffer=(0,ke.deprecate)(Oe.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Oe.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,ke.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function _i(t){if(t[le].disturbed)throw new TypeError(`body used already for: ${t.url}`);if(t[le].disturbed=!0,t[le].error)throw t[le].error;let{body:e}=t;if(e===null)return de.Buffer.alloc(0);if(!(e instanceof ge.default))return de.Buffer.alloc(0);let n=[],o=0;try{for await(let s of e){if(t.size>0&&o+s.length>t.size){let u=new ue(`content size at ${t.url} over limit: ${t.size}`,"max-size");throw e.destroy(u),u}o+=s.length,n.push(s)}}catch(s){throw s instanceof Be?s:new ue(`Invalid response body while trying to fetch ${t.url}: ${s.message}`,"system",s)}if(e.readableEnded===!0||e._readableState.ended===!0)try{return n.every(s=>typeof s=="string")?de.Buffer.from(n.join("")):de.Buffer.concat(n,o)}catch(s){throw new ue(`Could not create Buffer from response body for ${t.url}: ${s.message}`,"system",s)}else throw new ue(`Premature close of server response while trying to fetch ${t.url}`)}var Mt=(t,e)=>{let n,o,{body:s}=t[le];if(t.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof ge.default&&typeof s.getBoundary!="function"&&(n=new ge.PassThrough({highWaterMark:e}),o=new ge.PassThrough({highWaterMark:e}),s.pipe(n),s.pipe(o),t[le].stream=n,s=o),s},Gc=(0,ke.deprecate)(t=>t.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),dn=(t,e)=>t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":gi(t)?"application/x-www-form-urlencoded;charset=UTF-8":cr(t)?t.type||null:de.Buffer.isBuffer(t)||ke.types.isAnyArrayBuffer(t)||ArrayBuffer.isView(t)?null:t instanceof dt?`multipart/form-data; boundary=${e[le].boundary}`:t&&typeof t.getBoundary=="function"?`multipart/form-data;boundary=${Gc(t)}`:t instanceof ge.default?null:"text/plain;charset=UTF-8",Ro=t=>{let{body:e}=t[le];return e===null?0:cr(e)?e.size:de.Buffer.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null},Co=async(t,{body:e})=>{e===null?t.end():await Qc(e,t)};var Ti=require("node:util"),hr=ve(require("node:http"),1),pn=typeof hr.default.validateHeaderName=="function"?hr.default.validateHeaderName:t=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let e=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),e}},Ei=typeof hr.default.validateHeaderValue=="function"?hr.default.validateHeaderValue:(t,e)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(e)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}},pe=class t extends URLSearchParams{constructor(e){let n=[];if(e instanceof t){let o=e.raw();for(let[s,u]of Object.entries(o))n.push(...u.map(l=>[s,l]))}else if(e!=null)if(typeof e=="object"&&!Ti.types.isBoxedPrimitive(e)){let o=e[Symbol.iterator];if(o==null)n.push(...Object.entries(e));else{if(typeof o!="function")throw new TypeError("Header pairs must be iterable");n=[...e].map(s=>{if(typeof s!="object"||Ti.types.isBoxedPrimitive(s))throw new TypeError("Each header pair must be an iterable object");return[...s]}).map(s=>{if(s.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...s]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return n=n.length>0?n.map(([o,s])=>(pn(o),Ei(o,String(s)),[String(o).toLowerCase(),String(s)])):void 0,super(n),new Proxy(this,{get(o,s,u){switch(s){case"append":case"set":return(l,p)=>(pn(l),Ei(l,String(p)),URLSearchParams.prototype[s].call(o,String(l).toLowerCase(),String(p)));case"delete":case"has":case"getAll":return l=>(pn(l),URLSearchParams.prototype[s].call(o,String(l).toLowerCase()));case"keys":return()=>(o.sort(),new Set(URLSearchParams.prototype.keys.call(o)).keys());default:return Reflect.get(o,s,u)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let n=this.getAll(e);if(n.length===0)return null;let o=n.join(", ");return/^content-encoding$/i.test(e)&&(o=o.toLowerCase()),o}forEach(e,n=void 0){for(let o of this.keys())Reflect.apply(e,n,[this.get(o),o,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,n)=>(e[n]=this.getAll(n),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,n)=>{let o=this.getAll(n);return n==="host"?e[n]=o[0]:e[n]=o.length>1?o:o[0],e},{})}};Object.defineProperties(pe.prototype,["get","entries","forEach","values"].reduce((t,e)=>(t[e]={enumerable:!0},t),{}));function No(t=[]){return new pe(t.reduce((e,n,o,s)=>(o%2===0&&e.push(s.slice(o,o+2)),e),[]).filter(([e,n])=>{try{return pn(e),Ei(e,String(n)),!0}catch{return!1}}))}var Kc=new Set([301,302,303,307,308]),mn=t=>Kc.has(t);var Re=Symbol("Response internals"),we=class t extends Oe{constructor(e=null,n={}){super(e,n);let o=n.status!=null?n.status:200,s=new pe(n.headers);if(e!==null&&!s.has("Content-Type")){let u=dn(e,this);u&&s.append("Content-Type",u)}this[Re]={type:"default",url:n.url,status:o,statusText:n.statusText||"",headers:s,counter:n.counter,highWaterMark:n.highWaterMark}}get type(){return this[Re].type}get url(){return this[Re].url||""}get status(){return this[Re].status}get ok(){return this[Re].status>=200&&this[Re].status<300}get redirected(){return this[Re].counter>0}get statusText(){return this[Re].statusText}get headers(){return this[Re].headers}get highWaterMark(){return this[Re].highWaterMark}clone(){return new t(Mt(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,n=302){if(!mn(n))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new t(null,{headers:{location:new URL(e).toString()},status:n})}static error(){let e=new t(null,{status:0,statusText:""});return e[Re].type="error",e}static json(e=void 0,n={}){let o=JSON.stringify(e);if(o===void 0)throw new TypeError("data is not JSON serializable");let s=new pe(n&&n.headers);return s.has("content-type")||s.set("content-type","application/json"),new t(o,{...n,headers:s})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(we.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var qo=require("node:url"),Bo=require("node:util");var Ao=t=>{if(t.search)return t.search;let e=t.href.length-1,n=t.hash||(t.href[e]==="#"?"#":"");return t.href[e-n.length]==="?"?"?":""};var Io=require("node:net");function Oo(t,e=!1){return t==null||(t=new URL(t),/^(about|blob|data):$/.test(t.protocol))?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t)}var Po=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Lo="strict-origin-when-cross-origin";function Mo(t){if(!Po.has(t))throw new TypeError(`Invalid referrerPolicy: ${t}`);return t}function Zc(t){if(/^(http|ws)s:$/.test(t.protocol))return!0;let e=t.host.replace(/(^\[)|(]$)/g,""),n=(0,Io.isIP)(e);return n===4&&/^127\./.test(e)||n===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(e)?!0:t.host==="localhost"||t.host.endsWith(".localhost")?!1:t.protocol==="file:"}function Ft(t){return/^about:(blank|srcdoc)$/.test(t)||t.protocol==="data:"||/^(blob|filesystem):$/.test(t.protocol)?!0:Zc(t)}function Fo(t,{referrerURLCallback:e,referrerOriginCallback:n}={}){if(t.referrer==="no-referrer"||t.referrerPolicy==="")return null;let o=t.referrerPolicy;if(t.referrer==="about:client")return"no-referrer";let s=t.referrer,u=Oo(s),l=Oo(s,!0);u.toString().length>4096&&(u=l),e&&(u=e(u)),n&&(l=n(l));let p=new URL(t.url);switch(o){case"no-referrer":return"no-referrer";case"origin":return l;case"unsafe-url":return u;case"strict-origin":return Ft(u)&&!Ft(p)?"no-referrer":l.toString();case"strict-origin-when-cross-origin":return u.origin===p.origin?u:Ft(u)&&!Ft(p)?"no-referrer":l;case"same-origin":return u.origin===p.origin?u:"no-referrer";case"origin-when-cross-origin":return u.origin===p.origin?u:l;case"no-referrer-when-downgrade":return Ft(u)&&!Ft(p)?"no-referrer":u;default:throw new TypeError(`Invalid referrerPolicy: ${o}`)}}function xo(t){let e=(t.get("referrer-policy")||"").split(/[,\s]+/),n="";for(let o of e)o&&Po.has(o)&&(n=o);return n}var re=Symbol("Request internals"),dr=t=>typeof t=="object"&&typeof t[re]=="object",Jc=(0,Bo.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),mt=class t extends Oe{constructor(e,n={}){let o;if(dr(e)?o=new URL(e.url):(o=new URL(e),e={}),o.username!==""||o.password!=="")throw new TypeError(`${o} is an url with embedded credentials.`);let s=n.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(s)&&(s=s.toUpperCase()),!dr(n)&&"data"in n&&Jc(),(n.body!=null||dr(e)&&e.body!==null)&&(s==="GET"||s==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let u=n.body?n.body:dr(e)&&e.body!==null?Mt(e):null;super(u,{size:n.size||e.size||0});let l=new pe(n.headers||e.headers||{});if(u!==null&&!l.has("Content-Type")){let b=dn(u,this);b&&l.set("Content-Type",b)}let p=dr(e)?e.signal:null;if("signal"in n&&(p=n.signal),p!=null&&!go(p))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let f=n.referrer==null?e.referrer:n.referrer;if(f==="")f="no-referrer";else if(f){let b=new URL(f);f=/^about:(\/\/)?client$/.test(b)?"client":b}else f=void 0;this[re]={method:s,redirect:n.redirect||e.redirect||"follow",headers:l,parsedURL:o,signal:p,referrer:f},this.follow=n.follow===void 0?e.follow===void 0?20:e.follow:n.follow,this.compress=n.compress===void 0?e.compress===void 0?!0:e.compress:n.compress,this.counter=n.counter||e.counter||0,this.agent=n.agent||e.agent,this.highWaterMark=n.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=n.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=n.referrerPolicy||e.referrerPolicy||""}get method(){return this[re].method}get url(){return(0,qo.format)(this[re].parsedURL)}get headers(){return this[re].headers}get redirect(){return this[re].redirect}get signal(){return this[re].signal}get referrer(){if(this[re].referrer==="no-referrer")return"";if(this[re].referrer==="client")return"about:client";if(this[re].referrer)return this[re].referrer.toString()}get referrerPolicy(){return this[re].referrerPolicy}set referrerPolicy(e){this[re].referrerPolicy=Mo(e)}clone(){return new t(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(mt.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var ko=t=>{let{parsedURL:e}=t[re],n=new pe(t[re].headers);n.has("Accept")||n.set("Accept","*/*");let o=null;if(t.body===null&&/^(post|put)$/i.test(t.method)&&(o="0"),t.body!==null){let p=Ro(t);typeof p=="number"&&!Number.isNaN(p)&&(o=String(p))}o&&n.set("Content-Length",o),t.referrerPolicy===""&&(t.referrerPolicy=Lo),t.referrer&&t.referrer!=="no-referrer"?t[re].referrer=Fo(t):t[re].referrer="no-referrer",t[re].referrer instanceof URL&&n.set("Referer",t.referrer),n.has("User-Agent")||n.set("User-Agent","node-fetch"),t.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip, deflate, br");let{agent:s}=t;typeof s=="function"&&(s=s(e)),!n.has("Connection")&&!s&&n.set("Connection","close");let u=Ao(e),l={path:e.pathname+u,method:t.method,headers:n[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:t.insecureHTTPParser,agent:s};return{parsedURL:e,options:l}};var yn=class extends Be{constructor(e,n="aborted"){super(e,n)}};un();wi();var ef=new Set(["data:","http:","https:"]);async function bn(t,e){return new Promise((n,o)=>{let s=new mt(t,e),{parsedURL:u,options:l}=ko(s);if(!ef.has(u.protocol))throw new TypeError(`node-fetch cannot load ${t}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if(u.protocol==="data:"){let E=uo(s.url),P=new we(E,{headers:{"Content-Type":E.typeFull}});n(P);return}let p=(u.protocol==="https:"?Wo.default:jo.default).request,{signal:f}=s,b=null,S=()=>{let E=new yn("The operation was aborted.");o(E),s.body&&s.body instanceof me.default.Readable&&s.body.destroy(E),!(!b||!b.body)&&b.body.emit("error",E)};if(f&&f.aborted){S();return}let g=()=>{S(),_()},w=p(u.toString(),l);f&&f.addEventListener("abort",g);let _=()=>{w.abort(),f&&f.removeEventListener("abort",g)};w.on("error",E=>{o(new ue(`request to ${s.url} failed, reason: ${E.message}`,"system",E)),_()}),tf(w,E=>{b&&b.body&&b.body.destroy(E)}),process.version<"v14"&&w.on("socket",E=>{let P;E.prependListener("end",()=>{P=E._eventsCount}),E.prependListener("close",I=>{if(b&&P<E._eventsCount&&!I){let M=new Error("Premature close");M.code="ERR_STREAM_PREMATURE_CLOSE",b.body.emit("error",M)}})}),w.on("response",E=>{w.setTimeout(0);let P=No(E.rawHeaders);if(mn(E.statusCode)){let d=P.get("Location"),R=null;try{R=d===null?null:new URL(d,s.url)}catch{if(s.redirect!=="manual"){o(new ue(`uri requested responds with an invalid redirect URL: ${d}`,"invalid-redirect")),_();return}}switch(s.redirect){case"error":o(new ue(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),_();return;case"manual":break;case"follow":{if(R===null)break;if(s.counter>=s.follow){o(new ue(`maximum redirect reached at: ${s.url}`,"max-redirect")),_();return}let c={headers:new pe(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:Mt(s),signal:s.signal,size:s.size,referrer:s.referrer,referrerPolicy:s.referrerPolicy};if(!wo(s.url,R)||!So(s.url,R))for(let C of["authorization","www-authenticate","cookie","cookie2"])c.headers.delete(C);if(E.statusCode!==303&&s.body&&e.body instanceof me.default.Readable){o(new ue("Cannot follow redirect with body being a readable stream","unsupported-redirect")),_();return}(E.statusCode===303||(E.statusCode===301||E.statusCode===302)&&s.method==="POST")&&(c.method="GET",c.body=void 0,c.headers.delete("content-length"));let D=xo(P);D&&(c.referrerPolicy=D),n(bn(new mt(R,c))),_();return}default:return o(new TypeError(`Redirect option '${s.redirect}' is not a valid value of RequestRedirect`))}}f&&E.once("end",()=>{f.removeEventListener("abort",g)});let I=(0,me.pipeline)(E,new me.PassThrough,d=>{d&&o(d)});process.version<"v12.10"&&E.on("aborted",g);let M={url:s.url,status:E.statusCode,statusText:E.statusMessage,headers:P,size:s.size,counter:s.counter,highWaterMark:s.highWaterMark},z=P.get("Content-Encoding");if(!s.compress||s.method==="HEAD"||z===null||E.statusCode===204||E.statusCode===304){b=new we(I,M),n(b);return}let y={flush:yt.default.Z_SYNC_FLUSH,finishFlush:yt.default.Z_SYNC_FLUSH};if(z==="gzip"||z==="x-gzip"){I=(0,me.pipeline)(I,yt.default.createGunzip(y),d=>{d&&o(d)}),b=new we(I,M),n(b);return}if(z==="deflate"||z==="x-deflate"){let d=(0,me.pipeline)(E,new me.PassThrough,R=>{R&&o(R)});d.once("data",R=>{(R[0]&15)===8?I=(0,me.pipeline)(I,yt.default.createInflate(),c=>{c&&o(c)}):I=(0,me.pipeline)(I,yt.default.createInflateRaw(),c=>{c&&o(c)}),b=new we(I,M),n(b)}),d.once("end",()=>{b||(b=new we(I,M),n(b))});return}if(z==="br"){I=(0,me.pipeline)(I,yt.default.createBrotliDecompress(),d=>{d&&o(d)}),b=new we(I,M),n(b);return}b=new we(I,M),n(b)}),Co(w,s).catch(o)})}function tf(t,e){let n=pr.Buffer.from(`0\r
\r
`),o=!1,s=!1,u;t.on("response",l=>{let{headers:p}=l;o=p["transfer-encoding"]==="chunked"&&!p["content-length"]}),t.on("socket",l=>{let p=()=>{if(o&&!s){let b=new Error("Premature close");b.code="ERR_STREAM_PREMATURE_CLOSE",e(b)}},f=b=>{s=pr.Buffer.compare(b.slice(-5),n)===0,!s&&u&&(s=pr.Buffer.compare(u.slice(-3),n.slice(0,3))===0&&pr.Buffer.compare(b.slice(-2),n.slice(3))===0),u=b};l.prependListener("close",p),l.on("data",f),t.on("close",()=>{l.removeListener("close",p),l.removeListener("data",f)})})}var jn=ve(require("fs")),Yi=ve(require("path")),rl=ve(el()),Hi=new tl.Cache;async function qf(){let e=await(await bn("https://store.setapp.com/store/api/v8/en")).json(),n=[],o=[],s=(l,p,f)=>({id:l.id,name:l.attributes.name,icon:l.attributes.icon,bundle_id:l.attributes.bundle_id,sharing_url:l.attributes.sharing_url,marketing_url:l.attributes.marketing_url,tag_line:l.attributes.tag_line,description:l.attributes.description,vendor_id:p,type:f}),u=e.data.relationships.vendors.data;for(let l=0;l<u.length;l++){let p=u[l];n.push({id:p.id,name:p.attributes.name}),p.relationships.applications.data.forEach(f=>{o.push(s(f,p.id,"app"))}),p.relationships.mobile_applications.data.forEach(f=>{o.push(s(f,p.id,"mobile_app"))})}return o}async function Bf(){let t="/Applications/Setapp.app";try{return await jn.default.promises.access(t),!0}catch{return!1}}async function kf(){let t="/Applications/Setapp";try{let e=await jn.default.promises.readdir(t),n=[];for(let o=0;o<e.length;o++){let s=e[o].trim();if(s==="Icon")continue;let u=Yi.default.join(t,s,"Contents","Info.plist");try{let l=rl.default.parse(jn.default.readFileSync(u,"utf8"));l&&n.push({bundle_id:l.CFBundleIdentifier,path:Yi.default.join(t,s)})}catch(l){console.error(l)}}return n}catch(e){return console.error(e),[]}}var jf=(t,e)=>t.map(n=>e.map(o=>o.bundle_id).includes(n.bundle_id)?{...n,installed:!0,path:e.find(o=>o.bundle_id===n.bundle_id)?.path}:n);async function nl(){let t=await qf(),e=await Bf();Hi.set("setappInstalled",e.toString());let n=await kf(),o=jf(t,n);return Hi.set("apps",JSON.stringify(o)),Hi.set("lastSync",Date.now().toString()),t}var Qi=new il.Cache,Wf=30*60*1e3;function sl(t,e="all"){let[n,o]=(0,rt.useState)(!0),[s,u]=(0,rt.useState)(!1),[l,p]=(0,rt.useState)([]),f=(0,rt.useCallback)(async()=>{o(!0);try{let b=JSON.parse(Qi.get("apps")||"[]"),S=Qi.get("lastSync"),g=!S||Date.now()-parseInt(S)>Wf;(b.length===0||g)&&(b=await nl());let w=b.filter(E=>E.name.toLowerCase().includes(t.toLowerCase()));e!=="all"&&(w=w.filter(E=>{switch(e){case"installed":return E.installed;case"not-installed":return!E.installed;case"mobile-apps":return E.type==="mobile_app";case"desktop-apps":return E.type==="app";default:return!0}})),p(w);let _=Qi.get("setappInstalled")==="true";u(_)}catch(b){console.error(b)}finally{o(!1)}},[t,e]);return(0,rt.useEffect)(()=>{f()},[f]),{isLoading:n,data:l,isSetappInstalled:s}}var te=require("react/jsx-runtime");function ol(){let[t,e]=(0,Gi.useState)(""),[n,o]=(0,Gi.useState)("all"),{isLoading:s,data:u,isSetappInstalled:l}=sl(t||"",n);return console.log("isSetappInstalled",l),(0,te.jsx)(G.List,{isLoading:s,searchText:t,onSearchTextChange:e,searchBarPlaceholder:"Search Setapp apps...",searchBarAccessory:(0,te.jsx)(Uf,{onFilterChange:p=>o(p)}),throttle:!0,children:(0,te.jsx)(G.List.Section,{title:"Results",subtitle:u?.length+"",children:u?.map(p=>(0,te.jsx)(zf,{app:p,setappInstalled:l},`${p.type}-${p.name}`))})})}function Uf(t){let{onFilterChange:e}=t;return(0,te.jsxs)(G.List.Dropdown,{tooltip:"Filter by installed status",storeValue:!0,onChange:n=>e(n),children:[(0,te.jsx)(G.List.Dropdown.Item,{title:"All",value:"all"}),(0,te.jsxs)(G.List.Dropdown.Section,{title:"Filter by installed status",children:[(0,te.jsx)(G.List.Dropdown.Item,{title:"Installed",value:"installed"}),(0,te.jsx)(G.List.Dropdown.Item,{title:"Not Installed",value:"not-installed"})]}),(0,te.jsxs)(G.List.Dropdown.Section,{title:"Filter by app type",children:[(0,te.jsx)(G.List.Dropdown.Item,{title:"Mobile Apps",value:"mobile-apps"}),(0,te.jsx)(G.List.Dropdown.Item,{title:"Desktop Apps",value:"desktop-apps"})]})]})}function zf({app:t,setappInstalled:e}){let n=[];return t.installed&&n.push({tag:{value:"Installed",color:G.Color.Green}}),t.type==="mobile_app"&&n.push({icon:G.Icon.Mobile,tooltip:"Mobile App"}),(0,te.jsx)(G.List.Item,{title:t.name,subtitle:t.description,icon:{source:t.icon},accessories:n,actions:(0,te.jsx)(G.ActionPanel,{children:(0,te.jsxs)(G.ActionPanel.Section,{children:[e&&(0,te.jsx)(G.Action.Open,{title:`Open ${t.name}`,target:`setapp://launch/${t.id}`}),(0,te.jsx)(G.Action.OpenInBrowser,{title:"Open in Browser",url:t.marketing_url}),(0,te.jsx)(G.Action.OpenInBrowser,{title:"Open in Browser (Setapp Page)",url:t.sharing_url})]})})})}
/*! Bundled license information:

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)
*/
